{
  "version": 3,
  "sources": [],
  "debugId": "d44d6a58-d251-6ec9-8102-1c574696d548",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/db/schema/index.ts"],"sourcesContent":["/**\n * Drizzle schema (Phase 1).\n *\n * After running introspect with DB running:\n *   npm run drizzle:pull\n * Generated files appear in ./drizzle/ (schema and relations).\n * Copy or merge drizzle/schema.ts and drizzle/relations.ts into this folder\n * and re-export here. Until then, this is a minimal placeholder so the config and client load.\n */\nimport { pgTable, text, timestamp } from 'drizzle-orm/pg-core'\n\n// Placeholder table so schema file is valid. Remove after introspect + copy from drizzle/ output.\nexport const _drizzlePlaceholder = pgTable('_drizzle_placeholder', {\n  id: text('id').primaryKey(),\n  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow(),\n})\n"],"names":[],"mappings":";;;;AAAA;;;;;;;;CAQC,GACD;AAAA;AAAA;;AAGO,MAAM,sBAAsB,IAAA,8MAAO,EAAC,wBAAwB;IACjE,IAAI,IAAA,qNAAI,EAAC,MAAM,UAAU;IACzB,WAAW,IAAA,+NAAS,EAAC,cAAc;QAAE,cAAc;IAAK,GAAG,UAAU;AACvE"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/db/drizzle.ts"],"sourcesContent":["/**\n * Drizzle ORM client (Phase 1).\n * Use this for new code; existing app still uses Prisma via db from index.ts until Phase 3‚Äì4.\n */\nimport { drizzle } from 'drizzle-orm/node-postgres'\nimport { Pool } from 'pg'\nimport * as schema from './schema'\n\nconst connectionString =\n  process.env.DATABASE_POOL_URL || process.env.DIRECT_URL || process.env.DATABASE_URL\n\nif (!connectionString) {\n  throw new Error(\n    'Missing database URL. Set DATABASE_URL, DIRECT_URL, or DATABASE_POOL_URL in .env or .env.local'\n  )\n}\n\n// Singleton pool for server (avoid many connections in dev)\nconst globalForDrizzle = globalThis as unknown as { drizzlePool: Pool | undefined }\n\nconst pool =\n  globalForDrizzle.drizzlePool ??\n  new Pool({\n    connectionString,\n    max: 50,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 5000,\n  })\n\nif (process.env.NODE_ENV !== 'production') {\n  globalForDrizzle.drizzlePool = pool\n}\n\n/**\n * Drizzle DB client with schema (for relational queries).\n * Import as: import { drizzleDb } from '@/lib/db'\n */\nexport const drizzleDb = drizzle(pool, { schema })\n\nexport type DrizzleDb = typeof drizzleDb\n"],"names":[],"mappings":";;;;AASE;AATF;;;CAGC,GACD;AACA;AACA;;;;AAEA,MAAM,mBACJ,sNAAO,CAAC,GAAG,CAAC,iBAAiB,IAAI,sNAAO,CAAC,GAAG,CAAC,UAAU,IAAI,sNAAO,CAAC,GAAG,CAAC,YAAY;AAErF,IAAI,CAAC,kBAAkB;IACrB,MAAM,IAAI,MACR;AAEJ;AAEA,4DAA4D;AAC5D,MAAM,mBAAmB;AAEzB,MAAM,OACJ,iBAAiB,WAAW,IAC5B,IAAI,yLAAI,CAAC;IACP;IACA,KAAK;IACL,mBAAmB;IACnB,yBAAyB;AAC3B;AAEF,wCAA2C;IACzC,iBAAiB,WAAW,GAAG;AACjC;AAMO,MAAM,YAAY,IAAA,qNAAO,EAAC,MAAM;IAAE,QAAA;AAAO"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/db/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-require-imports */\n\n/**\n * Database Client with Connection Pooling\n * \n * Features:\n * - Connection pooling for high concurrency (100+ users)\n * - Query caching with Redis\n * - Read replica support for scaling\n * - N+1 query prevention with dataloaders\n * \n * Note: Redis is lazily initialized to avoid bundling issues\n */\n\n// Connection pool configuration\nconst POOL_CONFIG = {\n  // Connection pool settings for 100+ concurrent users\n  min: 5,                    // Minimum connections\n  max: 50,                   // Maximum connections (supports 100+ concurrent users)\n  idleTimeoutMillis: 30000,  // Close idle connections after 30s\n  connectionTimeoutMillis: 5000, // Connection timeout\n  allowExitOnIdle: false,    // Keep pool alive\n}\n\n// Query cache configuration\nconst CACHE_CONFIG = {\n  ttl: 60,                   // Default cache TTL in seconds\n  staleWhileRevalidate: 30,  // Serve stale data while refreshing\n  prefix: 'tutorme:query:',  // Cache key prefix\n}\n\nlet db: any\nlet redis: any | null = null\nlet queryCache: Map<string, { data: any; expires: number }> | null = null\nlet redisInitialized = false\n\n// Safe check for server-side environment (not Edge Runtime)\n// Edge Runtime (used by Next.js middleware) doesn't support Prisma Client\nconst isEdgeRuntime = typeof (globalThis as any).EdgeRuntime !== 'undefined' || \n  (typeof process !== 'undefined' && process.env.NEXT_RUNTIME === 'edge')\nconst isServer = typeof window === 'undefined' && !isEdgeRuntime\n\n// Initialize in-memory cache only on server\nfunction getQueryCache() {\n  if (!isServer) return null\n  if (!queryCache) {\n    queryCache = new Map()\n  }\n  return queryCache\n}\n\n// Initialize Redis client if available (server-side only)\nasync function initRedis() {\n  if (!isServer) return null\n  if (redisInitialized) return redis\n  \n  try {\n    const redisUrl = process.env.REDIS_URL\n    if (!redisUrl) {\n      console.log('[DB] Redis URL not configured, using in-memory cache')\n      redisInitialized = true\n      return null\n    }\n    \n    // Dynamic import to avoid bundling issues\n    const { Redis } = await import('ioredis')\n    redis = new Redis(redisUrl, {\n      retryStrategy: (times) => Math.min(times * 50, 2000),\n      maxRetriesPerRequest: 3,\n    })\n    \n    redis.on('error', (err: any) => {\n      console.error('[Redis] Connection error:', err)\n      redis = null\n    })\n    \n    console.log('[DB] Redis cache initialized')\n    redisInitialized = true\n    return redis\n  } catch (e) {\n    console.warn('[DB] Failed to initialize Redis, using in-memory cache')\n    redisInitialized = true\n    return null\n  }\n}\n\n// Initialize Prisma Client with connection pooling (server-side only)\nif (isServer) {\n  try {\n    const { PrismaClient } = require('@prisma/client')\n    \n    const globalForPrisma = globalThis as unknown as {\n      prisma: typeof PrismaClient | undefined\n      redis: any | null\n      redisInitialized: boolean\n    }\n    \n    // Initialize Redis on first use (lazy initialization)\n    if (globalForPrisma.redisInitialized) {\n      redis = globalForPrisma.redis\n      redisInitialized = true\n    }\n    \n    if (process.env.NODE_ENV !== 'production') {\n      globalForPrisma.redis = redis\n      globalForPrisma.redisInitialized = redisInitialized\n    }\n    \n    // Initialize Prisma with connection pooling\n    if (globalForPrisma.prisma) {\n      db = globalForPrisma.prisma\n    } else {\n      db = new PrismaClient({\n        log: process.env.NODE_ENV === 'development' \n          ? ['query', 'error', 'warn'] \n          : ['error'],\n        \n        // Connection pooling configuration\n        datasources: {\n          db: {\n            url: process.env.DATABASE_URL,\n          },\n        },\n      })\n      \n      // Add connection pool monitoring\n      db.$on('query', (e: any) => {\n        if (process.env.NODE_ENV === 'development') {\n          console.log('[Prisma Query]', e.query, `${e.duration}ms`)\n        }\n      })\n      \n      if (process.env.NODE_ENV !== 'production') {\n        globalForPrisma.prisma = db\n      }\n    }\n    \n    console.log('[DB] Prisma Client initialized with connection pooling')\n  } catch (e) {\n    console.error('[DB] Failed to initialize Prisma:', e)\n    // Fallback for build time\n    db = {\n      $connect: async () => {},\n      $disconnect: async () => {},\n    }\n  }\n} else {\n  // Client-side mock\n  db = {\n    $connect: async () => {},\n    $disconnect: async () => {},\n  }\n}\n\n/**\n * Cache utilities\n */\nexport const cache = {\n  /**\n   * Ensure Redis is initialized\n   */\n  async ensureRedis() {\n    if (!isServer) return null\n    if (!redisInitialized) {\n      await initRedis()\n    }\n    return redis\n  },\n\n  /**\n   * Get cached value\n   */\n  async get<T>(key: string): Promise<T | null> {\n    if (!isServer) return null\n    \n    const fullKey = CACHE_CONFIG.prefix + key\n    \n    // Try Redis first\n    const client = await this.ensureRedis()\n    if (client) {\n      try {\n        const value = await client.get(fullKey)\n        if (value) return JSON.parse(value)\n      } catch (e) {\n        console.error('[Cache] Redis get error:', e)\n      }\n    }\n    \n    // Fallback to in-memory cache\n    const cache = getQueryCache()\n    if (!cache) return null\n    \n    const cached = cache.get(fullKey)\n    if (cached && cached.expires > Date.now()) {\n      return cached.data\n    }\n    \n    cache.delete(fullKey)\n    return null\n  },\n  \n  /**\n   * Set cached value\n   */\n  async set<T>(key: string, value: T, ttlSeconds = CACHE_CONFIG.ttl): Promise<void> {\n    if (!isServer) return\n    \n    const fullKey = CACHE_CONFIG.prefix + key\n    \n    // Try Redis first\n    const client = await this.ensureRedis()\n    if (client) {\n      try {\n        await client.setex(fullKey, ttlSeconds, JSON.stringify(value))\n        return\n      } catch (e) {\n        console.error('[Cache] Redis set error:', e)\n      }\n    }\n    \n    // Fallback to in-memory cache\n    const cache = getQueryCache()\n    if (cache) {\n      cache.set(fullKey, {\n        data: value,\n        expires: Date.now() + ttlSeconds * 1000\n      })\n    }\n  },\n  \n  /**\n   * Delete cached value\n   */\n  async delete(key: string): Promise<void> {\n    if (!isServer) return\n    \n    const fullKey = CACHE_CONFIG.prefix + key\n    \n    const client = await this.ensureRedis()\n    if (client) {\n      try {\n        await client.del(fullKey)\n      } catch (e) {\n        console.error('[Cache] Redis del error:', e)\n      }\n    }\n    \n    const cache = getQueryCache()\n    if (cache) cache.delete(fullKey)\n  },\n  \n  /**\n   * Clear all cached values\n   */\n  async clear(): Promise<void> {\n    if (!isServer) return\n    \n    const client = await this.ensureRedis()\n    if (client) {\n      try {\n        const keys = await client.keys(CACHE_CONFIG.prefix + '*')\n        if (keys.length > 0) {\n          await client.del(...keys)\n        }\n      } catch (e) {\n        console.error('[Cache] Redis clear error:', e)\n      }\n    }\n    \n    const cache = getQueryCache()\n    if (cache) cache.clear()\n  },\n  \n  /**\n   * Get or set cached value\n   */\n  async getOrSet<T>(\n    key: string,\n    factory: () => Promise<T>,\n    ttlSeconds = CACHE_CONFIG.ttl\n  ): Promise<T> {\n    const cached = await this.get<T>(key)\n    if (cached !== null) return cached\n    \n    const value = await factory()\n    await this.set(key, value, ttlSeconds)\n    return value\n  },\n\n  /**\n   * Invalidate cache for a pattern\n   */\n  async invalidatePattern(pattern: string): Promise<void> {\n    if (!isServer) return\n    \n    const client = await this.ensureRedis()\n    if (client) {\n      try {\n        const keys = await client.keys(CACHE_CONFIG.prefix + pattern)\n        if (keys.length > 0) {\n          await client.del(...keys)\n        }\n      } catch (e) {\n        console.error('[Cache] Pattern invalidation error:', e)\n      }\n    }\n    \n    // Clear in-memory cache matching pattern\n    const cache = getQueryCache()\n    if (cache) {\n      const regex = new RegExp(CACHE_CONFIG.prefix + pattern.replace('*', '.*'))\n      for (const key of cache.keys()) {\n        if (regex.test(key)) cache.delete(key)\n      }\n    }\n  }\n}\n\n/**\n * Query optimization utilities\n */\nexport const queryOptimizer = {\n  /**\n   * Batch load function for N+1 prevention\n   */\n  async batchLoad<T>(\n    ids: string[],\n    fetchFn: (ids: string[]) => Promise<T[]>,\n    getId: (item: T) => string\n  ): Promise<(T | null)[]> {\n    if (!isServer) return ids.map(() => null)\n    if (ids.length === 0) return []\n    \n    // Deduplicate IDs\n    const uniqueIds = [...new Set(ids)]\n    \n    // Fetch all items in one query\n    const items = await fetchFn(uniqueIds)\n    \n    // Create lookup map\n    const itemMap = new Map(items.map(item => [getId(item), item]))\n    \n    // Return items in original order\n    return ids.map(id => itemMap.get(id) || null)\n  },\n  \n  /**\n   * Wrap a query with caching\n   */\n  async cachedQuery<T>(\n    cacheKey: string,\n    queryFn: () => Promise<T>,\n    ttlSeconds = CACHE_CONFIG.ttl\n  ): Promise<T> {\n    return cache.getOrSet(cacheKey, queryFn, ttlSeconds)\n  }\n}\n\n/**\n * Read replica support (for future scaling)\n */\nexport const readReplica = {\n  /**\n   * Check if read replicas are configured\n   */\n  isConfigured(): boolean {\n    return isServer && !!process.env.DATABASE_READ_REPLICA_URL\n  },\n  \n  /**\n   * Get read-only database client\n   * Falls back to primary if replicas not configured\n   */\n  getClient() {\n    // For now, return the same client\n    // In production, this would return a connection to the read replica\n    return db\n  }\n}\n\nexport { db }\n/** Alias for code that imports prisma from @/lib/db */\nexport const prisma = db\n\n/** Drizzle ORM client (Phase 1 migration). Use for new code; existing code still uses db (Prisma). */\nexport { drizzleDb } from './drizzle'\nexport type { DrizzleDb } from './drizzle'\n\n// Re-export Prisma types (will be empty on client)\nexport * from '@prisma/client'\n"],"names":[],"mappings":";;;;;;;;;;;;AA+WyB;AAkBzB,oGAAoG,GACpG;AAlYA,qDAAqD,GACrD,wDAAwD,GAExD;;;;;;;;;;CAUC,GAED,gCAAgC;AAChC,MAAM,cAAc;IAClB,qDAAqD;IACrD,KAAK;IACL,KAAK;IACL,mBAAmB;IACnB,yBAAyB;IACzB,iBAAiB;AACnB;AAEA,4BAA4B;AAC5B,MAAM,eAAe;IACnB,KAAK;IACL,sBAAsB;IACtB,QAAQ;AACV;AAEA,IAAI;AACJ,IAAI,QAAoB;AACxB,IAAI,aAAiE;AACrE,IAAI,mBAAmB;AAEvB,4DAA4D;AAC5D,0EAA0E;AAC1E,MAAM,gBAAgB,OAAO,AAAC,WAAmB,WAAW,KAAK,eAC9D,OAAO,sNAAO,KAAK,eAAe,yCAA6B;AAClE,MAAM,WAAW,+CAAkB,eAAe,CAAC;AAEnD,4CAA4C;AAC5C,SAAS;IACP,wCAAe,OAAO;;;AAKxB;AAEA,0DAA0D;AAC1D,eAAe;IACb,wCAAe,OAAO;;;AA+BxB;AAEA,sEAAsE;AACtE;;KA2DO;IACL,mBAAmB;IACnB,KAAK;QACH,UAAU,WAAa;QACvB,aAAa,WAAa;IAC5B;AACF;AAKO,MAAM,QAAQ;IACnB;;GAEC,GACD,MAAM;QACJ,wCAAe,OAAO;;;IAKxB;IAEA;;GAEC,GACD,MAAM,KAAO,GAAW;QACtB,wCAAe,OAAO;;;QAEtB,MAAM;QAEN,kBAAkB;QAClB,MAAM;QAUN,8BAA8B;QAC9B,MAAM;QAGN,MAAM;IAOR;IAEA;;GAEC,GACD,MAAM,KAAO,GAAW,EAAE,KAAQ,EAAE,aAAa,aAAa,GAAG;QAC/D,wCAAe;;;QAEf,MAAM;QAEN,kBAAkB;QAClB,MAAM;QAUN,8BAA8B;QAC9B,MAAM;IAOR;IAEA;;GAEC,GACD,MAAM,QAAO,GAAW;QACtB,wCAAe;;;QAEf,MAAM;QAEN,MAAM;QASN,MAAM;IAER;IAEA;;GAEC,GACD,MAAM;QACJ,wCAAe;;;QAEf,MAAM;QAYN,MAAM;IAER;IAEA;;GAEC,GACD,MAAM,UACJ,GAAW,EACX,OAAyB,EACzB,aAAa,aAAa,GAAG;QAE7B,MAAM,SAAS,MAAM,IAAI,CAAC,GAAG,CAAI;QACjC,IAAI,WAAW,MAAM,OAAO;QAE5B,MAAM,QAAQ,MAAM;QACpB,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,OAAO;QAC3B,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,mBAAkB,OAAe;QACrC,wCAAe;;;QAEf,MAAM;QAYN,yCAAyC;QACzC,MAAM;IAOR;AACF;AAKO,MAAM,iBAAiB;IAC5B;;GAEC,GACD,MAAM,WACJ,GAAa,EACb,OAAwC,EACxC,KAA0B;QAE1B,wCAAe,OAAO,IAAI,GAAG,CAAC,IAAM;;;QAGpC,kBAAkB;QAClB,MAAM;QAEN,+BAA+B;QAC/B,MAAM;QAEN,oBAAoB;QACpB,MAAM;IAIR;IAEA;;GAEC,GACD,MAAM,aACJ,QAAgB,EAChB,OAAyB,EACzB,aAAa,aAAa,GAAG;QAE7B,OAAO,MAAM,QAAQ,CAAC,UAAU,SAAS;IAC3C;AACF;AAKO,MAAM,cAAc;IACzB;;GAEC,GACD;QACE,OAAO,YAAY,CAAC,CAAC,sNAAO,CAAC,GAAG,CAAC,yBAAyB;IAC5D;IAEA;;;GAGC,GACD;QACE,kCAAkC;QAClC,oEAAoE;QACpE,OAAO;IACT;AACF;;AAIO,MAAM,SAAS"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/performance/performance-monitoring.ts"],"sourcesContent":["/**\n * Comprehensive Performance Monitoring System\n * \n * Real-time performance metrics collection with:\n * - Frontend and backend performance tracking\n * - Chinese market specific monitoring\n * - WeChat/DingTalk/SMS alerting integration\n * - Web Vitals and custom metrics\n * - Error tracking and performance budgets\n * \n * Usage:\n *   import { PerformanceMonitor, reportMetric, reportError } from '@/lib/performance/performance-monitoring'\n *   \n *   // Initialize monitor\n *   const monitor = new PerformanceMonitor()\n *   await monitor.initialize()\n *   \n *   // Report custom metric\n *   reportMetric('api_call_duration', 150, { endpoint: '/api/users' })\n *   \n *   // Report error\n *   reportError(new Error('API failed'), { context: 'user_dashboard' })\n */\n\nimport { db } from '@/lib/db'\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface PerformanceMetric {\n  name: string\n  value: number\n  unit: 'ms' | 'bytes' | 'count' | 'percentage'\n  timestamp: number\n  tags?: Record<string, string>\n  userId?: string\n  sessionId?: string\n}\n\nexport interface PerformanceAlert {\n  id: string\n  type: 'error' | 'performance' | 'availability' | 'budget' | 'security'\n  severity: 'critical' | 'warning' | 'info'\n  message: string\n  metric?: string\n  threshold?: number\n  currentValue?: number\n  timestamp: number\n  resolved?: boolean\n  resolvedAt?: Date\n}\n\nexport interface AlertChannel {\n  wechat?: {\n    enabled: boolean\n    webhook?: string\n    templateId?: string\n  }\n  dingtalk?: {\n    enabled: boolean\n    webhook?: string\n  }\n  sms?: {\n    enabled: boolean\n    provider?: 'aliyun' | 'tencent'\n    accessKeyId?: string\n    accessKeySecret?: string\n    signName?: string\n    templateCode?: string\n  }\n  email?: {\n    enabled: boolean\n    recipients?: string[]\n  }\n}\n\nexport interface PerformanceBudget {\n  metric: string\n  threshold: number\n  window: '1m' | '5m' | '15m' | '1h' | '24h'\n  alertOnBreach: boolean\n}\n\nexport interface MonitoringConfig {\n  // Collection settings\n  enableFrontendMonitoring: boolean\n  enableBackendMonitoring: boolean\n  enableRealTimeMetrics: boolean\n  sampleRate: number // 0-1, percentage of requests to monitor\n  \n  // Alerting\n  alerts: AlertChannel\n  alertThresholds: {\n    errorRate: number // percentage\n    responseTime: number // ms\n    availability: number // percentage\n  }\n  \n  // Performance budgets\n  budgets: PerformanceBudget[]\n  \n  // Storage\n  retentionDays: number\n  batchSize: number\n  \n  // China-specific\n  useChinaRegion: boolean\n  chinaCDNMonitoring: boolean\n}\n\n// ============================================================================\n// Metric Storage (In-Memory Buffer)\n// ============================================================================\n\nclass MetricBuffer {\n  private buffer: PerformanceMetric[] = []\n  private maxSize: number\n  private flushInterval: number\n  private flushTimer: NodeJS.Timeout | null = null\n\n  constructor(maxSize: number = 1000, flushInterval: number = 5000) {\n    this.maxSize = maxSize\n    this.flushInterval = flushInterval\n  }\n\n  add(metric: PerformanceMetric): void {\n    this.buffer.push(metric)\n    \n    if (this.buffer.length >= this.maxSize) {\n      this.flush()\n    }\n  }\n\n  async flush(): Promise<void> {\n    if (this.buffer.length === 0) return\n\n    const metrics = [...this.buffer]\n    this.buffer = []\n\n    try {\n      // Store metrics in database\n      await db.$transaction(\n        metrics.map((metric) =>\n          db.performanceMetric.create({\n            data: {\n              name: metric.name,\n              metricValue: metric.value,\n              unit: metric.unit,\n              tags: metric.tags || {},\n              userId: metric.userId,\n              sessionId: metric.sessionId,\n              timestamp: new Date(metric.timestamp),\n            },\n          })\n        )\n      )\n    } catch (error) {\n      console.error('Failed to flush metrics:', error)\n      // Re-add to buffer on failure\n      this.buffer.unshift(...metrics)\n    }\n  }\n\n  start(): void {\n    if (this.flushTimer) return\n    \n    this.flushTimer = setInterval(() => {\n      this.flush()\n    }, this.flushInterval)\n  }\n\n  stop(): void {\n    if (this.flushTimer) {\n      clearInterval(this.flushTimer)\n      this.flushTimer = null\n    }\n    this.flush()\n  }\n\n  getBuffer(): PerformanceMetric[] {\n    return [...this.buffer]\n  }\n}\n\n// ============================================================================\n// Alert Manager\n// ============================================================================\n\nclass AlertManager {\n  private config: AlertChannel\n  private activeAlerts: Map<string, PerformanceAlert> = new Map()\n\n  constructor(config: AlertChannel) {\n    this.config = config\n  }\n\n  /**\n   * Send alert through configured channels\n   */\n  async sendAlert(alert: PerformanceAlert): Promise<void> {\n    // Store alert\n    this.activeAlerts.set(alert.id, alert)\n\n    // Send to database\n    try {\n      const performanceAlertModel = (db as unknown as {\n        performanceAlert?: {\n          create?: (args: {\n            data: {\n              id: string\n              type: PerformanceAlert['type']\n              severity: PerformanceAlert['severity']\n              message: string\n              metric?: string\n              threshold?: number\n              currentValue?: number\n              timestamp: Date\n            }\n          }) => Promise<unknown>\n          update?: (args: {\n            where: { id: string }\n            data: { resolved: boolean; resolvedAt: Date }\n          }) => Promise<unknown>\n        }\n      } | null | undefined)?.performanceAlert\n\n      if (typeof performanceAlertModel?.create === 'function') {\n        await performanceAlertModel.create({\n          data: {\n            id: alert.id,\n            type: alert.type,\n            severity: alert.severity,\n            message: alert.message,\n            metric: alert.metric,\n            threshold: alert.threshold,\n            currentValue: alert.currentValue,\n            timestamp: new Date(alert.timestamp),\n          },\n        })\n      }\n    } catch (error) {\n      console.error('Failed to store alert:', error)\n    }\n\n    // Send through channels\n    const promises: Promise<void>[] = []\n\n    if (this.config.wechat?.enabled && this.config.wechat.webhook) {\n      promises.push(this.sendWeChatAlert(alert))\n    }\n\n    if (this.config.dingtalk?.enabled && this.config.dingtalk.webhook) {\n      promises.push(this.sendDingTalkAlert(alert))\n    }\n\n    if (this.config.sms?.enabled) {\n      promises.push(this.sendSMSAlert(alert))\n    }\n\n    if (this.config.email?.enabled && this.config.email.recipients) {\n      promises.push(this.sendEmailAlert(alert))\n    }\n\n    await Promise.allSettled(promises)\n  }\n\n  /**\n   * Send WeChat alert\n   */\n  private async sendWeChatAlert(alert: PerformanceAlert): Promise<void> {\n    const webhook = this.config.wechat?.webhook\n    if (!webhook) return\n\n    try {\n      const message = {\n        msgtype: 'markdown',\n        markdown: {\n          content: `# ${this.getSeverityEmoji(alert.severity)} ÊÄßËÉΩÂëäË≠¶\\n\\n` +\n                   `**Á±ªÂûã**: ${this.getTypeLabel(alert.type)}\\n` +\n                   `**‰∏•ÈáçÁ®ãÂ∫¶**: ${alert.severity}\\n` +\n                   `**Ê∂àÊÅØ**: ${alert.message}\\n` +\n                   (alert.metric ? `**ÊåáÊ†á**: ${alert.metric}\\n` : '') +\n                   (alert.currentValue !== undefined ? `**ÂΩìÂâçÂÄº**: ${alert.currentValue}\\n` : '') +\n                   (alert.threshold !== undefined ? `**ÈòàÂÄº**: ${alert.threshold}\\n` : '') +\n                   `**Êó∂Èó¥**: ${new Date(alert.timestamp).toLocaleString('zh-CN')}\\n`\n        },\n      }\n\n      await fetch(webhook, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(message),\n      })\n    } catch (error) {\n      console.error('Failed to send WeChat alert:', error)\n    }\n  }\n\n  /**\n   * Send DingTalk alert\n   */\n  private async sendDingTalkAlert(alert: PerformanceAlert): Promise<void> {\n    const webhook = this.config.dingtalk?.webhook\n    if (!webhook) return\n\n    try {\n      const message = {\n        msgtype: 'markdown',\n        markdown: {\n          title: `ÊÄßËÉΩÂëäË≠¶: ${this.getTypeLabel(alert.type)}`,\n          text: `# ${this.getSeverityEmoji(alert.severity)} ÊÄßËÉΩÂëäË≠¶\\n\\n` +\n                `**Á±ªÂûã**: ${this.getTypeLabel(alert.type)}\\n` +\n                `**‰∏•ÈáçÁ®ãÂ∫¶**: ${alert.severity}\\n` +\n                `**Ê∂àÊÅØ**: ${alert.message}\\n` +\n                (alert.metric ? `**ÊåáÊ†á**: ${alert.metric}\\n` : '') +\n                (alert.currentValue !== undefined ? `**ÂΩìÂâçÂÄº**: ${alert.currentValue}\\n` : '') +\n                (alert.threshold !== undefined ? `**ÈòàÂÄº**: ${alert.threshold}\\n` : '') +\n                `**Êó∂Èó¥**: ${new Date(alert.timestamp).toLocaleString('zh-CN')}\\n`\n        },\n      }\n\n      await fetch(webhook, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(message),\n      })\n    } catch (error) {\n      console.error('Failed to send DingTalk alert:', error)\n    }\n  }\n\n  /**\n   * Send SMS alert\n   */\n  private async sendSMSAlert(alert: PerformanceAlert): Promise<void> {\n    const smsConfig = this.config.sms\n    if (!smsConfig?.enabled) return\n\n    // Only send critical alerts via SMS\n    if (alert.severity !== 'critical') return\n\n    try {\n      const message = `[TutorMeÊÄßËÉΩÂëäË≠¶] ${this.getTypeLabel(alert.type)}: ${alert.message}`\n\n      if (smsConfig.provider === 'aliyun') {\n        await this.sendAliyunSMS(message, smsConfig)\n      } else if (smsConfig.provider === 'tencent') {\n        await this.sendTencentSMS(message, smsConfig)\n      }\n    } catch (error) {\n      console.error('Failed to send SMS alert:', error)\n    }\n  }\n\n  /**\n   * Send Aliyun SMS\n   */\n  private async sendAliyunSMS(\n    message: string,\n    config: NonNullable<AlertChannel['sms']>\n  ): Promise<void> {\n    // Implementation would use Aliyun SMS SDK\n    // This is a placeholder - actual implementation requires SDK\n    console.log('Aliyun SMS:', message, config)\n  }\n\n  /**\n   * Send Tencent SMS\n   */\n  private async sendTencentSMS(\n    message: string,\n    config: NonNullable<AlertChannel['sms']>\n  ): Promise<void> {\n    // Implementation would use Tencent SMS SDK\n    // This is a placeholder - actual implementation requires SDK\n    console.log('Tencent SMS:', message, config)\n  }\n\n  /**\n   * Send email alert\n   */\n  private async sendEmailAlert(alert: PerformanceAlert): Promise<void> {\n    const recipients = this.config.email?.recipients\n    if (!recipients || recipients.length === 0) return\n\n    try {\n      // Use existing notification service\n      const { notifyMany } = await import('@/lib/notifications/notify')\n      \n      // Get admin user IDs (simplified - would need proper admin lookup)\n      const admins = await db.user.findMany({\n        where: { role: 'ADMIN' },\n        select: { id: true },\n      })\n\n      await notifyMany({\n        userIds: admins.map((a) => a.id),\n        type: 'system',\n        title: `ÊÄßËÉΩÂëäË≠¶: ${this.getTypeLabel(alert.type)}`,\n        message: alert.message,\n      })\n    } catch (error) {\n      console.error('Failed to send email alert:', error)\n    }\n  }\n\n  private getSeverityEmoji(severity: string): string {\n    switch (severity) {\n      case 'critical':\n        return 'üî¥'\n      case 'warning':\n        return 'üü°'\n      case 'info':\n        return 'üîµ'\n      default:\n        return '‚ö™'\n    }\n  }\n\n  private getTypeLabel(type: string): string {\n    const labels: Record<string, string> = {\n      error: 'ÈîôËØØ',\n      performance: 'ÊÄßËÉΩ',\n      availability: 'ÂèØÁî®ÊÄß',\n      budget: 'È¢ÑÁÆó',\n      security: 'ÂÆâÂÖ®',\n    }\n    return labels[type] || type\n  }\n\n  /**\n   * Resolve alert\n   */\n  async resolveAlert(alertId: string): Promise<void> {\n    const alert = this.activeAlerts.get(alertId)\n    if (!alert) return\n\n    alert.resolved = true\n    alert.resolvedAt = new Date()\n\n    try {\n      const performanceAlertModel = (db as unknown as {\n        performanceAlert?: {\n          update?: (args: {\n            where: { id: string }\n            data: { resolved: boolean; resolvedAt: Date }\n          }) => Promise<unknown>\n        }\n      } | null | undefined)?.performanceAlert\n\n      if (typeof performanceAlertModel?.update === 'function') {\n        await performanceAlertModel.update({\n          where: { id: alertId },\n          data: {\n            resolved: true,\n            resolvedAt: new Date(),\n          },\n        })\n      }\n    } catch (error) {\n      console.error('Failed to resolve alert:', error)\n    }\n\n    this.activeAlerts.delete(alertId)\n  }\n}\n\n// ============================================================================\n// Performance Monitor\n// ============================================================================\n\nclass PerformanceMonitor {\n  private config: MonitoringConfig\n  private metricBuffer: MetricBuffer\n  private alertManager: AlertManager\n  private initialized: boolean = false\n\n  constructor(config?: Partial<MonitoringConfig>) {\n    this.config = {\n      enableFrontendMonitoring: true,\n      enableBackendMonitoring: true,\n      enableRealTimeMetrics: true,\n      sampleRate: 1.0,\n      alerts: {\n        wechat: {\n          enabled: !!process.env.WECHAT_WEBHOOK_URL,\n          webhook: process.env.WECHAT_WEBHOOK_URL,\n        },\n        dingtalk: {\n          enabled: !!process.env.DINGTALK_WEBHOOK_URL,\n          webhook: process.env.DINGTALK_WEBHOOK_URL,\n        },\n        sms: {\n          enabled: !!process.env.SMS_PROVIDER,\n          provider: process.env.SMS_PROVIDER as 'aliyun' | 'tencent',\n          accessKeyId: process.env.SMS_ACCESS_KEY_ID,\n          accessKeySecret: process.env.SMS_ACCESS_KEY_SECRET,\n          signName: process.env.SMS_SIGN_NAME,\n          templateCode: process.env.SMS_TEMPLATE_CODE,\n        },\n        email: {\n          enabled: true,\n        },\n      },\n      alertThresholds: {\n        errorRate: 5, // 5%\n        responseTime: 1000, // 1s\n        availability: 99, // 99%\n      },\n      budgets: [],\n      retentionDays: 30,\n      batchSize: 100,\n      useChinaRegion: true,\n      chinaCDNMonitoring: true,\n      ...config,\n    }\n\n    this.metricBuffer = new MetricBuffer(this.config.batchSize)\n    this.alertManager = new AlertManager(this.config.alerts)\n  }\n\n  /**\n   * Initialize monitor\n   */\n  async initialize(): Promise<void> {\n    if (this.initialized) return\n\n    // Start metric buffer\n    this.metricBuffer.start()\n\n    // Setup frontend monitoring if in browser\n    if (typeof window !== 'undefined' && this.config.enableFrontendMonitoring) {\n      this.setupFrontendMonitoring()\n    }\n\n    // Setup budget checking\n    if (this.config.budgets.length > 0) {\n      this.startBudgetChecker()\n    }\n\n    this.initialized = true\n  }\n\n  /**\n   * Setup frontend monitoring\n   */\n  private setupFrontendMonitoring(): void {\n    if (typeof window === 'undefined') return\n\n    // Monitor Web Vitals\n    if ('PerformanceObserver' in window) {\n      this.observeWebVitals()\n    }\n\n    // Monitor API calls\n    this.interceptFetch()\n\n    // Monitor errors\n    window.addEventListener('error', (event) => {\n      this.reportError(event.error || new Error(event.message), {\n        filename: event.filename,\n        lineno: event.lineno,\n        colno: event.colno,\n      })\n    })\n\n    window.addEventListener('unhandledrejection', (event) => {\n      this.reportError(\n        event.reason instanceof Error ? event.reason : new Error(String(event.reason)),\n        { type: 'unhandledrejection' }\n      )\n    })\n  }\n\n  /**\n   * Observe Web Vitals\n   */\n  private observeWebVitals(): void {\n    if (typeof window === 'undefined') return\n\n    try {\n      // LCP\n      const lcpObserver = new PerformanceObserver((list) => {\n        const entries = list.getEntries()\n        const lastEntry = entries[entries.length - 1] as any\n        const value = lastEntry.renderTime || lastEntry.loadTime\n        this.reportMetric('lcp', value, 'ms')\n      })\n      lcpObserver.observe({ entryTypes: ['largest-contentful-paint'] })\n\n      // FID\n      const fidObserver = new PerformanceObserver((list) => {\n        for (const entry of list.getEntries() as any[]) {\n          this.reportMetric('fid', entry.processingStart - entry.startTime, 'ms')\n        }\n      })\n      fidObserver.observe({ entryTypes: ['first-input'] })\n\n      // CLS\n      let clsValue = 0\n      const clsObserver = new PerformanceObserver((list) => {\n        for (const entry of list.getEntries() as any[]) {\n          if (!(entry as any).hadRecentInput) {\n            clsValue += (entry as any).value\n          }\n        }\n        this.reportMetric('cls', clsValue, 'count')\n      })\n      clsObserver.observe({ entryTypes: ['layout-shift'] })\n    } catch (error) {\n      console.warn('Web Vitals observation failed:', error)\n    }\n  }\n\n  /**\n   * Intercept fetch for API monitoring\n   */\n  private interceptFetch(): void {\n    if (typeof window === 'undefined') return\n\n    const originalFetch = window.fetch\n    window.fetch = async (...args) => {\n      const startTime = performance.now()\n      const url = typeof args[0] === 'string' ? args[0] : args[0].url\n\n      try {\n        const response = await originalFetch(...args)\n        const duration = performance.now() - startTime\n\n        this.reportMetric('api_call_duration', duration, 'ms', {\n          endpoint: url,\n          method: args[1]?.method || 'GET',\n          status: response.status.toString(),\n        })\n\n        return response\n      } catch (error) {\n        const duration = performance.now() - startTime\n        this.reportMetric('api_call_error', duration, 'ms', {\n          endpoint: url,\n          error: error instanceof Error ? error.message : String(error),\n        })\n        throw error\n      }\n    }\n  }\n\n  /**\n   * Start budget checker\n   */\n  private startBudgetChecker(): void {\n    setInterval(async () => {\n      for (const budget of this.config.budgets) {\n        await this.checkBudget(budget)\n      }\n    }, 60000) // Check every minute\n  }\n\n  /**\n   * Check performance budget\n   */\n  private async checkBudget(budget: PerformanceBudget): Promise<void> {\n    try {\n      // Get average metric value for the window\n      const windowMs = this.getWindowMs(budget.window)\n      const cutoff = new Date(Date.now() - windowMs)\n\n      const avg = await db.performanceMetric.aggregate({\n        where: {\n          name: budget.metric,\n          timestamp: { gte: cutoff },\n        },\n        _avg: {\n          metricValue: true,\n        },\n      })\n\n      const avgValue = avg._avg.metricValue\n      if (avgValue && avgValue > budget.threshold && budget.alertOnBreach) {\n        await this.alertManager.sendAlert({\n          id: `budget-${budget.metric}-${Date.now()}`,\n          type: 'budget',\n          severity: 'warning',\n          message: `ÊÄßËÉΩÈ¢ÑÁÆóË∂ÖÈôê: ${budget.metric} Ë∂ÖËøáÈòàÂÄº ${budget.threshold}`,\n          metric: budget.metric,\n          threshold: budget.threshold,\n          currentValue: avgValue,\n          timestamp: Date.now(),\n        })\n      }\n    } catch (error) {\n      console.error('Budget check failed:', error)\n    }\n  }\n\n  private getWindowMs(window: string): number {\n    const multipliers: Record<string, number> = {\n      '1m': 60000,\n      '5m': 300000,\n      '15m': 900000,\n      '1h': 3600000,\n      '24h': 86400000,\n    }\n    return multipliers[window] || 60000\n  }\n\n  /**\n   * Report metric\n   */\n  reportMetric(\n    name: string,\n    value: number,\n    unit: 'ms' | 'bytes' | 'count' | 'percentage' = 'ms',\n    tags?: Record<string, string>\n  ): void {\n    // Apply sample rate\n    if (Math.random() > this.config.sampleRate) return\n\n    const metric: PerformanceMetric = {\n      name,\n      value,\n      unit,\n      timestamp: Date.now(),\n      tags,\n    }\n\n    this.metricBuffer.add(metric)\n\n    // Check thresholds\n    this.checkThresholds(name, value)\n  }\n\n  /**\n   * Check alert thresholds\n   */\n  private checkThresholds(name: string, value: number): void {\n    const thresholds = this.config.alertThresholds\n\n    if (name === 'api_call_duration' && value > thresholds.responseTime) {\n      this.alertManager.sendAlert({\n        id: `threshold-${name}-${Date.now()}`,\n        type: 'performance',\n        severity: value > thresholds.responseTime * 2 ? 'critical' : 'warning',\n        message: `APIÂìçÂ∫îÊó∂Èó¥Ë∂ÖÈôê: ${name} = ${value}ms`,\n        metric: name,\n        threshold: thresholds.responseTime,\n        currentValue: value,\n        timestamp: Date.now(),\n      })\n    }\n  }\n\n  /**\n   * Report error\n   */\n  reportError(error: Error, context?: Record<string, any>): void {\n    const errorMetric: PerformanceMetric = {\n      name: 'error',\n      value: 1,\n      unit: 'count',\n      timestamp: Date.now(),\n      tags: {\n        message: error.message,\n        stack: error.stack?.substring(0, 200) || '',\n        ...context,\n      },\n    }\n\n    this.metricBuffer.add(errorMetric)\n\n    // Send critical error alert\n    this.alertManager.sendAlert({\n      id: `error-${Date.now()}-${Math.random()}`,\n      type: 'error',\n      severity: 'critical',\n      message: `ÈîôËØØ: ${error.message}`,\n      timestamp: Date.now(),\n    })\n  }\n\n  /**\n   * Report security event (payment alerts, access attempts, role violations).\n   * Enterprise security event tracking for compliance (GDPR, PIPL, PRC).\n   */\n  reportSecurityEvent(\n    eventType: string,\n    tags?: Record<string, string>\n  ): void {\n    this.reportMetric('security_event', 1, 'count', {\n      eventType,\n      ...tags,\n    })\n  }\n\n  /**\n   * Get metrics summary\n   */\n  async getMetricsSummary(\n    metricName: string,\n    window: '1h' | '24h' | '7d' = '24h'\n  ): Promise<{\n    avg: number\n    min: number\n    max: number\n    p95: number\n    p99: number\n    count: number\n  }> {\n    const windowMs = {\n      '1h': 3600000,\n      '24h': 86400000,\n      '7d': 604800000,\n    }[window]\n\n    const cutoff = new Date(Date.now() - windowMs)\n\n    const metrics = await db.performanceMetric.findMany({\n      where: {\n        name: metricName,\n        timestamp: { gte: cutoff },\n      },\n      orderBy: { metricValue: 'asc' },\n    })\n\n    if (metrics.length === 0) {\n      return { avg: 0, min: 0, max: 0, p95: 0, p99: 0, count: 0 }\n    }\n\n    const values = metrics.map((m) => m.metricValue).sort((a, b) => a - b)\n    const sum = values.reduce((a, b) => a + b, 0)\n\n    return {\n      avg: sum / values.length,\n      min: values[0],\n      max: values[values.length - 1],\n      p95: values[Math.floor(values.length * 0.95)],\n      p99: values[Math.floor(values.length * 0.99)],\n      count: values.length,\n    }\n  }\n\n  /**\n   * Cleanup\n   */\n  async cleanup(): Promise<void> {\n    this.metricBuffer.stop()\n    this.initialized = false\n  }\n}\n\n// ============================================================================\n// Global Instance\n// ============================================================================\n\nlet globalMonitor: PerformanceMonitor | null = null\n\n/**\n * Get or create global monitor instance\n */\nexport function getPerformanceMonitor(): PerformanceMonitor {\n  if (!globalMonitor) {\n    globalMonitor = new PerformanceMonitor()\n  }\n  return globalMonitor\n}\n\n/**\n * Initialize global monitor\n */\nexport async function initializeMonitoring(\n  config?: Partial<MonitoringConfig>\n): Promise<void> {\n  const monitor = config ? new PerformanceMonitor(config) : getPerformanceMonitor()\n  await monitor.initialize()\n  globalMonitor = monitor\n}\n\n/**\n * Report metric (convenience function)\n */\nexport function reportMetric(\n  name: string,\n  value: number,\n  unit: 'ms' | 'bytes' | 'count' | 'percentage' = 'ms',\n  tags?: Record<string, string>\n): void {\n  const monitor = getPerformanceMonitor()\n  monitor.reportMetric(name, value, unit, tags)\n}\n\n/**\n * Report error (convenience function)\n */\nexport function reportError(error: Error, context?: Record<string, any>): void {\n  const monitor = getPerformanceMonitor()\n  monitor.reportError(error, context)\n}\n\n// ============================================================================\n// Database Schema Types (should match Prisma schema)\n// ============================================================================\n\n// Note: These types should match your Prisma schema\n// You may need to add these models to your schema.prisma:\n/*\nmodel PerformanceMetric {\n  id        String   @id @default(cuid())\n  name      String\n  value     Float\n  unit      String\n  tags      Json?\n  userId    String?\n  sessionId String?\n  timestamp DateTime @default(now())\n\n  @@index([name])\n  @@index([timestamp])\n  @@index([userId])\n}\n\nmodel PerformanceAlert {\n  id           String    @id @default(cuid())\n  type         String\n  severity     String\n  message      String\n  metric       String?\n  threshold    Float?\n  currentValue Float?\n  timestamp    DateTime  @default(now())\n  resolved     Boolean   @default(false)\n  resolvedAt   DateTime?\n\n  @@index([type])\n  @@index([severity])\n  @@index([resolved])\n  @@index([timestamp])\n}\n*/\n\n/**\n * Parent dashboard performance monitor (alias for global monitor with parent context).\n * Tracks parent-specific metrics: responseTime, cacheHitRate, throughput.\n */\nexport const ParentDashboardPerformanceMonitor = PerformanceMonitor\nexport const parentDashboardPerformanceMonitor = getPerformanceMonitor\n\n// ============================================================================\n// Default Export\n// ============================================================================\n\nexport default PerformanceMonitor\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 935, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/monitoring/sentry-setup.ts"],"sourcesContent":["/**\n * Enterprise-grade Sentry monitoring for global platform\n * - Global error tracking, Core Web Vitals, PII filtering, GDPR/PIPL compliant\n */\n\nimport * as Sentry from '@sentry/nextjs'\nimport { reportMetric, reportError } from '@/lib/performance/performance-monitoring'\n\nexport function getSentryInitOptions(overrides?: Record<string, unknown>) {\n  const base: Parameters<typeof Sentry.init>[0] = {\n    dsn: process.env.SENTRY_DSN ?? process.env.NEXT_PUBLIC_SENTRY_DSN,\n    environment: process.env.NODE_ENV ?? 'development',\n    tracesSampleRate: 0.1,\n    profilesSampleRate: 0.1,\n    normalizeDepth: 10,\n    autoSessionTracking: true,\n    maxBreadcrumbs: 50,\n    maxValueLength: 10000,\n    beforeSend(event) {\n      if (event.extra) {\n        const extra = event.extra as Record<string, unknown>\n        if ('password' in extra) delete extra.password\n        if ('creditCard' in extra) delete extra.creditCard\n        if ('token' in extra) delete extra.token\n        if ('apiKey' in extra) delete extra.apiKey\n      }\n      const t = event.exception?.values?.[0]?.type\n      if (t === 'ChunkLoadError' || t === 'Loading chunk failed') return null\n      if (event.message?.includes?.('loading') || event.message?.includes?.('chunk')) return null\n      return event\n    },\n    beforeBreadcrumb(breadcrumb) {\n      if (breadcrumb.category === 'console' && breadcrumb.data?.arguments) {\n        const args = breadcrumb.data.arguments as unknown[]\n        if (args.some((a) => typeof a === 'string' && a.toLowerCase().includes('password'))) return null\n      }\n      return breadcrumb\n    },\n  }\n  return { ...base, ...overrides } as Parameters<typeof Sentry.init>[0]\n}\n\nexport const globalErrorHandler = {\n  handleError(error: Error, context?: Record<string, unknown>) {\n    Sentry.captureException(error, { extra: context, tags: { source: 'global_handler', region: 'global' } })\n    try {\n      reportError(error, context)\n    } catch {\n      /* ignore */\n    }\n  },\n  handleWarning(warning: string, context?: Record<string, unknown>) {\n    Sentry.captureMessage(warning, 'warning', { extra: context, tags: { source: 'global_handler', region: 'global' } })\n  },\n  addBreadcrumb(breadcrumb: { message: string; data?: Record<string, unknown>; category?: string }) {\n    Sentry.addBreadcrumb({\n      category: breadcrumb.category ?? 'default',\n      message: breadcrumb.message,\n      data: breadcrumb.data,\n      timestamp: Date.now() / 1000,\n    })\n  },\n}\n\nfunction captureMetric(name: string, value: number, unit: string) {\n  try {\n    const m = (Sentry as { metrics?: { distribution?: (n: string, v: number, o?: object) => void; count?: (n: string, v?: number) => void } }).metrics\n    if (unit === 'count' && typeof m?.count === 'function') m.count(name, value)\n    else if (typeof m?.distribution === 'function') m.distribution(name, value, { unit: 'millisecond' })\n    else reportMetric(name, value, unit === 'count' ? 'count' : 'ms')\n  } catch {\n    reportMetric(name, value, unit === 'count' ? 'count' : 'ms')\n  }\n}\n\nexport const globalPerformanceMonitor = {\n  trackApiEndpoint(endpoint: string, responseTime: number, errorCount: number) {\n    captureMetric('api_response_time', responseTime, 'ms')\n    if (errorCount > 0) captureMetric('api_error_count', errorCount, 'count')\n  },\n  trackInteraction(type: string, element: string, value?: unknown) {\n    Sentry.addBreadcrumb({ category: 'interaction', message: `${type} on ${element}`, data: value as Record<string, unknown>, timestamp: Date.now() / 1000 })\n  },\n  trackCacheHit(cacheKey: string, hit: boolean) {\n    reportMetric('cache_hit_rate', hit ? 1 : 0, 'count', { cacheKey, type: hit ? 'HIT' : 'MISS' })\n  },\n  trackWebVital(name: string, value: number) {\n    captureMetric(`web_vital_${name.toLowerCase()}`, value, name === 'CLS' ? 'none' : 'ms')\n  },\n  trackLongTask(_startTime: number, duration: number) {\n    captureMetric('long_task_duration', duration, 'ms')\n  },\n}\n\nexport function setupClientMonitoring() {\n  if (typeof window === 'undefined') return\n  window.addEventListener('error', (event) => {\n    if (event.error?.message?.includes?.('loading') || event.error?.message?.includes?.('chunk') || event.message?.includes?.('loading') || event.message?.includes?.('chunk')) return\n    globalErrorHandler.handleError(event.error ?? new Error(event.message), { filename: event.filename, lineno: event.lineno, colno: event.colno, userAgent: navigator.userAgent, timestamp: Date.now() })\n  })\n  window.addEventListener('unhandledrejection', (event) => {\n    const err = event.reason instanceof Error ? event.reason : new Error(String(event.reason))\n    if (err.message?.includes?.('loading') || err.message?.includes?.('chunk')) return\n    globalErrorHandler.handleError(err, { type: 'unhandledrejection', timestamp: Date.now() })\n  })\n  if ('PerformanceObserver' in window) {\n    try {\n      const o = new PerformanceObserver((list) => {\n        for (const entry of list.getEntries()) {\n          const e = entry as PerformanceEntry & { value?: number; renderTime?: number; loadTime?: number }\n          const value = e.value ?? e.renderTime ?? e.loadTime ?? e.duration ?? 0\n          if (value > 0) {\n            const name = (e.name || e.entryType || '').toUpperCase()\n            const vital = name.includes('LCP') || name.includes('LARGEST') ? 'LCP' : name.includes('FID') || name.includes('FIRST-INPUT') ? 'FID' : name.includes('CLS') || name.includes('LAYOUT') ? 'CLS' : name.includes('TTFB') ? 'TTFB' : name.includes('FCP') ? 'FCP' : name\n            globalPerformanceMonitor.trackWebVital(vital, value)\n          }\n        }\n      })\n      o.observe({ entryTypes: ['largest-contentful-paint', 'first-input', 'layout-shift', 'navigation'] })\n    } catch {\n      /* ignore */\n    }\n    try {\n      const o2 = new PerformanceObserver((list) => {\n        for (const entry of list.getEntries()) {\n          const e = entry as PerformanceEntry\n          globalPerformanceMonitor.trackLongTask(e.startTime, e.duration)\n        }\n      })\n      o2.observe({ entryTypes: ['longtask'] })\n    } catch {\n      /* ignore */\n    }\n  }\n}\n\nexport { Sentry }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1127, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/instrumentation-client.ts"],"sourcesContent":[";globalThis[\"_sentryRouteManifest\"] = \"{\\\"dynamicRoutes\\\":[{\\\"path\\\":\\\"/:locale\\\",\\\"regex\\\":\\\"^/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/curriculum\\\",\\\"regex\\\":\\\"^/([^/]+)/curriculum$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/curriculum/:curriculumId\\\",\\\"regex\\\":\\\"^/([^/]+)/curriculum/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"curriculumId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/curriculum/lessons/:lessonId\\\",\\\"regex\\\":\\\"^/([^/]+)/curriculum/lessons/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"lessonId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin\\\",\\\"regex\\\":\\\"^/([^/]+)/admin$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/analytics\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/analytics$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/audit-log\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/audit-log$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/content\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/content$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/feature-flags\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/feature-flags$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/llm\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/llm$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/login\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/login$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/payments\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/payments$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/security\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/security$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/settings\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/settings$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/topology\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/topology$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/admin/users\\\",\\\"regex\\\":\\\"^/([^/]+)/admin/users$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/api-docs\\\",\\\"regex\\\":\\\"^/([^/]+)/api-docs$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/legal/code-of-conduct\\\",\\\"regex\\\":\\\"^/([^/]+)/legal/code-of-conduct$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/legal/privacy\\\",\\\"regex\\\":\\\"^/([^/]+)/legal/privacy$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/legal/terms\\\",\\\"regex\\\":\\\"^/([^/]+)/legal/terms$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/login\\\",\\\"regex\\\":\\\"^/([^/]+)/login$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/onboarding/student\\\",\\\"regex\\\":\\\"^/([^/]+)/onboarding/student$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/onboarding/tutor\\\",\\\"regex\\\":\\\"^/([^/]+)/onboarding/tutor$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/assignments\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/assignments$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/children\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/children$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/classes\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/classes$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/courses\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/courses$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/courses/:id\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/courses/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/dashboard\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/dashboard$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/invoices\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/invoices$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/messages\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/messages$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/notifications\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/notifications$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/payments\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/payments$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/profile\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/profile$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/progress\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/progress$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/settings\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/settings$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/students/:studentId\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/students/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"studentId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/students/:studentId/ai-tutor\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/students/([^/]+)/ai-tutor$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"studentId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/students/:studentId/assignments\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/students/([^/]+)/assignments$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"studentId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/parent/teachers\\\",\\\"regex\\\":\\\"^/([^/]+)/parent/teachers$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/payment\\\",\\\"regex\\\":\\\"^/([^/]+)/payment$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/payment/cancel\\\",\\\"regex\\\":\\\"^/([^/]+)/payment/cancel$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/payment/success\\\",\\\"regex\\\":\\\"^/([^/]+)/payment/success$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/register\\\",\\\"regex\\\":\\\"^/([^/]+)/register$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/register/admin\\\",\\\"regex\\\":\\\"^/([^/]+)/register/admin$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/register/parent\\\",\\\"regex\\\":\\\"^/([^/]+)/register/parent$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/register/student\\\",\\\"regex\\\":\\\"^/([^/]+)/register/student$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/register/tutor\\\",\\\"regex\\\":\\\"^/([^/]+)/register/tutor$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/agreement\\\",\\\"regex\\\":\\\"^/([^/]+)/student/agreement$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/ai-tutor\\\",\\\"regex\\\":\\\"^/([^/]+)/student/ai-tutor$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/ai-tutor/browse\\\",\\\"regex\\\":\\\"^/([^/]+)/student/ai-tutor/browse$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/ai-tutor/english\\\",\\\"regex\\\":\\\"^/([^/]+)/student/ai-tutor/english$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/ai-tutor/schedule\\\",\\\"regex\\\":\\\"^/([^/]+)/student/ai-tutor/schedule$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/assignments\\\",\\\"regex\\\":\\\"^/([^/]+)/student/assignments$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/courses\\\",\\\"regex\\\":\\\"^/([^/]+)/student/courses$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/dashboard\\\",\\\"regex\\\":\\\"^/([^/]+)/student/dashboard$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/favorites\\\",\\\"regex\\\":\\\"^/([^/]+)/student/favorites$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/gamification\\\",\\\"regex\\\":\\\"^/([^/]+)/student/gamification$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/help\\\",\\\"regex\\\":\\\"^/([^/]+)/student/help$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/learn/:contentId\\\",\\\"regex\\\":\\\"^/([^/]+)/student/learn/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"contentId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/lesson-replays\\\",\\\"regex\\\":\\\"^/([^/]+)/student/lesson-replays$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/live/:sessionId\\\",\\\"regex\\\":\\\"^/([^/]+)/student/live/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"sessionId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/live/join\\\",\\\"regex\\\":\\\"^/([^/]+)/student/live/join$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/messages\\\",\\\"regex\\\":\\\"^/([^/]+)/student/messages$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/missed-classes\\\",\\\"regex\\\":\\\"^/([^/]+)/student/missed-classes$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/missed-lessons\\\",\\\"regex\\\":\\\"^/([^/]+)/student/missed-lessons$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/missions\\\",\\\"regex\\\":\\\"^/([^/]+)/student/missions$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/notifications\\\",\\\"regex\\\":\\\"^/([^/]+)/student/notifications$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/onboarding\\\",\\\"regex\\\":\\\"^/([^/]+)/student/onboarding$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/pdf-tutoring\\\",\\\"regex\\\":\\\"^/([^/]+)/student/pdf-tutoring$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/progress\\\",\\\"regex\\\":\\\"^/([^/]+)/student/progress$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/quizzes\\\",\\\"regex\\\":\\\"^/([^/]+)/student/quizzes$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/quizzes/:id\\\",\\\"regex\\\":\\\"^/([^/]+)/student/quizzes/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/resources\\\",\\\"regex\\\":\\\"^/([^/]+)/student/resources$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/review/:contentId\\\",\\\"regex\\\":\\\"^/([^/]+)/student/review/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"contentId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/scores\\\",\\\"regex\\\":\\\"^/([^/]+)/student/scores$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/settings\\\",\\\"regex\\\":\\\"^/([^/]+)/student/settings$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/skills\\\",\\\"regex\\\":\\\"^/([^/]+)/student/skills$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/study-groups\\\",\\\"regex\\\":\\\"^/([^/]+)/student/study-groups$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/subjects/:subjectCode\\\",\\\"regex\\\":\\\"^/([^/]+)/student/subjects/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"subjectCode\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/subjects/:subjectCode/chat\\\",\\\"regex\\\":\\\"^/([^/]+)/student/subjects/([^/]+)/chat$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"subjectCode\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/subjects/:subjectCode/courses\\\",\\\"regex\\\":\\\"^/([^/]+)/student/subjects/([^/]+)/courses$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"subjectCode\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/subjects/:subjectCode/courses/:curriculumId\\\",\\\"regex\\\":\\\"^/([^/]+)/student/subjects/([^/]+)/courses/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"subjectCode\\\",\\\"curriculumId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/subjects/:subjectCode/courses/:curriculumId/details\\\",\\\"regex\\\":\\\"^/([^/]+)/student/subjects/([^/]+)/courses/([^/]+)/details$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"subjectCode\\\",\\\"curriculumId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/subjects/:subjectCode/signup\\\",\\\"regex\\\":\\\"^/([^/]+)/student/subjects/([^/]+)/signup$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"subjectCode\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/tutors\\\",\\\"regex\\\":\\\"^/([^/]+)/student/tutors$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/student/worlds\\\",\\\"regex\\\":\\\"^/([^/]+)/student/worlds$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/ai-assistant\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/ai-assistant$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/calendar\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/calendar$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/classes\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/classes$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/courses\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/courses$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/courses/:id\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/courses/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/courses/:id/builder\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/courses/([^/]+)/builder$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/courses/:id/tasks\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/courses/([^/]+)/tasks$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/courses/:id/tasks/:taskId/analytics\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/courses/([^/]+)/tasks/([^/]+)/analytics$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\",\\\"taskId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/courses/new\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/courses/new$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/curriculum\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/curriculum$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/dashboard\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/dashboard$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/group-builder\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/group-builder$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/groups\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/groups$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/help\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/help$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/live-class\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/live-class$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/live-class/:sessionId\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/live-class/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"sessionId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/messages\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/messages$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/my-page\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/my-page$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/notifications\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/notifications$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/pdf-tutoring\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/pdf-tutoring$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/question-bank\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/question-bank$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/quizzes\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/quizzes$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/quizzes/:id\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/quizzes/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/reports\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/reports$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/reports/:studentId\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/reports/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"studentId\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/resources\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/resources$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/revenue\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/revenue$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/settings\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/settings$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/students\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/students$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/whiteboards\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/whiteboards$\\\",\\\"paramNames\\\":[\\\"locale\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/tutor/whiteboards/:id\\\",\\\"regex\\\":\\\"^/([^/]+)/tutor/whiteboards/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"id\\\"],\\\"hasOptionalPrefix\\\":true},{\\\"path\\\":\\\"/:locale/u/:username\\\",\\\"regex\\\":\\\"^/([^/]+)/u/([^/]+)$\\\",\\\"paramNames\\\":[\\\"locale\\\",\\\"username\\\"],\\\"hasOptionalPrefix\\\":true}],\\\"staticRoutes\\\":[],\\\"isrRoutes\\\":[]}\";globalThis[\"_sentryNextJsVersion\"] = \"16.1.6\";import * as Sentry from '@sentry/nextjs'\nimport { getSentryInitOptions, setupClientMonitoring } from '@/lib/monitoring/sentry-setup'\n\nSentry.init({\n  ...getSentryInitOptions(),\n  tracesSampleRate: process.env.NODE_ENV === 'development' ? 1.0 : 0.1,\n})\n\nsetupClientMonitoring()\n\nexport const onRouterTransitionStart = Sentry.captureRouterTransitionStart\n"],"names":[],"mappings":";;;;AAKoB;AALq6hB;AAAA;AACz7hB;AADC,UAAU,CAAC,uBAAuB,GAAG;AAAq2hB,UAAU,CAAC,uBAAuB,GAAG;;;AAGh7hB,2OAAW,CAAC;IACV,GAAG,IAAA,iOAAoB,GAAE;IACzB,kBAAkB,uCAAyC,MAAM;AACnE;AAEA,IAAA,kOAAqB;AAEd,MAAM,0BAA0B,wRAAmC"}},
    {"offset": {"line": 1152, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\n\ntype SendMessage = (msg: any) => void\nexport type WebSocketMessage =\n  | {\n      type: 'turbopack-connected'\n    }\n  | {\n      type: 'turbopack-message'\n      data: Record<string, any>\n    }\n\nexport type ClientOptions = {\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\n  sendMessage: SendMessage\n  onUpdateError: (err: unknown) => void\n}\n\nexport function connect({\n  addMessageListener,\n  sendMessage,\n  onUpdateError = console.error,\n}: ClientOptions) {\n  addMessageListener((msg) => {\n    switch (msg.type) {\n      case 'turbopack-connected':\n        handleSocketConnected(sendMessage)\n        break\n      default:\n        try {\n          if (Array.isArray(msg.data)) {\n            for (let i = 0; i < msg.data.length; i++) {\n              handleSocketMessage(msg.data[i] as ServerMessage)\n            }\n          } else {\n            handleSocketMessage(msg.data as ServerMessage)\n          }\n          applyAggregatedUpdates()\n        } catch (e: unknown) {\n          console.warn(\n            '[Fast Refresh] performing full reload\\n\\n' +\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\n              'Fast Refresh requires at least one parent function component in your React tree.'\n          )\n          onUpdateError(e)\n          location.reload()\n        }\n        break\n    }\n  })\n\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\n  if (queued != null && !Array.isArray(queued)) {\n    throw new Error('A separate HMR handler was already registered')\n  }\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\n    },\n  }\n\n  if (Array.isArray(queued)) {\n    for (const [chunkPath, callback] of queued) {\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\n    }\n  }\n}\n\ntype UpdateCallbackSet = {\n  callbacks: Set<UpdateCallback>\n  unsubscribe: () => void\n}\n\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\n\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\n  sendMessage(JSON.stringify(message))\n}\n\ntype ResourceKey = string\n\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\n  return JSON.stringify({\n    path: resource.path,\n    headers: resource.headers || null,\n  })\n}\n\nfunction subscribeToUpdates(\n  sendMessage: SendMessage,\n  resource: ResourceIdentifier\n): () => void {\n  sendJSON(sendMessage, {\n    type: 'turbopack-subscribe',\n    ...resource,\n  })\n\n  return () => {\n    sendJSON(sendMessage, {\n      type: 'turbopack-unsubscribe',\n      ...resource,\n    })\n  }\n}\n\nfunction handleSocketConnected(sendMessage: SendMessage) {\n  for (const key of updateCallbackSets.keys()) {\n    subscribeToUpdates(sendMessage, JSON.parse(key))\n  }\n}\n\n// we aggregate all pending updates until the issues are resolved\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\n  new Map()\n\nfunction aggregateUpdates(msg: PartialServerMessage) {\n  const key = resourceKey(msg.resource)\n  let aggregated = chunkListsWithPendingUpdates.get(key)\n\n  if (aggregated) {\n    aggregated.instruction = mergeChunkListUpdates(\n      aggregated.instruction,\n      msg.instruction\n    )\n  } else {\n    chunkListsWithPendingUpdates.set(key, msg)\n  }\n}\n\nfunction applyAggregatedUpdates() {\n  if (chunkListsWithPendingUpdates.size === 0) return\n  hooks.beforeRefresh()\n  for (const msg of chunkListsWithPendingUpdates.values()) {\n    triggerUpdate(msg)\n  }\n  chunkListsWithPendingUpdates.clear()\n  finalizeUpdate()\n}\n\nfunction mergeChunkListUpdates(\n  updateA: ChunkListUpdate,\n  updateB: ChunkListUpdate\n): ChunkListUpdate {\n  let chunks\n  if (updateA.chunks != null) {\n    if (updateB.chunks == null) {\n      chunks = updateA.chunks\n    } else {\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\n    }\n  } else if (updateB.chunks != null) {\n    chunks = updateB.chunks\n  }\n\n  let merged\n  if (updateA.merged != null) {\n    if (updateB.merged == null) {\n      merged = updateA.merged\n    } else {\n      // Since `merged` is an array of updates, we need to merge them all into\n      // one, consistent update.\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\n      // no need to key on the `type` field.\n      let update = updateA.merged[0]\n      for (let i = 1; i < updateA.merged.length; i++) {\n        update = mergeChunkListEcmascriptMergedUpdates(\n          update,\n          updateA.merged[i]\n        )\n      }\n\n      for (let i = 0; i < updateB.merged.length; i++) {\n        update = mergeChunkListEcmascriptMergedUpdates(\n          update,\n          updateB.merged[i]\n        )\n      }\n\n      merged = [update]\n    }\n  } else if (updateB.merged != null) {\n    merged = updateB.merged\n  }\n\n  return {\n    type: 'ChunkListUpdate',\n    chunks,\n    merged,\n  }\n}\n\nfunction mergeChunkListChunks(\n  chunksA: Record<ChunkPath, ChunkUpdate>,\n  chunksB: Record<ChunkPath, ChunkUpdate>\n): Record<ChunkPath, ChunkUpdate> {\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\n\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\n    [ChunkPath, ChunkUpdate]\n  >) {\n    const chunkUpdateB = chunksB[chunkPath]\n    if (chunkUpdateB != null) {\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\n      if (mergedUpdate != null) {\n        chunks[chunkPath] = mergedUpdate\n      }\n    } else {\n      chunks[chunkPath] = chunkUpdateA\n    }\n  }\n\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\n    [ChunkPath, ChunkUpdate]\n  >) {\n    if (chunks[chunkPath] == null) {\n      chunks[chunkPath] = chunkUpdateB\n    }\n  }\n\n  return chunks\n}\n\nfunction mergeChunkUpdates(\n  updateA: ChunkUpdate,\n  updateB: ChunkUpdate\n): ChunkUpdate | undefined {\n  if (\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\n    (updateA.type === 'deleted' && updateB.type === 'added')\n  ) {\n    return undefined\n  }\n\n  if (updateA.type === 'partial') {\n    invariant(updateA.instruction, 'Partial updates are unsupported')\n  }\n\n  if (updateB.type === 'partial') {\n    invariant(updateB.instruction, 'Partial updates are unsupported')\n  }\n\n  return undefined\n}\n\nfunction mergeChunkListEcmascriptMergedUpdates(\n  mergedA: EcmascriptMergedUpdate,\n  mergedB: EcmascriptMergedUpdate\n): EcmascriptMergedUpdate {\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\n\n  return {\n    type: 'EcmascriptMergedUpdate',\n    entries,\n    chunks,\n  }\n}\n\nfunction mergeEcmascriptChunkEntries(\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\n): Record<ModuleId, EcmascriptModuleEntry> {\n  return { ...entriesA, ...entriesB }\n}\n\nfunction mergeEcmascriptChunksUpdates(\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\n  if (chunksA == null) {\n    return chunksB\n  }\n\n  if (chunksB == null) {\n    return chunksA\n  }\n\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\n\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\n    [ChunkPath, EcmascriptMergedChunkUpdate]\n  >) {\n    const chunkUpdateB = chunksB[chunkPath]\n    if (chunkUpdateB != null) {\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\n        chunkUpdateA,\n        chunkUpdateB\n      )\n      if (mergedUpdate != null) {\n        chunks[chunkPath] = mergedUpdate\n      }\n    } else {\n      chunks[chunkPath] = chunkUpdateA\n    }\n  }\n\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\n    [ChunkPath, EcmascriptMergedChunkUpdate]\n  >) {\n    if (chunks[chunkPath] == null) {\n      chunks[chunkPath] = chunkUpdateB\n    }\n  }\n\n  if (Object.keys(chunks).length === 0) {\n    return undefined\n  }\n\n  return chunks\n}\n\nfunction mergeEcmascriptChunkUpdates(\n  updateA: EcmascriptMergedChunkUpdate,\n  updateB: EcmascriptMergedChunkUpdate\n): EcmascriptMergedChunkUpdate | undefined {\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\n    // These two completely cancel each other out.\n    return undefined\n  }\n\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\n    const added = []\n    const deleted = []\n    const deletedModules = new Set(updateA.modules ?? [])\n    const addedModules = new Set(updateB.modules ?? [])\n\n    for (const moduleId of addedModules) {\n      if (!deletedModules.has(moduleId)) {\n        added.push(moduleId)\n      }\n    }\n\n    for (const moduleId of deletedModules) {\n      if (!addedModules.has(moduleId)) {\n        deleted.push(moduleId)\n      }\n    }\n\n    if (added.length === 0 && deleted.length === 0) {\n      return undefined\n    }\n\n    return {\n      type: 'partial',\n      added,\n      deleted,\n    }\n  }\n\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\n    const deleted = new Set([\n      ...(updateA.deleted ?? []),\n      ...(updateB.deleted ?? []),\n    ])\n\n    if (updateB.added != null) {\n      for (const moduleId of updateB.added) {\n        deleted.delete(moduleId)\n      }\n    }\n\n    if (updateB.deleted != null) {\n      for (const moduleId of updateB.deleted) {\n        added.delete(moduleId)\n      }\n    }\n\n    return {\n      type: 'partial',\n      added: [...added],\n      deleted: [...deleted],\n    }\n  }\n\n  if (updateA.type === 'added' && updateB.type === 'partial') {\n    const modules = new Set([\n      ...(updateA.modules ?? []),\n      ...(updateB.added ?? []),\n    ])\n\n    for (const moduleId of updateB.deleted ?? []) {\n      modules.delete(moduleId)\n    }\n\n    return {\n      type: 'added',\n      modules: [...modules],\n    }\n  }\n\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\n    // We could eagerly return `updateB` here, but this would potentially be\n    // incorrect if `updateA` has added modules.\n\n    const modules = new Set(updateB.modules ?? [])\n\n    if (updateA.added != null) {\n      for (const moduleId of updateA.added) {\n        modules.delete(moduleId)\n      }\n    }\n\n    return {\n      type: 'deleted',\n      modules: [...modules],\n    }\n  }\n\n  // Any other update combination is invalid.\n\n  return undefined\n}\n\nfunction invariant(_: never, message: string): never {\n  throw new Error(`Invariant: ${message}`)\n}\n\nconst CRITICAL = ['bug', 'error', 'fatal']\n\nfunction compareByList(list: any[], a: any, b: any) {\n  const aI = list.indexOf(a) + 1 || list.length\n  const bI = list.indexOf(b) + 1 || list.length\n  return aI - bI\n}\n\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\n\nfunction emitIssues() {\n  const issues = []\n  const deduplicationSet = new Set()\n\n  for (const [_, chunkIssues] of chunksWithIssues) {\n    for (const chunkIssue of chunkIssues) {\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\n\n      issues.push(chunkIssue)\n      deduplicationSet.add(chunkIssue.formatted)\n    }\n  }\n\n  sortIssues(issues)\n\n  hooks.issues(issues)\n}\n\nfunction handleIssues(msg: ServerMessage): boolean {\n  const key = resourceKey(msg.resource)\n  let hasCriticalIssues = false\n\n  for (const issue of msg.issues) {\n    if (CRITICAL.includes(issue.severity)) {\n      hasCriticalIssues = true\n    }\n  }\n\n  if (msg.issues.length > 0) {\n    chunksWithIssues.set(key, msg.issues)\n  } else if (chunksWithIssues.has(key)) {\n    chunksWithIssues.delete(key)\n  }\n\n  emitIssues()\n\n  return hasCriticalIssues\n}\n\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\nconst CATEGORY_ORDER = [\n  'parse',\n  'resolve',\n  'code generation',\n  'rendering',\n  'typescript',\n  'other',\n]\n\nfunction sortIssues(issues: Issue[]) {\n  issues.sort((a, b) => {\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\n    if (first !== 0) return first\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\n  })\n}\n\nconst hooks = {\n  beforeRefresh: () => {},\n  refresh: () => {},\n  buildOk: () => {},\n  issues: (_issues: Issue[]) => {},\n}\n\nexport function setHooks(newHooks: typeof hooks) {\n  Object.assign(hooks, newHooks)\n}\n\nfunction handleSocketMessage(msg: ServerMessage) {\n  sortIssues(msg.issues)\n\n  handleIssues(msg)\n\n  switch (msg.type) {\n    case 'issues':\n      // issues are already handled\n      break\n    case 'partial':\n      // aggregate updates\n      aggregateUpdates(msg)\n      break\n    default:\n      // run single update\n      const runHooks = chunkListsWithPendingUpdates.size === 0\n      if (runHooks) hooks.beforeRefresh()\n      triggerUpdate(msg)\n      if (runHooks) finalizeUpdate()\n      break\n  }\n}\n\nfunction finalizeUpdate() {\n  hooks.refresh()\n  hooks.buildOk()\n\n  // This is used by the Next.js integration test suite to notify it when HMR\n  // updates have been completed.\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\n  if (globalThis.__NEXT_HMR_CB) {\n    globalThis.__NEXT_HMR_CB()\n    globalThis.__NEXT_HMR_CB = null\n  }\n}\n\nfunction subscribeToChunkUpdate(\n  chunkListPath: ChunkListPath,\n  sendMessage: SendMessage,\n  callback: UpdateCallback\n): () => void {\n  return subscribeToUpdate(\n    {\n      path: chunkListPath,\n    },\n    sendMessage,\n    callback\n  )\n}\n\nexport function subscribeToUpdate(\n  resource: ResourceIdentifier,\n  sendMessage: SendMessage,\n  callback: UpdateCallback\n) {\n  const key = resourceKey(resource)\n  let callbackSet: UpdateCallbackSet\n  const existingCallbackSet = updateCallbackSets.get(key)\n  if (!existingCallbackSet) {\n    callbackSet = {\n      callbacks: new Set([callback]),\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\n    }\n    updateCallbackSets.set(key, callbackSet)\n  } else {\n    existingCallbackSet.callbacks.add(callback)\n    callbackSet = existingCallbackSet\n  }\n\n  return () => {\n    callbackSet.callbacks.delete(callback)\n\n    if (callbackSet.callbacks.size === 0) {\n      callbackSet.unsubscribe()\n      updateCallbackSets.delete(key)\n    }\n  }\n}\n\nfunction triggerUpdate(msg: ServerMessage) {\n  const key = resourceKey(msg.resource)\n  const callbackSet = updateCallbackSets.get(key)\n  if (!callbackSet) {\n    return\n  }\n\n  for (const callback of callbackSet.callbacks) {\n    callback(msg)\n  }\n\n  if (msg.type === 'notFound') {\n    // This indicates that the resource which we subscribed to either does not exist or\n    // has been deleted. In either case, we should clear all update callbacks, so if a\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\n    // message to the server.\n    // No need to send an \"unsubscribe\" message to the server, it will have already\n    // dropped the update stream before sending the \"notFound\" message.\n    updateCallbackSets.delete(key)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}