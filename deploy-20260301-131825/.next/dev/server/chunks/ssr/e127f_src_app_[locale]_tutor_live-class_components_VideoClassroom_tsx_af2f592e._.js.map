{
  "version": 3,
  "sources": [],
  "debugId": "de392e9a-7860-75cf-844c-a47033aa6579",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/live-class/components/VideoClassroom.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog'\nimport { Slider } from '@/components/ui/slider'\nimport { cn } from '@/lib/utils'\nimport { toast } from 'sonner'\nimport { useDailyCall } from '@/hooks/use-daily-call'\nimport { dailyProvider } from '@/lib/video/daily-provider'\nimport { ChatPanel } from './ChatPanel'\nimport { ParticipantsPanel } from './ParticipantsPanel'\nimport { WhiteboardPanel } from './WhiteboardPanel'\nimport { ScreenShareView } from './ScreenShareView'\nimport { RecordingIndicator } from './RecordingIndicator'\nimport { ReactionsOverlay } from './ReactionsOverlay'\nimport { PollCreator } from './PollCreator'\nimport { BreakoutRoomControl } from './BreakoutRoomControl'\nimport {\n  Mic,\n  MicOff,\n  Video,\n  VideoOff,\n  MonitorUp,\n  MonitorOff,\n  PhoneOff,\n  MessageSquare,\n  Users,\n  Palette,\n  MoreHorizontal,\n  Settings,\n  Radio,\n  Pause,\n  Play,\n  Hand,\n  Smile,\n  BarChart3,\n  LayoutGrid,\n  Pin,\n  PinOff,\n  Maximize2,\n  Minimize2,\n  Volume2,\n  VolumeX,\n  ChevronRight,\n  ChevronLeft,\n  Sparkles\n} from 'lucide-react'\n\ninterface VideoClassroomProps {\n  sessionId: string\n  roomUrl: string\n  roomToken?: string\n  sessionTitle?: string\n}\n\ninterface Participant {\n  id: string\n  userId: string\n  name: string\n  isScreenSharing: boolean\n  isAudioEnabled: boolean\n  isVideoEnabled: boolean\n  isLocal: boolean\n  avatar?: string\n  isHandRaised?: boolean\n  isPinned?: boolean\n  reaction?: string\n}\n\ninterface Reaction {\n  id: string\n  emoji: string\n  participantId: string\n  timestamp: number\n}\n\nconst REACTIONS = ['üëç', 'üëè', '‚ù§Ô∏è', 'üòÇ', 'üòÆ', 'üéâ', '‚úã', 'üí°']\n\nexport function VideoClassroom({ sessionId, roomUrl, roomToken, sessionTitle = 'Live Class' }: VideoClassroomProps) {\n  const router = useRouter()\n  const videoContainerRef = useRef<HTMLDivElement>(null)\n  \n  // Video call hook\n  const {\n    call,\n    isJoined,\n    isAudioEnabled,\n    isVideoEnabled,\n    isScreenSharing,\n    participants,\n    join,\n    leave,\n    toggleAudio,\n    toggleVideo,\n    startScreenShare,\n    stopScreenShare,\n    startRecording,\n    stopRecording\n  } = useDailyCall({\n    onRecordingStarted: () => toast.success('Recording started'),\n    onRecordingStopped: () => toast.success('Recording stopped')\n  })\n\n  // Local state\n  const [isRecording, setIsRecording] = useState(false)\n  const [isPaused, setIsPaused] = useState(false)\n  const [recordingDuration, setRecordingDuration] = useState(0)\n  const [showChat, setShowChat] = useState(true)\n  const [showParticipants, setShowParticipants] = useState(false)\n  const [showWhiteboard, setShowWhiteboard] = useState(false)\n  const [showScreenShare, setShowScreenShare] = useState(false)\n  const [showSettings, setShowSettings] = useState(false)\n  const [showPollCreator, setShowPollCreator] = useState(false)\n  const [showBreakoutControl, setShowBreakoutControl] = useState(false)\n  const [showEndDialog, setShowEndDialog] = useState(false)\n  const [showReactions, setShowReactions] = useState(false)\n  const [activeReactions, setActiveReactions] = useState<Reaction[]>([])\n  const [layout, setLayout] = useState<'grid' | 'spotlight' | 'sidebar'>('grid')\n  const [pinnedParticipant, setPinnedParticipant] = useState<string | null>(null)\n  const [isFullscreen, setIsFullscreen] = useState(false)\n  const [chatUnreadCount, setChatUnreadCount] = useState(0)\n  const [handRaisedUsers, setHandRaisedUsers] = useState<Set<string>>(new Set())\n  \n  // Video quality settings\n  const [videoQuality, setVideoQuality] = useState<'low' | 'medium' | 'high'>('high')\n  const [isLowBandwidth, setIsLowBandwidth] = useState(false)\n\n  // Join the call on mount\n  useEffect(() => {\n    if (roomUrl && !isJoined) {\n      join(roomUrl, roomToken)\n    }\n    \n    return () => {\n      if (isJoined) {\n        leave()\n      }\n    }\n  }, [roomUrl, roomToken, isJoined, join, leave])\n\n  // Recording duration timer\n  useEffect(() => {\n    let interval: NodeJS.Timeout\n    if (isRecording && !isPaused) {\n      interval = setInterval(() => {\n        setRecordingDuration(prev => prev + 1)\n      }, 1000)\n    }\n    return () => clearInterval(interval)\n  }, [isRecording, isPaused])\n\n  // Handle reactions\n  const handleReaction = useCallback((emoji: string) => {\n    const newReaction: Reaction = {\n      id: `react-${Date.now()}`,\n      emoji,\n      participantId: 'local',\n      timestamp: Date.now()\n    }\n    setActiveReactions(prev => [...prev, newReaction])\n    setShowReactions(false)\n    \n    // Clear reaction after 3 seconds\n    setTimeout(() => {\n      setActiveReactions(prev => prev.filter(r => r.id !== newReaction.id))\n    }, 3000)\n  }, [])\n\n  // Toggle recording\n  const persistRecordingState = useCallback(async (recording: boolean) => {\n    try {\n      const fallbackRecordingUrl = recording ? null : roomUrl\n      await fetch(`/api/tutor/live-sessions/${sessionId}/recording`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({\n          isRecording: recording,\n          recordingUrl: fallbackRecordingUrl,\n        }),\n      })\n    } catch {\n      // Non-fatal.\n    }\n  }, [roomUrl, sessionId])\n\n  const handleToggleRecording = useCallback(() => {\n    const generateReplayArtifact = async () => {\n      try {\n        await fetch(`/api/tutor/live-sessions/${sessionId}/replay-artifact/generate`, {\n          method: 'POST',\n          credentials: 'include',\n        })\n        toast.success('Replay artifact ready: transcript + AI summary saved')\n      } catch {\n        toast.error('Recording saved, but replay artifact generation failed')\n      }\n    }\n\n    if (isRecording) {\n      stopRecording()\n      setIsRecording(false)\n      setIsPaused(false)\n      persistRecordingState(false)\n      toast.success('Recording stopped and saved to session replay')\n      void generateReplayArtifact()\n    } else {\n      startRecording()\n      setIsRecording(true)\n      setRecordingDuration(0)\n      persistRecordingState(true)\n      toast.success('Recording started')\n    }\n  }, [isRecording, persistRecordingState, sessionId, startRecording, stopRecording])\n\n  // Toggle pause recording\n  const handleTogglePause = useCallback(() => {\n    setIsPaused(!isPaused)\n    toast.info(isPaused ? 'Recording resumed' : 'Recording paused')\n  }, [isPaused])\n\n  // Toggle hand raise\n  const handleToggleHand = useCallback(() => {\n    setHandRaisedUsers(prev => {\n      const newSet = new Set(prev)\n      if (newSet.has('local')) {\n        newSet.delete('local')\n        toast.info('Hand lowered')\n      } else {\n        newSet.add('local')\n        toast.success('Hand raised')\n      }\n      return newSet\n    })\n  }, [])\n\n  // Toggle fullscreen\n  const toggleFullscreen = useCallback(() => {\n    if (!document.fullscreenElement) {\n      videoContainerRef.current?.requestFullscreen()\n      setIsFullscreen(true)\n    } else {\n      document.exitFullscreen()\n      setIsFullscreen(false)\n    }\n  }, [])\n\n  // End class\n  const handleEndClass = useCallback(() => {\n    if (isRecording) {\n      stopRecording()\n      persistRecordingState(false)\n      void fetch(`/api/tutor/live-sessions/${sessionId}/replay-artifact/generate`, {\n        method: 'POST',\n        credentials: 'include',\n      })\n    }\n    leave()\n    router.push('/tutor/dashboard')\n  }, [isRecording, leave, persistRecordingState, router, sessionId, stopRecording])\n\n  // Format recording duration\n  const formatDuration = (seconds: number) => {\n    const hrs = Math.floor(seconds / 3600)\n    const mins = Math.floor((seconds % 3600) / 60)\n    const secs = seconds % 60\n    if (hrs > 0) {\n      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\n    }\n    return `${mins}:${secs.toString().padStart(2, '0')}`\n  }\n\n  // Get active participants\n  const activeParticipants = participants.filter(p => p.isScreenSharing || pinnedParticipant === p.userId)\n  const mainParticipant = activeParticipants[0] || participants[0]\n  const otherParticipants = participants.filter(p => p.userId !== mainParticipant?.userId)\n\n  // Grid layout calculations\n  const getGridCols = () => {\n    const count = participants.length\n    if (count <= 1) return 'grid-cols-1'\n    if (count <= 4) return 'grid-cols-2'\n    if (count <= 9) return 'grid-cols-3'\n    return 'grid-cols-4'\n  }\n\n  return (\n    <TooltipProvider>\n      <div \n        ref={videoContainerRef}\n        className=\"h-screen flex flex-col bg-gray-900 overflow-hidden\"\n      >\n        {/* Header */}\n        <header className=\"bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center justify-between shrink-0\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-red-500 rounded-full animate-pulse\" />\n              <span className=\"text-white font-medium\">LIVE</span>\n            </div>\n            <div className=\"h-6 w-px bg-gray-600\" />\n            <div>\n              <h1 className=\"text-white font-medium\">{sessionTitle}</h1>\n              <p className=\"text-gray-400 text-xs\">Session ID: {sessionId}</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant={isRecording ? 'destructive' : 'outline'}\n              size=\"sm\"\n              className={cn(\n                \"gap-2\",\n                !isRecording && \"border-gray-600 bg-gray-700 text-white hover:bg-gray-600\"\n              )}\n              onClick={handleToggleRecording}\n            >\n              <Radio className={cn(\"w-4 h-4\", isRecording && \"animate-pulse\")} />\n              {isRecording ? 'Stop Recording' : 'Start Recording'}\n            </Button>\n\n            {/* Recording Indicator */}\n            {isRecording && (\n              <RecordingIndicator \n                duration={recordingDuration} \n                isPaused={isPaused}\n                onPause={handleTogglePause}\n                onStop={handleToggleRecording}\n              />\n            )}\n\n            {/* Layout Switcher */}\n            <div className=\"flex items-center bg-gray-700 rounded-lg p-1\">\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button\n                    variant={layout === 'grid' ? 'secondary' : 'ghost'}\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    onClick={() => setLayout('grid')}\n                  >\n                    <LayoutGrid className=\"w-4 h-4 text-white\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Grid View</TooltipContent>\n              </Tooltip>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button\n                    variant={layout === 'spotlight' ? 'secondary' : 'ghost'}\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    onClick={() => setLayout('spotlight')}\n                  >\n                    <Pin className=\"w-4 h-4 text-white\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>Spotlight View</TooltipContent>\n              </Tooltip>\n            </div>\n\n            {/* Quality Indicator */}\n            {isLowBandwidth && (\n              <Badge variant=\"destructive\" className=\"gap-1\">\n                Low Bandwidth\n              </Badge>\n            )}\n\n            {/* Participant Count */}\n            <Badge variant=\"secondary\" className=\"gap-1 bg-gray-700 text-white border-gray-600\">\n              <Users className=\"w-3 h-3\" />\n              {participants.length}\n            </Badge>\n\n            {/* Hand Raised Count */}\n            {handRaisedUsers.size > 0 && (\n              <Badge variant=\"default\" className=\"gap-1 bg-yellow-600\">\n                <Hand className=\"w-3 h-3\" />\n                {handRaisedUsers.size}\n              </Badge>\n            )}\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <div className=\"flex-1 flex overflow-hidden\">\n          {/* Video Area */}\n          <div className=\"flex-1 relative\">\n            {/* Video Grid */}\n            <div className={cn(\n              \"h-full p-4 gap-4\",\n              layout === 'grid' && `grid ${getGridCols()} auto-rows-fr`,\n              layout === 'spotlight' && 'flex flex-col',\n              layout === 'sidebar' && 'flex'\n            )}>\n              {participants.map((participant, index) => (\n                <div\n                  key={participant.id}\n                  className={cn(\n                    \"relative rounded-lg overflow-hidden bg-gray-800\",\n                    layout === 'spotlight' && index === 0 && \"flex-[2]\",\n                    layout === 'spotlight' && index > 0 && \"flex-1\",\n                    layout === 'sidebar' && index === 0 && \"flex-1\",\n                    layout === 'sidebar' && index > 0 && \"w-48\",\n                    pinnedParticipant === participant.userId && \"ring-2 ring-blue-500\"\n                  )}\n                >\n                  {/* Video Placeholder */}\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    {participant.isVideoEnabled ? (\n                      <div className=\"w-full h-full bg-gray-700 flex items-center justify-center text-gray-500\">\n                        Video Feed\n                      </div>\n                    ) : (\n                      <div className=\"flex flex-col items-center gap-2\">\n                        <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold\">\n                          {participant.name.split(' ').map(n => n[0]).join('')}\n                        </div>\n                        <span className=\"text-white font-medium\">{participant.name}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Screen Share Indicator */}\n                  {participant.isScreenSharing && (\n                    <div className=\"absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded text-xs flex items-center gap-1\">\n                      <MonitorUp className=\"w-3 h-3\" />\n                      Sharing\n                    </div>\n                  )}\n\n                  {/* Hand Raised Indicator */}\n                  {handRaisedUsers.has(participant.userId) && (\n                    <div className=\"absolute top-2 right-2 bg-yellow-500 text-white p-1.5 rounded-full\">\n                      <Hand className=\"w-4 h-4\" />\n                    </div>\n                  )}\n\n                  {/* Reaction Overlay */}\n                  {activeReactions\n                    .filter(r => r.participantId === participant.userId)\n                    .map(reaction => (\n                      <div\n                        key={reaction.id}\n                        className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-6xl animate-bounce\"\n                      >\n                        {reaction.emoji}\n                      </div>\n                    ))\n                  }\n\n                  {/* Video Controls Overlay */}\n                  <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent opacity-0 hover:opacity-100 transition-opacity\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-white text-sm font-medium\">\n                        {participant.name}\n                      </span>\n                      <div className=\"flex items-center gap-1\">\n                        {!participant.isAudioEnabled && (\n                          <div className=\"p-1 bg-red-500 rounded\">\n                            <MicOff className=\"w-3 h-3 text-white\" />\n                          </div>\n                        )}\n                        <Tooltip>\n                          <TooltipTrigger asChild>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"h-6 w-6 text-white hover:bg-white/20\"\n                              onClick={() => setPinnedParticipant(\n                                pinnedParticipant === participant.userId ? null : participant.userId\n                              )}\n                            >\n                              {pinnedParticipant === participant.userId ? (\n                                <PinOff className=\"w-3 h-3\" />\n                              ) : (\n                                <Pin className=\"w-3 h-3\" />\n                              )}\n                            </Button>\n                          </TooltipTrigger>\n                          <TooltipContent>\n                            {pinnedParticipant === participant.userId ? 'Unpin' : 'Pin'}\n                          </TooltipContent>\n                        </Tooltip>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Screen Share Overlay */}\n            {showScreenShare && isScreenSharing && (\n              <ScreenShareView onStop={stopScreenShare} />\n            )}\n\n            {/* Whiteboard Overlay */}\n            {showWhiteboard && (\n              <WhiteboardPanel onClose={() => setShowWhiteboard(false)} />\n            )}\n\n            {/* Reactions Overlay */}\n            {showReactions && (\n              <ReactionsOverlay\n                reactions={REACTIONS}\n                onSelect={handleReaction}\n                onClose={() => setShowReactions(false)}\n              />\n            )}\n          </div>\n\n          {/* Side Panel */}\n          {(showChat || showParticipants) && (\n            <div className=\"w-[350px] bg-gray-800 border-l border-gray-700 flex flex-col\">\n              {/* Panel Tabs */}\n              <div className=\"flex border-b border-gray-700\">\n                <button\n                  className={cn(\n                    \"flex-1 py-3 text-sm font-medium text-white border-b-2 transition-colors\",\n                    showChat ? \"border-blue-500\" : \"border-transparent hover:border-gray-600\"\n                  )}\n                  onClick={() => { setShowChat(true); setShowParticipants(false); }}\n                >\n                  <div className=\"flex items-center justify-center gap-2\">\n                    <MessageSquare className=\"w-4 h-4\" />\n                    Chat\n                    {chatUnreadCount > 0 && (\n                      <Badge variant=\"destructive\" className=\"text-xs\">\n                        {chatUnreadCount}\n                      </Badge>\n                    )}\n                  </div>\n                </button>\n                <button\n                  className={cn(\n                    \"flex-1 py-3 text-sm font-medium text-white border-b-2 transition-colors\",\n                    showParticipants ? \"border-blue-500\" : \"border-transparent hover:border-gray-600\"\n                  )}\n                  onClick={() => { setShowChat(false); setShowParticipants(true); }}\n                >\n                  <div className=\"flex items-center justify-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    People\n                  </div>\n                </button>\n              </div>\n\n              {/* Panel Content */}\n              <div className=\"flex-1 overflow-hidden\">\n                {showChat && (\n                  <ChatPanel \n                    onUnreadChange={setChatUnreadCount}\n                    participants={participants}\n                  />\n                )}\n                {showParticipants && (\n                  <ParticipantsPanel \n                    participants={participants}\n                    handRaisedUsers={handRaisedUsers}\n                    onToggleHand={handleToggleHand}\n                  />\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Control Bar */}\n        <div className=\"bg-gray-800 border-t border-gray-700 px-4 py-3 flex items-center justify-between shrink-0\">\n          {/* Left - Info */}\n          <div className=\"flex items-center gap-4\">\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"text-white hover:bg-gray-700\"\n                  onClick={() => setShowParticipants(!showParticipants)}\n                >\n                  <ChevronRight className={cn(\"w-5 h-5 transition-transform\", showParticipants && \"rotate-180\")} />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>Toggle Panel</TooltipContent>\n            </Tooltip>\n\n            <div className=\"text-gray-400 text-sm\">\n              {participants.length} participants\n            </div>\n          </div>\n\n          {/* Center - Main Controls */}\n          <div className=\"flex items-center gap-2\">\n            {/* Microphone */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant={isAudioEnabled ? 'outline' : 'destructive'}\n                  size=\"icon\"\n                  className={cn(\"h-12 w-12 rounded-full border-2\", isAudioEnabled && \"border-gray-600 bg-gray-700 hover:bg-gray-600\")}\n                  onClick={toggleAudio}\n                >\n                  {isAudioEnabled ? (\n                    <Mic className=\"w-5 h-5 text-white\" />\n                  ) : (\n                    <MicOff className=\"w-5 h-5 text-white\" />\n                  )}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isAudioEnabled ? 'Mute' : 'Unmute'}</TooltipContent>\n            </Tooltip>\n\n            {/* Video */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant={isVideoEnabled ? 'outline' : 'destructive'}\n                  size=\"icon\"\n                  className={cn(\"h-12 w-12 rounded-full border-2\", isVideoEnabled && \"border-gray-600 bg-gray-700 hover:bg-gray-600\")}\n                  onClick={toggleVideo}\n                >\n                  {isVideoEnabled ? (\n                    <Video className=\"w-5 h-5 text-white\" />\n                  ) : (\n                    <VideoOff className=\"w-5 h-5 text-white\" />\n                  )}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isVideoEnabled ? 'Stop Video' : 'Start Video'}</TooltipContent>\n            </Tooltip>\n\n            {/* Reactions */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"h-12 w-12 rounded-full border-2 border-gray-600 bg-gray-700 hover:bg-gray-600\"\n                  onClick={() => setShowReactions(!showReactions)}\n                >\n                  <Smile className=\"w-5 h-5 text-white\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>Reactions</TooltipContent>\n            </Tooltip>\n\n            {/* Hand Raise */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant={handRaisedUsers.has('local') ? 'default' : 'outline'}\n                  size=\"icon\"\n                  className={cn(\n                    \"h-12 w-12 rounded-full border-2\",\n                    handRaisedUsers.has('local') \n                      ? \"bg-yellow-600 border-yellow-600 hover:bg-yellow-700\" \n                      : \"border-gray-600 bg-gray-700 hover:bg-gray-600\"\n                  )}\n                  onClick={handleToggleHand}\n                >\n                  <Hand className=\"w-5 h-5 text-white\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{handRaisedUsers.has('local') ? 'Lower Hand' : 'Raise Hand'}</TooltipContent>\n            </Tooltip>\n\n            {/* Screen Share */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant={isScreenSharing ? 'default' : 'outline'}\n                  size=\"icon\"\n                  className={cn(\n                    \"h-12 w-12 rounded-full border-2\",\n                    isScreenSharing \n                      ? \"bg-green-600 border-green-600 hover:bg-green-700\" \n                      : \"border-gray-600 bg-gray-700 hover:bg-gray-600\"\n                  )}\n                  onClick={isScreenSharing ? stopScreenShare : startScreenShare}\n                >\n                  {isScreenSharing ? (\n                    <MonitorOff className=\"w-5 h-5 text-white\" />\n                  ) : (\n                    <MonitorUp className=\"w-5 h-5 text-white\" />\n                  )}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isScreenSharing ? 'Stop Sharing' : 'Share Screen'}</TooltipContent>\n            </Tooltip>\n\n            {/* Recording */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant={isRecording ? 'destructive' : 'outline'}\n                  size=\"icon\"\n                  className={cn(\n                    \"h-12 w-12 rounded-full border-2\",\n                    !isRecording && \"border-gray-600 bg-gray-700 hover:bg-gray-600\"\n                  )}\n                  onClick={handleToggleRecording}\n                >\n                  <Radio className={cn(\"w-5 h-5\", isRecording ? \"text-white animate-pulse\" : \"text-white\")} />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isRecording ? 'Stop Recording' : 'Start Recording'}</TooltipContent>\n            </Tooltip>\n\n            {/* More Options */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"h-12 w-12 rounded-full border-2 border-gray-600 bg-gray-700 hover:bg-gray-600\"\n                  onClick={() => setShowSettings(true)}\n                >\n                  <MoreHorizontal className=\"w-5 h-5 text-white\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>More Options</TooltipContent>\n            </Tooltip>\n          </div>\n\n          {/* Right - End Call */}\n          <div className=\"flex items-center gap-2\">\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"text-white border-gray-600 hover:bg-gray-700\"\n                  onClick={toggleFullscreen}\n                >\n                  {isFullscreen ? <Minimize2 className=\"w-5 h-5\" /> : <Maximize2 className=\"w-5 h-5\" />}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{isFullscreen ? 'Exit Fullscreen' : 'Fullscreen'}</TooltipContent>\n            </Tooltip>\n\n            <Button\n              variant=\"destructive\"\n              className=\"gap-2 px-6 bg-red-600 hover:bg-red-700\"\n              onClick={() => setShowEndDialog(true)}\n            >\n              <PhoneOff className=\"w-5 h-5\" />\n              End\n            </Button>\n          </div>\n        </div>\n\n        {/* Settings Dialog */}\n        <Dialog open={showSettings} onOpenChange={setShowSettings}>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle className=\"flex items-center gap-2\">\n                <Settings className=\"w-5 h-5\" />\n                Classroom Settings\n              </DialogTitle>\n            </DialogHeader>\n            <div className=\"space-y-6 py-4\">\n              {/* Video Quality */}\n              <div className=\"space-y-2\">\n                <Label className=\"text-sm font-medium\">Video Quality</Label>\n                <div className=\"flex gap-2\">\n                  {(['low', 'medium', 'high'] as const).map((quality) => (\n                    <Button\n                      key={quality}\n                      variant={videoQuality === quality ? 'default' : 'outline'}\n                      size=\"sm\"\n                      onClick={() => setVideoQuality(quality)}\n                      className=\"flex-1 capitalize\"\n                    >\n                      {quality}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Low Bandwidth Mode */}\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"font-medium\">Low Bandwidth Mode</p>\n                  <p className=\"text-sm text-gray-500\">Reduce video quality on slow connections</p>\n                </div>\n                <Button\n                  variant={isLowBandwidth ? 'default' : 'outline'}\n                  size=\"sm\"\n                  onClick={() => setIsLowBandwidth(!isLowBandwidth)}\n                >\n                  {isLowBandwidth ? 'On' : 'Off'}\n                </Button>\n              </div>\n\n              {/* Tools */}\n              <div className=\"space-y-2\">\n                <Label className=\"text-sm font-medium\">Tools</Label>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <Button variant=\"outline\" onClick={() => { setShowWhiteboard(true); setShowSettings(false); }}>\n                    <Palette className=\"w-4 h-4 mr-2\" />\n                    Whiteboard\n                  </Button>\n                  <Button variant=\"outline\" onClick={() => { setShowPollCreator(true); setShowSettings(false); }}>\n                    <BarChart3 className=\"w-4 h-4 mr-2\" />\n                    Create Poll\n                  </Button>\n                  <Button variant=\"outline\" onClick={() => { setShowBreakoutControl(true); setShowSettings(false); }}>\n                    <Users className=\"w-4 h-4 mr-2\" />\n                    Breakout Rooms\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n\n        {/* End Class Dialog */}\n        <Dialog open={showEndDialog} onOpenChange={setShowEndDialog}>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>End Class Session?</DialogTitle>\n              <DialogDescription>\n                {isRecording \n                  ? 'You are currently recording. The recording will be saved.' \n                  : 'All participants will be disconnected.'}\n              </DialogDescription>\n            </DialogHeader>\n            <DialogFooter className=\"gap-2\">\n              <Button variant=\"outline\" onClick={() => setShowEndDialog(false)}>\n                Cancel\n              </Button>\n              <Button variant=\"destructive\" onClick={handleEndClass}>\n                End Class\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n\n        {/* Poll Creator Dialog */}\n        <Dialog open={showPollCreator} onOpenChange={setShowPollCreator}>\n          <DialogContent className=\"sm:max-w-lg\">\n            <PollCreator \n              onClose={() => setShowPollCreator(false)}\n              participants={participants}\n            />\n          </DialogContent>\n        </Dialog>\n\n        {/* Breakout Rooms Dialog */}\n        <Dialog open={showBreakoutControl} onOpenChange={setShowBreakoutControl}>\n          <DialogContent className=\"sm:max-w-2xl\">\n            <BreakoutRoomControl \n              onClose={() => setShowBreakoutControl(false)}\n              participants={participants}\n            />\n          </DialogContent>\n        </Dialog>\n      </div>\n    </TooltipProvider>\n  )\n}\n\n// Label component for settings\nfunction Label({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <label className={cn(\"text-sm font-medium text-gray-700\", className)}>\n      {children}\n    </label>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}