{
  "version": 3,
  "sources": [],
  "debugId": "3f39ed50-840e-e77b-9319-b71c3a533f8c",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/student/quizzes/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Progress } from '@/components/ui/progress'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { toast } from 'sonner'\nimport {\n    Clock,\n    AlertCircle,\n    ChevronLeft,\n    ChevronRight,\n    CheckCircle,\n    Flag,\n    Send,\n    BarChart3,\n    RotateCcw,\n    Loader2,\n    Play\n} from 'lucide-react'\nimport { QuizQuestion, QuestionResult } from '@/types/quiz'\n\nexport default function QuizTakingPage({ params }: { params: Promise<{ id: string }> }) {\n    const router = useRouter()\n    const [quizId, setQuizId] = useState<string>('')\n    const [loading, setLoading] = useState(true)\n    const [starting, setStarting] = useState(false)\n    const [submitting, setSubmitting] = useState(false)\n    \n    // Quiz state\n    const [quiz, setQuiz] = useState<any>(null)\n    const [questions, setQuestions] = useState<QuizQuestion[]>([])\n    const [attemptId, setAttemptId] = useState<string>('')\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\n    const [answers, setAnswers] = useState<Record<string, string | string[]>>({})\n    const [timeRemaining, setTimeRemaining] = useState<number | null>(null)\n    const [timeSpent, setTimeSpent] = useState(0)\n    const [quizStarted, setQuizStarted] = useState(false)\n    const [quizCompleted, setQuizCompleted] = useState(false)\n    const [results, setResults] = useState<any>(null)\n    const [previousAttempts, setPreviousAttempts] = useState<any[]>([])\n    \n    // Timer ref\n    const timerRef = useRef<NodeJS.Timeout | null>(null)\n\n    // Resolve params\n    useEffect(() => {\n        params.then(p => setQuizId(p.id))\n    }, [params])\n\n    // Fetch quiz\n    const fetchQuiz = useCallback(async () => {\n        if (!quizId) return\n        \n        try {\n            const res = await fetch(`/api/student/quizzes/${quizId}`)\n            if (res.ok) {\n                const data = await res.json()\n                setQuiz(data.quiz)\n                setQuestions(data.questions)\n                setPreviousAttempts(data.attempts)\n                \n                // Check if already completed and can view results\n                if (data.attempts.length > 0 && !data.canAttempt) {\n                    setQuizCompleted(true)\n                    setResults(data.attempts[0])\n                }\n            } else {\n                toast.error('Failed to load quiz')\n            }\n        } catch (error) {\n            toast.error('An error occurred')\n        } finally {\n            setLoading(false)\n        }\n    }, [quizId])\n\n    useEffect(() => {\n        fetchQuiz()\n    }, [fetchQuiz])\n\n    // Timer effect\n    useEffect(() => {\n        if (quizStarted && timeRemaining !== null && timeRemaining > 0) {\n            timerRef.current = setInterval(() => {\n                setTimeRemaining(prev => {\n                    if (prev === null || prev <= 1) {\n                        // Time's up - auto submit\n                        handleSubmit()\n                        return 0\n                    }\n                    return prev - 1\n                })\n                setTimeSpent(prev => prev + 1)\n            }, 1000)\n        }\n\n        return () => {\n            if (timerRef.current) {\n                clearInterval(timerRef.current)\n            }\n        }\n    }, [quizStarted, timeRemaining])\n\n    // Start quiz\n    const handleStart = async () => {\n        setStarting(true)\n        try {\n            const res = await fetch(`/api/student/quizzes/${quizId}/attempt`, {\n                method: 'POST'\n            })\n\n            if (res.ok) {\n                const data = await res.json()\n                setAttemptId(data.attemptId)\n                setTimeRemaining(data.timeRemaining)\n                setQuizStarted(true)\n                setCurrentQuestionIndex(0)\n                setAnswers({})\n            } else {\n                const error = await res.json()\n                toast.error(error.error || 'Failed to start quiz')\n            }\n        } catch (error) {\n            toast.error('An error occurred')\n        } finally {\n            setStarting(false)\n        }\n    }\n\n    // Submit quiz\n    const handleSubmit = async () => {\n        if (!attemptId) return\n        \n        setSubmitting(true)\n        try {\n            const res = await fetch(`/api/student/quizzes/${quizId}/submit`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    attemptId,\n                    answers,\n                    timeSpent\n                })\n            })\n\n            if (res.ok) {\n                const data = await res.json()\n                setResults(data.attempt)\n                setQuizCompleted(true)\n                setQuizStarted(false)\n                toast.success('Quiz submitted!')\n            } else {\n                toast.error('Failed to submit quiz')\n            }\n        } catch (error) {\n            toast.error('An error occurred')\n        } finally {\n            setSubmitting(false)\n        }\n    }\n\n    // Handle answer selection\n    const handleAnswer = (questionId: string, answer: string | string[]) => {\n        setAnswers(prev => ({ ...prev, [questionId]: answer }))\n    }\n\n    // Format time\n    const formatTime = (seconds: number) => {\n        const mins = Math.floor(seconds / 60)\n        const secs = seconds % 60\n        return `${mins}:${secs.toString().padStart(2, '0')}`\n    }\n\n    const currentQuestion = questions[currentQuestionIndex]\n    const progress = questions.length > 0 ? ((currentQuestionIndex + 1) / questions.length) * 100 : 0\n    const answeredCount = Object.keys(answers).length\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-screen\">\n                <Loader2 className=\"w-8 h-8 animate-spin\" />\n            </div>\n        )\n    }\n\n    if (!quiz) {\n        return (\n            <div className=\"flex items-center justify-center h-screen\">\n                <p>Quiz not found</p>\n            </div>\n        )\n    }\n\n    // Results view\n    if (quizCompleted && results) {\n        const percentage = results.percentage\n        const passed = quiz.passingScore ? percentage >= quiz.passingScore : percentage >= 70\n\n        return (\n            <div className=\"container mx-auto p-6 max-w-3xl\">\n                <Card>\n                    <CardHeader>\n                        <CardTitle className=\"text-center\">Quiz Results</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-6\">\n                        {/* Score */}\n                        <div className=\"text-center\">\n                            <div className={`text-6xl font-bold ${passed ? 'text-green-500' : 'text-red-500'}`}>\n                                {percentage}%\n                            </div>\n                            <p className=\"text-muted-foreground mt-2\">\n                                {passed ? 'Congratulations! You passed!' : 'Keep practicing! You\\'ll do better next time.'}\n                            </p>\n                        </div>\n\n                        {/* Stats */}\n                        <div className=\"grid grid-cols-3 gap-4 text-center\">\n                            <div className=\"p-4 bg-gray-50 rounded-lg\">\n                                <div className=\"text-2xl font-semibold\">{results.score}</div>\n                                <div className=\"text-sm text-muted-foreground\">Points Earned</div>\n                            </div>\n                            <div className=\"p-4 bg-gray-50 rounded-lg\">\n                                <div className=\"text-2xl font-semibold\">{results.maxScore}</div>\n                                <div className=\"text-sm text-muted-foreground\">Total Points</div>\n                            </div>\n                            <div className=\"p-4 bg-gray-50 rounded-lg\">\n                                <div className=\"text-2xl font-semibold\">{formatTime(timeSpent)}</div>\n                                <div className=\"text-sm text-muted-foreground\">Time Spent</div>\n                            </div>\n                        </div>\n\n                        {/* Question Results */}\n                        <div className=\"space-y-3\">\n                            <h3 className=\"font-medium\">Question Breakdown</h3>\n                            {results.questionResults?.map((result: QuestionResult, idx: number) => (\n                                <div \n                                    key={result.questionId} \n                                    className={`p-3 rounded-lg border ${result.correct ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}\n                                >\n                                    <div className=\"flex items-start gap-3\">\n                                        {result.correct ? (\n                                            <CheckCircle className=\"w-5 h-5 text-green-500 flex-shrink-0\" />\n                                        ) : (\n                                            <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n                                        )}\n                                        <div className=\"flex-1\">\n                                            <p className=\"font-medium\">Question {idx + 1}</p>\n                                            <p className=\"text-sm text-muted-foreground\">\n                                                {result.pointsEarned} / {result.pointsMax} points\n                                            </p>\n                                            {result.feedback && (\n                                                <p className=\"text-sm mt-1\">{result.feedback}</p>\n                                            )}\n                                            {result.explanation && (\n                                                <p className=\"text-sm text-muted-foreground mt-1\">\n                                                    {result.explanation}\n                                                </p>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n\n                        {/* Actions */}\n                        <div className=\"flex gap-3\">\n                            <Button variant=\"outline\" className=\"flex-1\" onClick={() => router.push('/student/quizzes')}>\n                                Back to Quizzes\n                            </Button>\n                            {quiz.canAttempt && (\n                                <Button className=\"flex-1\" onClick={() => window.location.reload()}>\n                                    <RotateCcw className=\"w-4 h-4 mr-2\" />\n                                    Try Again\n                                </Button>\n                            )}\n                        </div>\n                    </CardContent>\n                </Card>\n            </div>\n        )\n    }\n\n    // Start screen\n    if (!quizStarted) {\n        return (\n            <div className=\"container mx-auto p-6 max-w-2xl\">\n                <Card>\n                    <CardHeader>\n                        <CardTitle className=\"text-2xl\">{quiz.title}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-6\">\n                        <div className=\"flex flex-wrap gap-2\">\n                            <Badge variant=\"outline\">{quiz.type}</Badge>\n                            <Badge variant=\"outline\">{questions.length} questions</Badge>\n                            <Badge variant=\"outline\">{quiz.totalPoints} points</Badge>\n                            {quiz.timeLimit && (\n                                <Badge variant=\"outline\">\n                                    <Clock className=\"w-3 h-3 mr-1\" />\n                                    {quiz.timeLimit} minutes\n                                </Badge>\n                            )}\n                        </div>\n\n                        {quiz.description && (\n                            <p className=\"text-muted-foreground\">{quiz.description}</p>\n                        )}\n\n                        <Alert>\n                            <AlertCircle className=\"w-4 h-4\" />\n                            <AlertDescription>\n                                {quiz.timeLimit \n                                    ? `You have ${quiz.timeLimit} minutes to complete this quiz. The quiz will auto-submit when time runs out.`\n                                    : 'There is no time limit for this quiz. Take your time and answer carefully.'\n                                }\n                            </AlertDescription>\n                        </Alert>\n\n                        {previousAttempts.length > 0 && (\n                            <div className=\"p-4 bg-gray-50 rounded-lg\">\n                                <h3 className=\"font-medium mb-2\">Previous Attempts</h3>\n                                <div className=\"space-y-2\">\n                                    {previousAttempts.map((attempt, idx) => (\n                                        <div key={attempt.id} className=\"flex items-center justify-between text-sm\">\n                                            <span>Attempt {idx + 1}</span>\n                                            <span className=\"font-medium\">{attempt.score}%</span>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n\n                        <Button \n                            size=\"lg\" \n                            className=\"w-full\"\n                            onClick={handleStart}\n                            disabled={starting}\n                        >\n                            {starting ? <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> : <Play className=\"w-4 h-4 mr-2\" />}\n                            {previousAttempts.length > 0 ? 'Retake Quiz' : 'Start Quiz'}\n                        </Button>\n                    </CardContent>\n                </Card>\n            </div>\n        )\n    }\n\n    // Quiz taking interface\n    return (\n        <div className=\"min-h-screen bg-gray-50\">\n            {/* Header */}\n            <header className=\"bg-white border-b sticky top-0 z-10\">\n                <div className=\"container mx-auto px-4 py-4\">\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            <h1 className=\"font-semibold\">{quiz.title}</h1>\n                            <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                                <span>Question {currentQuestionIndex + 1} of {questions.length}</span>\n                                <span>{answeredCount} answered</span>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-4\">\n                            {timeRemaining !== null && (\n                                <div className={`flex items-center gap-2 font-mono text-lg ${\n                                    timeRemaining < 60 ? 'text-red-500' : ''\n                                }`}>\n                                    <Clock className=\"w-5 h-5\" />\n                                    {formatTime(timeRemaining)}\n                                </div>\n                            )}\n                            <Button \n                                variant=\"outline\" \n                                size=\"sm\"\n                                onClick={() => {\n                                    if (confirm('Are you sure you want to submit? You cannot change your answers after.')) {\n                                        handleSubmit()\n                                    }\n                                }}\n                                disabled={submitting}\n                            >\n                                {submitting ? <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> : <Send className=\"w-4 h-4 mr-2\" />}\n                                Submit\n                            </Button>\n                        </div>\n                    </div>\n                    <Progress value={progress} className=\"mt-4\" />\n                </div>\n            </header>\n\n            {/* Question */}\n            <main className=\"container mx-auto px-4 py-6 max-w-3xl\">\n                {currentQuestion && (\n                    <Card>\n                        <CardHeader>\n                            <div className=\"flex items-center justify-between\">\n                                <Badge variant=\"outline\">\n                                    {currentQuestion.points} point{currentQuestion.points !== 1 ? 's' : ''}\n                                </Badge>\n                                {currentQuestion.difficulty && (\n                                    <Badge variant=\"secondary\">{currentQuestion.difficulty}</Badge>\n                                )}\n                            </div>\n                            <CardTitle className=\"text-lg font-medium mt-2\">\n                                {currentQuestion.question}\n                            </CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                            {/* Multiple Choice */}\n                            {(currentQuestion.type === 'multiple_choice' || currentQuestion.type === 'true_false') && currentQuestion.options && (\n                                <div className=\"space-y-2\">\n                                    {currentQuestion.options.map((option, idx) => (\n                                        <button\n                                            key={idx}\n                                            onClick={() => handleAnswer(currentQuestion.id, option)}\n                                            className={`w-full p-4 text-left rounded-lg border transition-all ${\n                                                answers[currentQuestion.id] === option\n                                                    ? 'border-blue-500 bg-blue-50'\n                                                    : 'border-gray-200 hover:border-gray-300'\n                                            }`}\n                                        >\n                                            <span className=\"font-medium text-muted-foreground mr-3\">\n                                                {String.fromCharCode(65 + idx)}.\n                                            </span>\n                                            {option}\n                                        </button>\n                                    ))}\n                                </div>\n                            )}\n\n                            {/* Multi-Select */}\n                            {currentQuestion.type === 'multi_select' && currentQuestion.options && (\n                                <div className=\"space-y-2\">\n                                    {currentQuestion.options.map((option, idx) => {\n                                        const currentAnswers = (answers[currentQuestion.id] as string[]) || []\n                                        const isSelected = currentAnswers.includes(option)\n                                        \n                                        return (\n                                            <button\n                                                key={idx}\n                                                onClick={() => {\n                                                    const newAnswers = isSelected\n                                                        ? currentAnswers.filter(a => a !== option)\n                                                        : [...currentAnswers, option]\n                                                    handleAnswer(currentQuestion.id, newAnswers)\n                                                }}\n                                                className={`w-full p-4 text-left rounded-lg border transition-all ${\n                                                    isSelected\n                                                        ? 'border-blue-500 bg-blue-50'\n                                                        : 'border-gray-200 hover:border-gray-300'\n                                                }`}\n                                            >\n                                                <span className={`inline-block w-5 h-5 border rounded mr-3 align-middle ${\n                                                    isSelected ? 'bg-blue-500 border-blue-500' : 'border-gray-300'\n                                                }`}>\n                                                    {isSelected && <CheckCircle className=\"w-4 h-4 text-white\" />}\n                                                </span>\n                                                {option}\n                                            </button>\n                                        )\n                                    })}\n                                </div>\n                            )}\n\n                            {/* Short Answer / Essay */}\n                            {(currentQuestion.type === 'short_answer' || currentQuestion.type === 'essay') && (\n                                <textarea\n                                    value={(answers[currentQuestion.id] as string) || ''}\n                                    onChange={(e) => handleAnswer(currentQuestion.id, e.target.value)}\n                                    placeholder=\"Type your answer here...\"\n                                    rows={currentQuestion.type === 'essay' ? 8 : 3}\n                                    className=\"w-full p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                />\n                            )}\n\n                            {/* Fill in Blank */}\n                            {currentQuestion.type === 'fill_in_blank' && (\n                                <input\n                                    type=\"text\"\n                                    value={(answers[currentQuestion.id] as string) || ''}\n                                    onChange={(e) => handleAnswer(currentQuestion.id, e.target.value)}\n                                    placeholder=\"Type your answer...\"\n                                    className=\"w-full p-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                />\n                            )}\n                        </CardContent>\n                    </Card>\n                )}\n\n                {/* Navigation */}\n                <div className=\"flex items-center justify-between mt-6\">\n                    <Button\n                        variant=\"outline\"\n                        disabled={currentQuestionIndex === 0}\n                        onClick={() => setCurrentQuestionIndex(prev => prev - 1)}\n                    >\n                        <ChevronLeft className=\"w-4 h-4 mr-2\" />\n                        Previous\n                    </Button>\n\n                    {/* Question dots */}\n                    <div className=\"flex items-center gap-1\">\n                        {questions.map((q, idx) => (\n                            <button\n                                key={q.id}\n                                onClick={() => setCurrentQuestionIndex(idx)}\n                                className={`w-2.5 h-2.5 rounded-full ${\n                                    idx === currentQuestionIndex\n                                        ? 'bg-blue-500'\n                                        : answers[q.id]\n                                            ? 'bg-green-400'\n                                            : 'bg-gray-200'\n                                }`}\n                            />\n                        ))}\n                    </div>\n\n                    <Button\n                        variant={currentQuestionIndex === questions.length - 1 ? 'default' : 'outline'}\n                        onClick={() => {\n                            if (currentQuestionIndex === questions.length - 1) {\n                                if (confirm('Are you sure you want to submit?')) {\n                                    handleSubmit()\n                                }\n                            } else {\n                                setCurrentQuestionIndex(prev => prev + 1)\n                            }\n                        }}\n                    >\n                        {currentQuestionIndex === questions.length - 1 ? (\n                            <><Send className=\"w-4 h-4 mr-2\" /> Submit</>\n                        ) : (\n                            <><>Next <ChevronRight className=\"w-4 h-4 ml-2\" /></></>\n                        )}\n                    </Button>\n                </div>\n            </main>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}}]
}