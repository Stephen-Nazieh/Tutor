;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="05c9ff99-d89d-8a76-5964-080c722b23ab")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,311679,e=>{"use strict";let s=(0,e.i(879191).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],311679)},383918,e=>{"use strict";let s=(0,e.i(879191).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],383918)},962825,e=>{"use strict";let s=(0,e.i(879191).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],962825)},25125,e=>{"use strict";let s=(0,e.i(879191).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],25125)},795624,e=>{"use strict";let s=(0,e.i(879191).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],795624)},336566,e=>{"use strict";let s=(0,e.i(879191).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],336566)},247583,e=>{"use strict";var s=e.i(251474),a=e.i(800592),t=e.i(390553);let l=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a}));l.displayName="Textarea",e.s(["Textarea",()=>l])},510608,e=>{"use strict";let s=(0,e.i(879191).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],510608)},819724,e=>{"use strict";let s=(0,e.i(879191).default)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Radio",()=>s],819724)},583183,e=>{"use strict";let s=(0,e.i(879191).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>s],583183)},703205,e=>{"use strict";var s=e.i(251474),a=e.i(800592),t=e.i(319780),l=e.i(583183),r=e.i(383918),i=e.i(336566),n=e.i(870368),c=e.i(725399),d=e.i(598320),u=e.i(25125),o=e.i(510608),h=e.i(795624),m=e.i(390553);let x=[{id:"name",label:"Course has a name (at least 2 characters)",check:e=>!!e.name&&e.name.trim().length>=2,required:!0},{id:"subject",label:"Subject is selected",check:e=>!!e.subject,required:!0},{id:"module",label:"At least 1 module created",check:e=>e.modules.length>0,required:!0},{id:"lesson",label:"At least 1 lesson added",check:e=>e.modules.some(e=>e.lessons.length>0),required:!0},{id:"price",label:"Price is set (use 0 for free courses)",check:e=>null!==e.price&&void 0!==e.price,required:!0},{id:"currency",label:"Currency is set (required for paid courses)",check:e=>(e.price??0)===0||!!e.currency,required:!0}];function p({course:e,className:a}){let t=x.map(s=>({...s,passed:s.check(e)})),l=t.filter(e=>e.passed).length;t.filter(e=>e.required).length;let r=l===t.length;return(0,s.jsxs)("div",{className:(0,m.cn)("space-y-4",a),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-medium text-slate-900",children:"Publish Requirements"}),(0,s.jsxs)("span",{className:(0,m.cn)("text-sm font-medium",r?"text-green-600":"text-slate-500"),children:[l,"/",t.length," completed"]})]}),(0,s.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,s.jsxs)("div",{className:(0,m.cn)("flex items-center gap-3 rounded-lg border p-3 transition-colors",e.passed?"border-green-200 bg-green-50/50":e.required?"border-amber-200 bg-amber-50/50":"border-slate-200 bg-slate-50/50"),children:[e.passed?(0,s.jsx)(u.CheckCircle2,{className:"h-5 w-5 shrink-0 text-green-600"}):e.required?(0,s.jsx)(o.XCircle,{className:"h-5 w-5 shrink-0 text-amber-600"}):(0,s.jsx)(h.AlertCircle,{className:"h-5 w-5 shrink-0 text-slate-400"}),(0,s.jsxs)("span",{className:(0,m.cn)("text-sm",e.passed?"text-green-700":e.required?"text-amber-700":"text-slate-600"),children:[e.label,e.required&&!e.passed&&(0,s.jsx)("span",{className:"ml-1 text-amber-600",children:"*"})]})]},e.id))}),!r&&(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Complete all required items (*) to publish your course."})]})}function j({course:e,onPublishChange:u,variant:o="default",size:h="default",className:j,showLabel:g=!0}){let b,[f,y]=(0,a.useState)(!1),[v,C]=(0,a.useState)(!1),{canPublish:S,missingRequirements:N}={canPublish:(b=x.map(s=>({...s,passed:s.check(e)}))).every(e=>!e.required||e.passed),missingRequirements:b.filter(e=>e.required&&!e.passed).map(e=>e.label),validationResults:b},k=async()=>{y(!0);try{let s=await fetch("/api/csrf",{credentials:"include"}),a=await s.json().catch(()=>({})),t=a?.token??null,l=!e.isPublished,r=await fetch(`/api/tutor/courses/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",...t?{"X-CSRF-Token":t}:{}},credentials:"include",body:JSON.stringify({isPublished:l})});if(!r.ok){let e=await r.json();throw Error(e.error||`Failed to ${l?"publish":"unpublish"} course`)}d.toast.success(l?"Course published! Students can now discover and enroll.":"Course unpublished. It will no longer be visible to students."),u?.(l),C(!1)}catch(e){d.toast.error(e instanceof Error?e.message:"An error occurred")}finally{y(!1)}};return e.isPublished?(0,s.jsxs)(c.Dialog,{open:v,onOpenChange:C,children:[(0,s.jsx)(c.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(n.Button,{variant:"outline",size:h,className:(0,m.cn)("gap-2",j),disabled:f,children:[f?(0,s.jsx)(r.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(l.EyeOff,{className:"h-4 w-4"}),g&&"Unpublish"]})}),(0,s.jsxs)(c.DialogContent,{children:[(0,s.jsxs)(c.DialogHeader,{children:[(0,s.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(i.AlertTriangle,{className:"h-5 w-5 text-amber-500"}),"Unpublish Course?"]}),(0,s.jsx)(c.DialogDescription,{children:"This will hide your course from students. Existing enrollments will remain active, but new students won't be able to find or enroll in this course."})]}),(0,s.jsxs)(c.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,s.jsxs)(n.Button,{variant:"destructive",onClick:k,disabled:f,children:[f&&(0,s.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Unpublish"]})]})]})]}):(0,s.jsxs)(c.Dialog,{open:v,onOpenChange:C,children:[(0,s.jsx)(c.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(n.Button,{variant:o,size:h,className:(0,m.cn)("gap-2",j),disabled:f,children:[f?(0,s.jsx)(r.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(t.Globe,{className:"h-4 w-4"}),g&&"Publish"]})}),(0,s.jsxs)(c.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(c.DialogHeader,{children:[(0,s.jsx)(c.DialogTitle,{children:"Publish Course"}),(0,s.jsx)(c.DialogDescription,{children:"Review the requirements before publishing your course."})]}),(0,s.jsx)(p,{course:{id:e.id,name:e.name,description:e.description,subject:e.subject,price:e.price,currency:e.currency,modules:e.modules},className:"py-4"}),!S&&(0,s.jsx)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:(0,s.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,s.jsx)("strong",{children:"Cannot publish yet."})," Please complete all requirements marked with * above."]})}),(0,s.jsxs)(c.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,s.jsxs)(n.Button,{onClick:k,disabled:f||!S,children:[f&&(0,s.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Publish Course"]})]})]})]})}function g({isPublished:e}){return(0,s.jsxs)("span",{className:(0,m.cn)("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium",e?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"),children:[(0,s.jsx)("span",{className:(0,m.cn)("h-1.5 w-1.5 rounded-full",e?"bg-green-500":"bg-slate-400")}),e?"Published":"Draft"]})}e.s(["PublishButton",()=>j,"PublishStatusBadge",()=>g],703205)},10136,e=>{"use strict";var s=e.i(251474),a=e.i(800592),t=e.i(536105),l=e.i(151651),r=e.i(196415),i=e.i(870368),n=e.i(587604),c=e.i(538998),d=e.i(230645),u=e.i(247583),o=e.i(962825),h=e.i(462423),m=e.i(383918),x=e.i(819724),p=e.i(924383),j=e.i(703205),g=e.i(598320);let b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f=[{value:"Grade 1",label:"Grade 1"},{value:"Grade 2",label:"Grade 2"},{value:"Grade 3",label:"Grade 3"},{value:"Grade 4",label:"Grade 4"},{value:"Grade 5",label:"Grade 5"},{value:"Grade 6",label:"Grade 6"},{value:"Grade 7",label:"Grade 7"},{value:"Grade 8",label:"Grade 8"},{value:"Grade 9",label:"Grade 9"},{value:"Grade 10",label:"Grade 10"},{value:"Grade 11",label:"Grade 11"},{value:"Grade 12",label:"Grade 12"},{value:"College",label:"College"},{value:"Adult Education",label:"Adult Education"}];function y({slot:e,index:a,onUpdate:t,onRemove:l}){return(0,s.jsxs)("div",{className:"flex flex-wrap items-end gap-2 p-3 rounded-lg border bg-muted/30",children:[(0,s.jsxs)("div",{className:"space-y-1 min-w-[120px]",children:[(0,s.jsx)(c.Label,{className:"text-xs",children:"Day"}),(0,s.jsxs)(d.Select,{value:e.dayOfWeek,onValueChange:e=>t(a,"dayOfWeek",e),children:[(0,s.jsx)(d.SelectTrigger,{children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsx)(d.SelectContent,{children:b.map(e=>(0,s.jsx)(d.SelectItem,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-1 w-[90px]",children:[(0,s.jsx)(c.Label,{className:"text-xs",children:"Start"}),(0,s.jsx)(n.Input,{type:"time",value:e.startTime,onChange:e=>t(a,"startTime",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-1 w-[100px]",children:[(0,s.jsx)(c.Label,{className:"text-xs",children:"Duration (min)"}),(0,s.jsx)(n.Input,{type:"number",min:5,max:480,value:e.durationMinutes,onChange:e=>t(a,"durationMinutes",parseInt(e.target.value,10)||60)})]}),(0,s.jsx)(i.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>l(a),className:"text-destructive hover:text-destructive","aria-label":"Remove slot",children:"Remove"})]})}var v=e.i(311679);function C({schedule:e,onScheduleChange:a,subtitle:t}){let l=(e,s,t)=>{a(a=>{let l=[...a];return l[e]={...l[e],[s]:t},l})},n=e=>{a(s=>s.filter((s,a)=>a!==e))};return(0,s.jsxs)(r.Card,{id:"course-schedule",children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Calendar,{className:"h-5 w-5"}),"Class schedule",t&&(0,s.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:["(",t,")"]})]}),(0,s.jsx)(r.CardDescription,{children:'Set recurring slots for this course. Save with "Save settings only" or "Save all" below.'})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[e.map((e,a)=>(0,s.jsx)(y,{slot:e,index:a,onUpdate:l,onRemove:n},a)),(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>{a(e=>[...e,{dayOfWeek:b[0],startTime:"09:00",durationMinutes:60}])},children:"Add class slot"})]})]})}function S(){let e=(0,t.useParams)(),b=(0,t.useRouter)(),y=e.id,[v,S]=(0,a.useState)(null),[N,k]=(0,a.useState)(!0),[w,T]=(0,a.useState)(!1),[D,P]=(0,a.useState)(""),[L,G]=(0,a.useState)(""),[A,M]=(0,a.useState)(""),[O,q]=(0,a.useState)("intermediate"),[F,R]=(0,a.useState)(""),[B,E]=(0,a.useState)(""),[I,z]=(0,a.useState)("SGD"),[U,H]=(0,a.useState)("PLATFORM"),[V,$]=(0,a.useState)([]),[X,J]=(0,a.useState)(!1),[W,Y]=(0,a.useState)("SELF"),[K,Q]=(0,a.useState)([]),[Z,_]=(0,a.useState)({}),[ee,es]=(0,a.useState)({curriculum:"",notes:"",topics:""}),[ea,et]=(0,a.useState)(!1),[el,er]=(0,a.useState)(!1),[ei,en]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)(!1),[eu,eo]=(0,a.useState)(""),[eh,em]=(0,a.useState)(""),[ex,ep]=(0,a.useState)(""),[ej,eg]=(0,a.useState)([]),[eb,ef]=(0,a.useState)([]),[ey,ev]=(0,a.useState)(!1),[eC,eS]=(0,a.useState)(45),[eN,ek]=(0,a.useState)(null),ew=(0,a.useCallback)(async()=>{k(!0);try{let e=await fetch(`/api/tutor/courses/${y}`,{credentials:"include"});if(e.ok){let s=await e.json();S(s.course)}else g.toast.error("Course not found"),b.push("/curriculum")}catch{g.toast.error("Failed to load course"),b.push("/curriculum")}finally{k(!1)}},[y,b]);(0,a.useEffect)(()=>{ew()},[ew]),(0,a.useEffect)(()=>{fetch("/api/user/profile",{credentials:"include"}).then(e=>e.ok?e.json():null).then(e=>e?.profile&&ek(e.profile)).catch(()=>{})},[]),(0,a.useEffect)(()=>{if(!v)return;P(v.name??""),G(v.description??""),M(v.gradeLevel??""),q(v.difficulty??"intermediate"),R(v.languageOfInstruction??""),E(null!=v.price?String(v.price):""),z(v.currency??eN?.currency??"SGD"),H(v.curriculumSource??"PLATFORM"),Y(v.outlineSource??"SELF"),Q(Array.isArray(v.schedule)?[...v.schedule]:[]);let e=v.courseMaterials;e&&(_(e),eo(e.editableCurriculum??""),em(e.editableNotes??""),ep(e.editableTopics??""),eg(e.outline??[]),ef(e.outlineModules?.modules??[]))},[v,eN]),(0,a.useEffect)(()=>{let e=v?.subject;e?(J(!0),fetch(`/api/curriculums/catalog?subject=${encodeURIComponent(e)}`,{credentials:"include"}).then(e=>e.json()).then(e=>$(e.curriculums??[])).catch(()=>$([])).finally(()=>J(!1))):$([])},[v?.subject]),ee.curriculum.trim()||ee.notes.trim()||ee.topics.trim()||Z.curriculumText||Z.editableCurriculum;let eT=async()=>{if(v){ed(!0);try{let e=await fetch("/api/csrf",{credentials:"include"}),s=await e.json().catch(()=>({})),a=s?.token??null,t=Array.isArray(K)&&K.length>0&&Number(K[0]?.durationMinutes)||60,l=(L?.trim()||v.description||"").trim(),r=(A||v.gradeLevel||"").trim(),i={title:(D||v.name||"").trim(),subject:v.subject||"General",curriculumId:v.id,maxStudents:50,durationMinutes:Math.max(15,Math.min(480,t)),enableRecording:!1};l&&(i.description=l),r&&(i.gradeLevel=r);let n=await fetch("/api/class/rooms",{method:"POST",headers:{"Content-Type":"application/json",...a&&{"X-CSRF-Token":a}},credentials:"include",body:JSON.stringify(i)});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e?.error||"Failed to create live class")}let c=await n.json(),d=c?.session?.id;if(!d)throw Error("Live class created but session ID is missing");g.toast.success("Live class created. Redirecting…"),b.push(`/tutor/live-class/${d}`)}catch(e){g.toast.error(e instanceof Error?e.message:"Failed to open live class")}finally{ed(!1)}}},eD=async()=>{T(!0);try{let e=await eL(),s=await fetch(`/api/tutor/courses/${y}`,{method:"PATCH",headers:{"Content-Type":"application/json",...e&&{"X-CSRF-Token":e}},credentials:"include",body:JSON.stringify({name:D.trim()||null,description:L.trim()||null,gradeLevel:A||null,difficulty:O||null,languageOfInstruction:F||null,price:""===B?null:Number(B),currency:I||null,curriculumSource:U,outlineSource:"UPLOADED"===U?W:null,schedule:K.length?K:null})}),a=await s.json();if(!s.ok)return void g.toast.error(a.error??"Failed to save");S(e=>e?{...e,name:D.trim()||e.name,description:L.trim()||e.description,gradeLevel:A||e.gradeLevel,difficulty:O||e.difficulty,languageOfInstruction:F||null,price:""===B?null:Number(B),currency:I||null,curriculumSource:U,outlineSource:"UPLOADED"===U?W:null,schedule:K}:null),"UPLOADED"===U&&(eu||eh||ex||ej.length>0)&&(await fetch(`/api/tutor/courses/${y}/materials`,{method:"PATCH",headers:{"Content-Type":"application/json",...e&&{"X-CSRF-Token":e}},credentials:"include",body:JSON.stringify({editableCurriculum:eu||void 0,editableNotes:eh||void 0,editableTopics:ex||void 0,outline:ej.length?ej:void 0})})).ok&&ew(),g.toast.success("All changes saved"),ew()}catch{g.toast.error("Failed to save")}finally{T(!1)}},eP=async e=>{P(e);try{let s=await eL(),a=await fetch(`/api/tutor/courses/${y}`,{method:"PATCH",headers:{"Content-Type":"application/json",...s&&{"X-CSRF-Token":s}},credentials:"include",body:JSON.stringify({name:e})});if(a.ok)S(s=>s?{...s,name:e}:null),g.toast.success("Curriculum name updated");else{let e=await a.json().catch(()=>({}));g.toast.error(e.error??"Failed to update name")}}catch{g.toast.error("Failed to update curriculum name")}},eL=async()=>{let e=await fetch("/api/csrf",{credentials:"include"}),s=await e.json().catch(()=>({}));return s?.token??null},[eG,eA]=(0,a.useState)(!1);return N||!v?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading course…"})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Button,{variant:"ghost",size:"icon",asChild:!0,children:(0,s.jsx)(l.default,{href:"/curriculum",children:(0,s.jsx)(o.ArrowLeft,{className:"h-4 w-4"})})}),(0,s.jsx)("h1",{className:"text-xl font-semibold truncate",children:v.name}),A&&(0,s.jsxs)("span",{className:"text-sm text-muted-foreground font-normal",children:["(",A,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.PublishStatusBadge,{isPublished:v.isPublished}),(0,s.jsx)(j.PublishButton,{course:{id:v.id,name:v.name,description:v.description,subject:v.subject,price:v.price,currency:v.currency,isPublished:v.isPublished,modules:v.modules},onPublishChange:e=>{S(s=>s?{...s,isPublished:e}:null)},size:"sm"}),(0,s.jsx)(i.Button,{variant:"default",size:"sm",onClick:eT,disabled:ec,children:ec?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Opening…"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Radio,{className:"h-4 w-4 mr-2"}),"Open in Live Class"]})}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsx)(l.default,{href:"/tutor/dashboard",children:"Back to dashboard"})})]})]}),0===K.length&&(0,s.jsxs)(r.Card,{className:"border-dashed",children:[(0,s.jsxs)(r.CardHeader,{className:"py-3",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Quick setup"}),(0,s.jsx)(r.CardDescription,{className:"text-xs",children:"Complete this to finish setting up your course."})]}),(0,s.jsx)(r.CardContent,{className:"py-2",children:(0,s.jsx)("ul",{className:"text-sm space-y-1 list-disc list-inside text-muted-foreground",children:(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#course-schedule",className:"text-primary underline",children:"Add schedule (or populate from content/outline above)"})})})})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.BookOpen,{className:"h-5 w-5"}),"Course Details"]}),(0,s.jsx)(r.CardDescription,{children:"Basic information about your course."})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{children:"Course Name"}),V.length>0?(0,s.jsxs)(d.Select,{value:D,onValueChange:eP,disabled:X,children:[(0,s.jsx)(d.SelectTrigger,{children:(0,s.jsx)(d.SelectValue,{placeholder:X?"Loading…":"Select curriculum"})}),(0,s.jsxs)(d.SelectContent,{children:[D&&!V.some(e=>e.name===D)&&(0,s.jsxs)(d.SelectItem,{value:D,children:["Current: ",D]}),V.map(e=>(0,s.jsx)(d.SelectItem,{value:e.name,children:e.name},e.id))]})]}):(0,s.jsx)(n.Input,{value:D,onChange:e=>P(e.target.value),placeholder:"Course name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{children:"Description"}),(0,s.jsx)(u.Textarea,{value:L,onChange:e=>G(e.target.value),placeholder:"What will students learn in this course?",rows:3,className:"resize-y"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{children:"Grade Level"}),(0,s.jsxs)(d.Select,{value:A,onValueChange:M,children:[(0,s.jsx)(d.SelectTrigger,{children:(0,s.jsx)(d.SelectValue,{placeholder:"Select grade"})}),(0,s.jsx)(d.SelectContent,{children:f.map(e=>(0,s.jsx)(d.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.DollarSign,{className:"h-5 w-5"}),"Pricing"]}),(0,s.jsx)(r.CardDescription,{children:"Set the price for your course. You need to set a price before publishing."})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"price",children:"Price"}),(0,s.jsx)(n.Input,{id:"price",type:"number",min:"0",step:"0.01",value:B,onChange:e=>E(e.target.value),placeholder:"e.g. 99"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave empty for free courses"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"currency",children:"Currency"}),(0,s.jsxs)(d.Select,{value:I,onValueChange:z,children:[(0,s.jsx)(d.SelectTrigger,{id:"currency",children:(0,s.jsx)(d.SelectValue,{placeholder:"Select currency"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"USD",children:"USD - US Dollar"}),(0,s.jsx)(d.SelectItem,{value:"SGD",children:"SGD - Singapore Dollar"}),(0,s.jsx)(d.SelectItem,{value:"EUR",children:"EUR - Euro"}),(0,s.jsx)(d.SelectItem,{value:"GBP",children:"GBP - British Pound"}),(0,s.jsx)(d.SelectItem,{value:"CNY",children:"CNY - Chinese Yuan"})]})]})]})]}),B&&Number(B)>0&&(0,s.jsx)("div",{className:"rounded-lg border bg-muted/30 p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:"Price preview:"})," ",I," ",Number(B).toFixed(2)]})})]})]}),(0,s.jsx)(C,{schedule:K,onScheduleChange:Q}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(i.Button,{size:"sm",variant:"outline",onClick:eD,disabled:w,children:[w?(0,s.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):null,w?"Saving…":"Save Changes"]})})]})})}e.s(["default",()=>S],10136)},524031,e=>{e.v(s=>Promise.all(["static/chunks/4d7591a899558553.js"].map(s=>e.l(s))).then(()=>s(354212)))}]);

//# debugId=05c9ff99-d89d-8a76-5964-080c722b23ab
//# sourceMappingURL=69f83f93b07bea1b.js.map