{
  "version": 3,
  "sources": [],
  "debugId": "4075ea57-a8dc-cf44-d399-f23e179a2d27",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/card.tsx","../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/parent/students/%5BstudentId%5D/page.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useParams, usePathname } from 'next/navigation'\nimport Link from 'next/link'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport {\n  ArrowLeft,\n  ClipboardList,\n  Bot,\n  Loader2,\n  BookOpen,\n  Calendar,\n  TrendingUp,\n  CreditCard,\n} from 'lucide-react'\n\ninterface StudentData {\n  id: string\n  name: string\n  email: string | null\n  relation: string\n  enrollments: Array<{\n    curriculumId: string\n    curriculumName: string\n    enrolledAt: string\n  }>\n  level: number | null\n  xp: number | null\n}\n\nconst tabs = [\n  { id: 'overview', label: '概览', href: (id: string) => `/parent/students/${id}`, icon: TrendingUp },\n  { id: 'assignments', label: '作业与测验', href: (id: string) => `/parent/students/${id}/assignments`, icon: ClipboardList },\n  { id: 'ai-tutor', label: 'AI 辅导', href: (id: string) => `/parent/students/${id}/ai-tutor`, icon: Bot },\n  { id: 'classes', label: '课程安排', href: (id: string) => `/parent/students/${id}`, icon: Calendar },\n  { id: 'financial', label: '财务', href: (id: string) => `/parent/students/${id}`, icon: CreditCard },\n]\n\nexport default function StudentDetailPage() {\n  const params = useParams()\n  const pathname = usePathname()\n  const studentId = params.studentId as string\n  const [student, setStudent] = useState<StudentData | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (!studentId) return\n    let cancelled = false\n    fetch(`/api/parent/students/${studentId}`, { credentials: 'include' })\n      .then((res) => res.ok ? res.json() : null)\n      .then((json) => {\n        if (!cancelled && json?.success && json.data) {\n          setStudent(json.data)\n        }\n      })\n      .catch(() => {})\n      .finally(() => {\n        if (!cancelled) setLoading(false)\n      })\n    return () => { cancelled = true }\n  }, [studentId])\n\n  const isChildRoute = pathname !== `/parent/students/${studentId}`\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[300px]\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-gray-400\" />\n      </div>\n    )\n  }\n\n  if (!student) {\n    return (\n      <div className=\"space-y-6\">\n        <Button variant=\"ghost\" size=\"icon\" asChild>\n          <Link href=\"/parent/children\">\n            <ArrowLeft className=\"h-4 w-4\" />\n          </Link>\n        </Button>\n        <p className=\"text-gray-500\">无法加载学生信息</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" asChild>\n            <Link href=\"/parent/children\">\n              <ArrowLeft className=\"h-4 w-4\" />\n            </Link>\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">{student.name}</h1>\n            <p className=\"text-gray-500 text-sm\">\n              {student.email && `${student.email} · `}\n              {student.relation}\n              {student.level != null && ` · 等级 ${student.level}`}\n              {student.xp != null && ` · ${student.xp} XP`}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex gap-2 overflow-x-auto pb-2\">\n        {tabs.map((tab) => {\n          const href = tab.href(studentId)\n          const isActive = pathname === href || (tab.id !== 'overview' && pathname.startsWith(href))\n          const Icon = tab.icon\n          return (\n            <Button\n              key={tab.id}\n              variant={isActive ? 'default' : 'outline'}\n              size=\"sm\"\n              asChild\n            >\n              <Link href={href} className=\"flex items-center gap-2\">\n                <Icon className=\"h-4 w-4\" />\n                {tab.label}\n              </Link>\n            </Button>\n          )\n        })}\n      </div>\n\n      {!isChildRoute && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <BookOpen className=\"h-5 w-5\" />\n                已选课程\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              {student.enrollments.length === 0 ? (\n                <p className=\"text-gray-500 text-sm\">暂无课程</p>\n              ) : (\n                <ul className=\"space-y-2\">\n                  {student.enrollments.map((e) => (\n                    <li key={e.curriculumId} className=\"text-sm\">\n                      {e.curriculumName}\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                快捷入口\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"flex flex-wrap gap-2\">\n              <Button asChild variant=\"outline\" size=\"sm\">\n                <Link href={`/parent/students/${studentId}/assignments`}>\n                  <ClipboardList className=\"h-4 w-4 mr-2\" />\n                  作业与测验\n                </Link>\n              </Button>\n              <Button asChild variant=\"outline\" size=\"sm\">\n                <Link href={`/parent/students/${studentId}/ai-tutor`}>\n                  <Bot className=\"h-4 w-4 mr-2\" />\n                  AI 辅导\n                </Link>\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {isChildRoute && (\n        <p className=\"text-sm text-gray-500\">\n          请使用上方标签切换不同视图\n        </p>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}