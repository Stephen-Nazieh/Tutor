{
  "version": 3,
  "sources": [],
  "debugId": "00365b77-0d78-97d4-49d1-d46e25db04dd",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,yNAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,gSAAC;QAAI,WAAW,IAAA,2KAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,4NAAoB;AAEnC,MAAM,gBAAgB,+NAAuB;AAE7C,MAAM,eAAe,8NAAsB;AAE3C,MAAM,cAAc,6NAAqB;AAEzC,MAAM,8BAAgB,qQAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,+NAAuB;QACtB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,+NAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,qQAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,gSAAC;;0BACC,gSAAC;;;;;0BACD,gSAAC,+NAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,2KAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,gSAAC,6NAAqB;wBAAC,WAAU;;0CAC/B,gSAAC,mPAAC;gCAAC,WAAU;;;;;;0CACb,gSAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,+NAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,gSAAC;QACC,WAAW,IAAA,2KAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,gSAAC;QACC,WAAW,IAAA,2KAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,qQAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,6NAAqB;QACpB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,6NAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,qQAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,mOAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,2KAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,mOAA2B,CAAC,WAAW"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,0NAAkB;AAE/B,MAAM,yBAAW,qQAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,0NAAkB;QACjB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,0NAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,qQAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,6NAAqB;QACpB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,6NAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,qQAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,6NAAqB;QACpB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,6NAAqB,CAAC,WAAW"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 min-h-[44px] sm:min-h-0 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,qQAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,gSAAC;QACC,MAAM;QACN,WAAW,IAAA,2KAAE,EACX,wXACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,yNAAG,EACvB;AAGF,MAAM,sBAAQ,qQAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC,2NAAmB;QAClB,KAAK;QACL,WAAW,IAAA,2KAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,2NAAmB,CAAC,WAAW"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectItem,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,4NAAoB;AAEnC,MAAM,cAAc,6NAAqB;AAEzC,MAAM,cAAc,6NAAqB;AAEzC,MAAM,8BAAgB,qQAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,gSAAC,+NAAuB;QACtB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,gSAAC,4NAAoB;gBAAC,OAAO;0BAC3B,cAAA,gSAAC,qRAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,+NAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,qQAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,gSAAC,8NAAsB;kBACrB,cAAA,gSAAC,+NAAuB;YACtB,KAAK;YACL,WAAW,IAAA,2KAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;sBAET,cAAA,gSAAC,gOAAwB;gBACvB,WAAW,IAAA,2KAAE,EACX,OACA,aAAa,YACX;0BAGH;;;;;;;;;;;;;;;;AAKT,cAAc,WAAW,GAAG,+NAAuB,CAAC,WAAW;AAE/D,MAAM,2BAAa,qQAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,gSAAC,4NAAoB;QACnB,KAAK;QACL,WAAW,IAAA,2KAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,gSAAC;gBAAK,WAAU;0BACd,cAAA,gSAAC,qOAA6B;8BAC5B,cAAA,gSAAC,+PAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,gSAAC,gOAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,4NAAoB,CAAC,WAAW"}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,qQAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,gSAAC;QACC,WAAW,IAAA,2KAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,yNAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,qQAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,gSAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,2KAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,qQAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC;QACC,KAAK;QACL,WAAW,IAAA,2KAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,qQAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gSAAC;QACC,KAAK;QACL,WAAW,IAAA,2KAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/hooks/use-course-assignments.ts"],"sourcesContent":["/**\n * React hooks for course assignment operations\n */\n\nimport { useState, useCallback, useEffect } from 'react'\nimport { toast } from 'sonner'\nimport type {\n  CourseGroupAssignment,\n  CreateAssignmentRequest,\n  AssignmentPreview,\n  CourseWithAssignments,\n  DifficultyLevel,\n} from '@/types/course-assignment'\n\ninterface TutorCoursesApiCourse {\n  id: string\n  name: string\n  description?: string | null\n  subject: string\n  isPublished: boolean\n  createdAt?: string\n  updatedAt?: string\n  _count?: {\n    modules?: number\n    lessons?: number\n    enrollments?: number\n  }\n  variants?: Array<{\n    batchId: string\n    name: string\n    difficulty: DifficultyLevel\n    enrollmentCount: number\n    joinLink: string\n  }>\n}\n\ninterface TutorCoursesApiResponse {\n  courses?: TutorCoursesApiCourse[]\n}\n\nfunction normalizeTutorCourse(course: TutorCoursesApiCourse): CourseWithAssignments {\n  return {\n    id: course.id,\n    name: course.name,\n    description: course.description ?? undefined,\n    subject: course.subject,\n    isPublished: course.isPublished,\n    createdAt: course.createdAt ?? '',\n    updatedAt: course.updatedAt ?? '',\n    assignments: {\n      total: course.variants?.length ?? 0,\n      active: course.variants?.length ?? 0,\n      paused: 0,\n      completed: 0,\n    },\n    totalStudents: course._count?.enrollments ?? 0,\n    stats: {\n      moduleCount: course._count?.modules ?? 0,\n      lessonCount: course._count?.lessons ?? 0,\n      quizCount: 0,\n    },\n    variants: course.variants ?? [],\n  }\n}\n\nconst assignmentApi = {\n  async getTutorCourses(): Promise<CourseWithAssignments[]> {\n    const res = await fetch('/api/tutor/courses', { credentials: 'include' })\n    if (!res.ok) throw new Error('Failed to load courses')\n\n    const data = (await res.json().catch(() => ({}))) as TutorCoursesApiResponse\n    const courses = Array.isArray(data.courses) ? data.courses : []\n    return courses.map(normalizeTutorCourse)\n  },\n\n  async getCourseAssignments(_courseId: string): Promise<CourseGroupAssignment[]> {\n    void _courseId\n    return []\n  },\n\n  async createAssignment(_data: CreateAssignmentRequest): Promise<CourseGroupAssignment> {\n    void _data\n    throw new Error('Assignment API not implemented')\n  },\n\n  async deleteAssignment(_assignmentId: string): Promise<void> {\n    void _assignmentId\n    throw new Error('Assignment API not implemented')\n  },\n\n  async updateAssignmentStatus(\n    _assignmentId: string,\n    _status: CourseGroupAssignment['status']\n  ): Promise<void> {\n    void _assignmentId\n    void _status\n    throw new Error('Assignment API not implemented')\n  },\n\n  async previewAssignment(_courseId: string, _batchId: string): Promise<AssignmentPreview> {\n    void _courseId\n    void _batchId\n    throw new Error('Preview API not implemented')\n  },\n}\n\nexport function useTutorCourses() {\n  const [courses, setCourses] = useState<CourseWithAssignments[]>([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const fetchCourses = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = await assignmentApi.getTutorCourses()\n      setCourses(data)\n    } catch {\n      setError('Failed to load courses')\n      toast.error('Failed to load courses')\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    fetchCourses()\n  }, [fetchCourses])\n\n  return { courses, loading, error, refetch: fetchCourses }\n}\n\nexport function useCourseAssignments(courseId: string) {\n  const [assignments, setAssignments] = useState<CourseGroupAssignment[]>([])\n  const [loading, setLoading] = useState(false)\n\n  const fetchAssignments = useCallback(async () => {\n    if (!courseId) return\n    setLoading(true)\n    try {\n      const data = await assignmentApi.getCourseAssignments(courseId)\n      setAssignments(data)\n    } catch {\n      toast.error('Failed to load assignments')\n    } finally {\n      setLoading(false)\n    }\n  }, [courseId])\n\n  useEffect(() => {\n    fetchAssignments()\n  }, [fetchAssignments])\n\n  const createAssignment = useCallback(async (data: CreateAssignmentRequest) => {\n    try {\n      const assignment = await assignmentApi.createAssignment(data)\n      setAssignments((prev) => [...prev, assignment])\n      toast.success('Course assigned to group successfully')\n      return assignment\n    } catch {\n      toast.error('Failed to assign course')\n      throw new Error('Failed to assign course')\n    }\n  }, [])\n\n  const deleteAssignment = useCallback(async (assignmentId: string) => {\n    try {\n      await assignmentApi.deleteAssignment(assignmentId)\n      setAssignments((prev) => prev.filter((a) => a.id !== assignmentId))\n      toast.success('Assignment removed')\n    } catch {\n      toast.error('Failed to remove assignment')\n    }\n  }, [])\n\n  const updateStatus = useCallback(async (\n    assignmentId: string,\n    status: CourseGroupAssignment['status']\n  ) => {\n    try {\n      await assignmentApi.updateAssignmentStatus(assignmentId, status)\n      setAssignments((prev) => prev.map((a) => (a.id === assignmentId ? { ...a, status } : a)))\n      toast.success(`Assignment ${status}`)\n    } catch {\n      toast.error('Failed to update status')\n    }\n  }, [])\n\n  return {\n    assignments,\n    loading,\n    createAssignment,\n    deleteAssignment,\n    updateStatus,\n    refetch: fetchAssignments,\n  }\n}\n\nexport function useAssignmentPreview() {\n  const [preview, setPreview] = useState<AssignmentPreview | null>(null)\n  const [loading, setLoading] = useState(false)\n\n  const generatePreview = useCallback(async (courseId: string, batchId: string) => {\n    setLoading(true)\n    try {\n      const data = await assignmentApi.previewAssignment(courseId, batchId)\n      setPreview(data)\n      return data\n    } catch {\n      toast.error('Failed to generate preview')\n      throw new Error('Failed to generate preview')\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const clearPreview = useCallback(() => {\n    setPreview(null)\n  }, [])\n\n  return { preview, loading, generatePreview, clearPreview }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 714, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,qQAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,gSAAC,oOAAwB;QACvB,KAAK;QACL,WAAW,IAAA,2KAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,gSAAC,wOAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,gSAAC;;;;;0BACD,gSAAC,sOAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,oOAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,qQAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,gSAAC,mPAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,2KAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,gSAAC,+OAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,mPAAuC,CAAC,WAAW"}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/difficulty-resolver.ts"],"sourcesContent":["// @ts-nocheck\n/**\n * Difficulty Resolution Engine\n * Automatically resolves course content to match group difficulty levels\n */\n\nimport type { DifficultyLevel, ResolvedContent } from '@/types/course-assignment'\nimport type { WithDifficultyVariants, DifficultyVariant } from '@/app/tutor/dashboard/components/CourseBuilder'\n\n/**\n * Resolve a single content item for a specific difficulty level\n */\nexport function resolveContent<T extends WithDifficultyVariants & Record<string, any>>(\n  item: T,\n  targetDifficulty: DifficultyLevel,\n  options: {\n    /** Fields that can be overridden by variants */\n    variantFields?: (keyof DifficultyVariant)[]\n    /** If true, return null for hidden items instead of marking them hidden */\n    filterHidden?: boolean\n  } = {}\n): ResolvedContent<T> | null {\n  const { variantFields = ['title', 'description', 'duration', 'instructions', 'points'], filterHidden = false } = options\n\n  // Mode: All Levels - return base content as-is\n  if (item.difficultyMode === 'all') {\n    return {\n      content: item,\n      resolution: { type: 'base', source: 'all' }\n    }\n  }\n\n  // Mode: Fixed - only show if matching target difficulty\n  if (item.difficultyMode === 'fixed') {\n    if (item.fixedDifficulty !== targetDifficulty) {\n      if (filterHidden) return null\n      return {\n        content: item,\n        resolution: { type: 'hidden', source: 'fixed' },\n        hiddenReason: `Fixed to ${item.fixedDifficulty} level - not suitable for ${targetDifficulty} group`\n      }\n    }\n    return {\n      content: item,\n      resolution: { type: 'base', source: 'fixed' }\n    }\n  }\n\n  // Mode: Adaptive - apply variant if available\n  if (item.difficultyMode === 'adaptive') {\n    const variant = item.variants?.[targetDifficulty]\n\n    if (variant?.enabled) {\n      // Build resolved content with variant overrides\n      const resolved = { ...item }\n      const originalValues: Partial<T> = {}\n\n      // Apply variant fields\n      for (const field of variantFields) {\n        if (variant[field] !== undefined) {\n          // Store original\n          if (item[field] !== undefined) {\n            originalValues[field] = item[field]\n          }\n          // Apply variant\n          ; (resolved as any)[field] = variant[field]\n        }\n      }\n\n      return {\n        content: resolved,\n        resolution: {\n          type: 'variant',\n          source: 'adaptive',\n          variantLevel: targetDifficulty\n        },\n        originalValues: Object.keys(originalValues).length > 0 ? originalValues : undefined\n      }\n    }\n\n    // No variant enabled, fall back to base\n    return {\n      content: item,\n      resolution: { type: 'base', source: 'adaptive' }\n    }\n  }\n\n  // Unknown mode - return base\n  return {\n    content: item,\n    resolution: { type: 'base' }\n  }\n}\n\n/**\n * Resolve an entire array of content items\n */\nexport function resolveContentArray<T extends WithDifficultyVariants & Record<string, any>>(\n  items: T[],\n  targetDifficulty: DifficultyLevel,\n  options?: Parameters<typeof resolveContent>[2]\n): ResolvedContent<T>[] {\n  return items\n    .map(item => resolveContent(item, targetDifficulty, options))\n    .filter((result): result is ResolvedContent<T> => result !== null)\n}\n\n/**\n * Filter out hidden items and return only visible content\n */\nexport function filterVisibleContent<T extends WithDifficultyVariants & Record<string, any>>(\n  items: T[],\n  targetDifficulty: DifficultyLevel\n): T[] {\n  return resolveContentArray(items, targetDifficulty, { filterHidden: true })\n    .map(r => r.content)\n}\n\n/**\n * Get statistics about how content will be resolved\n */\nexport function getResolutionStats<T extends WithDifficultyVariants & Record<string, any>>(\n  items: T[],\n  targetDifficulty: DifficultyLevel\n) {\n  const resolved = resolveContentArray(items, targetDifficulty)\n\n  return {\n    total: items.length,\n    visible: resolved.filter(r => r.resolution.type !== 'hidden').length,\n    hidden: resolved.filter(r => r.resolution.type === 'hidden').length,\n    adapted: resolved.filter(r => r.resolution.type === 'variant').length,\n    base: resolved.filter(r => r.resolution.type === 'base').length\n  }\n}\n\n/**\n * Preview how a course will look for a specific group\n */\nexport function previewCourseForGroup(\n  modules: any[],\n  groupDifficulty: DifficultyLevel\n) {\n  const preview = {\n    modules: [] as any[],\n    stats: {\n      totalModules: modules.length,\n      visibleModules: 0,\n      hiddenModules: 0,\n      adaptedContent: 0\n    },\n    hiddenItems: [] as { type: string; id: string; title: string; reason: string }[],\n    adaptedItems: [] as { type: string; id: string; title: string; field: string; original: string; adapted: string }[]\n  }\n\n  for (const module of modules) {\n    const resolvedModule = resolveContent(module, groupDifficulty)\n\n    if (resolvedModule.resolution.type === 'hidden') {\n      preview.stats.hiddenModules++\n      preview.hiddenItems.push({\n        type: 'module',\n        id: module.id,\n        title: module.title,\n        reason: resolvedModule.hiddenReason || 'Hidden'\n      })\n      continue\n    }\n\n    preview.stats.visibleModules++\n    if (resolvedModule.resolution.type === 'variant') {\n      preview.stats.adaptedContent++\n    }\n\n    const modulePreview = {\n      ...resolvedModule.content,\n      lessons: [] as any[]\n    }\n\n    // Process lessons\n    for (const lesson of module.lessons || []) {\n      const resolvedLesson = resolveContent(lesson, groupDifficulty)\n\n      if (resolvedLesson.resolution.type === 'hidden') {\n        preview.hiddenItems.push({\n          type: 'lesson',\n          id: lesson.id,\n          title: lesson.title,\n          reason: resolvedLesson.hiddenReason || 'Hidden'\n        })\n        continue\n      }\n\n      if (resolvedLesson.resolution.type === 'variant' && resolvedLesson.originalValues) {\n        preview.stats.adaptedContent++\n        for (const [field, original] of Object.entries(resolvedLesson.originalValues)) {\n          preview.adaptedItems.push({\n            type: 'lesson',\n            id: lesson.id,\n            title: lesson.title,\n            field,\n            original: String(original),\n            adapted: String((resolvedLesson.content as any)[field])\n          })\n        }\n      }\n\n      modulePreview.lessons.push(resolvedLesson.content)\n    }\n\n    preview.modules.push(modulePreview)\n  }\n\n  return preview\n}\n\n/**\n * Check if there's a difficulty mismatch warning\n */\nexport function getDifficultyMismatchWarning(\n  courseDifficulty: 'all' | DifficultyLevel | undefined,\n  groupDifficulty: DifficultyLevel\n): string | null {\n  if (!courseDifficulty || courseDifficulty === 'all') {\n    return null // No mismatch possible\n  }\n\n  if (courseDifficulty !== groupDifficulty) {\n    const levels = ['beginner', 'intermediate', 'advanced']\n    const courseIdx = levels.indexOf(courseDifficulty)\n    const groupIdx = levels.indexOf(groupDifficulty)\n\n    if (courseIdx > groupIdx) {\n      return `Course is ${courseDifficulty} but group is ${groupDifficulty}. Students may find content challenging.`\n    } else {\n      return `Course is ${courseDifficulty} but group is ${groupDifficulty}. Content may be too basic.`\n    }\n  }\n\n  return null\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/courses/components/AssignCourseModal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Label } from '@/components/ui/label'\nimport { Badge } from '@/components/ui/badge'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Separator } from '@/components/ui/separator'\nimport { \n  BookOpen, \n  Users, \n  AlertTriangle, \n  CheckCircle2, \n  Eye, \n  EyeOff,\n  BarChart3,\n  ArrowRight,\n  Loader2,\n  Info\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport type { CourseWithAssignments } from '@/types/course-assignment'\nimport type { BatchItem } from '../[id]/builder/layout'\nimport { useAssignmentPreview } from '@/hooks/use-course-assignments'\nimport { getDifficultyMismatchWarning } from '@/lib/difficulty-resolver'\n\ninterface AssignCourseModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onAssign: (courseId: string, batchId: string) => Promise<void>\n  courses: CourseWithAssignments[]\n  batches: BatchItem[]\n  preselectedCourseId?: string\n  preselectedBatchId?: string\n}\n\nconst DIFFICULTY_COLORS = {\n  beginner: 'bg-green-100 text-green-700 border-green-200',\n  intermediate: 'bg-blue-100 text-blue-700 border-blue-200',\n  advanced: 'bg-purple-100 text-purple-700 border-purple-200'\n}\n\nconst DIFFICULTY_LABELS = {\n  beginner: 'Beginner',\n  intermediate: 'Intermediate',\n  advanced: 'Advanced'\n}\n\nexport function AssignCourseModal({\n  isOpen,\n  onClose,\n  onAssign,\n  courses,\n  batches,\n  preselectedCourseId,\n  preselectedBatchId\n}: AssignCourseModalProps) {\n  const [selectedCourseId, setSelectedCourseId] = useState(preselectedCourseId || '')\n  const [selectedBatchId, setSelectedBatchId] = useState(preselectedBatchId || '')\n  const [assigning, setAssigning] = useState(false)\n  const [step, setStep] = useState<'select' | 'preview'>('select')\n  \n  const { preview, loading: previewLoading, generatePreview, clearPreview } = useAssignmentPreview()\n\n  const selectedCourse = courses.find(c => c.id === selectedCourseId)\n  const selectedBatch = batches.find(b => b.id === selectedBatchId)\n\n  // Reset when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      setSelectedCourseId(preselectedCourseId || '')\n      setSelectedBatchId(preselectedBatchId || '')\n      setStep('select')\n      clearPreview()\n    }\n  }, [isOpen, preselectedCourseId, preselectedBatchId, clearPreview])\n\n  // Generate preview when both selections are made\n  useEffect(() => {\n    if (selectedCourseId && selectedBatchId && step === 'preview') {\n      generatePreview(selectedCourseId, selectedBatchId)\n    }\n  }, [selectedCourseId, selectedBatchId, step, generatePreview])\n\n  const mismatchWarning = selectedCourse && selectedBatch \n    ? getDifficultyMismatchWarning(undefined, selectedBatch.difficulty)\n    : null\n\n  const handleAssign = async () => {\n    if (!selectedCourseId || !selectedBatchId) return\n    \n    setAssigning(true)\n    try {\n      await onAssign(selectedCourseId, selectedBatchId)\n      onClose()\n    } finally {\n      setAssigning(false)\n    }\n  }\n\n  const canProceed = selectedCourseId && selectedBatchId\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <BookOpen className=\"h-5 w-5 text-blue-500\" />\n            {step === 'select' ? 'Assign Course to Group' : 'Preview Assignment'}\n          </DialogTitle>\n        </DialogHeader>\n\n        {step === 'select' ? (\n          <div className=\"space-y-6 py-4 overflow-y-auto\">\n            {/* Course Selection */}\n            <div className=\"space-y-2\">\n              <Label>Select Course</Label>\n              <Select value={selectedCourseId} onValueChange={setSelectedCourseId}>\n                <SelectTrigger className=\"w-full\">\n                  <SelectValue placeholder=\"Choose a course...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {courses.map(course => (\n                    <SelectItem key={course.id} value={course.id}>\n                      <div className=\"flex items-center gap-2\">\n                        <span>{course.name}</span>\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          {course.stats.moduleCount} modules\n                        </Badge>\n                        {course.assignments.total > 0 && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            Assigned to {course.assignments.total} groups\n                          </Badge>\n                        )}\n                      </div>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              \n              {selectedCourse && (\n                <div className=\"p-3 bg-gray-50 rounded-lg text-sm\">\n                  <p className=\"text-muted-foreground\">{selectedCourse.description}</p>\n                  <div className=\"flex gap-4 mt-2 text-xs text-muted-foreground\">\n                    <span>{selectedCourse.stats.moduleCount} modules</span>\n                    <span>{selectedCourse.stats.lessonCount} lessons</span>\n                    <span>{selectedCourse.stats.quizCount} quizzes</span>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Group Selection */}\n            <div className=\"space-y-2\">\n              <Label>Select Group</Label>\n              <Select value={selectedBatchId} onValueChange={setSelectedBatchId}>\n                <SelectTrigger className=\"w-full\">\n                  <SelectValue placeholder=\"Choose a group...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {batches.map(batch => (\n                    <SelectItem key={batch.id} value={batch.id}>\n                      <div className=\"flex items-center gap-2\">\n                        <span>{batch.name}</span>\n                        <Badge className={cn('text-xs', DIFFICULTY_COLORS[batch.difficulty])}>\n                          {DIFFICULTY_LABELS[batch.difficulty]}\n                        </Badge>\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {batch.enrollmentCount} students\n                        </Badge>\n                      </div>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              {selectedBatch && (\n                <div className=\"p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Users className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"text-sm\">{selectedBatch.enrollmentCount} students enrolled</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <BarChart3 className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"text-sm\">Difficulty: </span>\n                    <Badge className={cn('text-xs', DIFFICULTY_COLORS[selectedBatch.difficulty])}>\n                      {DIFFICULTY_LABELS[selectedBatch.difficulty]}\n                    </Badge>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Mismatch Warning */}\n            {mismatchWarning && (\n              <Alert className=\"bg-amber-50 border-amber-200\">\n                <AlertTriangle className=\"h-4 w-4 text-amber-600\" />\n                <AlertDescription className=\"text-amber-700 text-sm\">\n                  {mismatchWarning}\n                </AlertDescription>\n              </Alert>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-4 py-4 overflow-y-auto\">\n            {/* Assignment Summary */}\n            <div className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200\">\n              <div className=\"flex items-center gap-4\">\n                <div>\n                  <p className=\"font-medium text-sm\">{selectedCourse?.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">Course</p>\n                </div>\n                <ArrowRight className=\"h-4 w-4 text-muted-foreground\" />\n                <div>\n                  <p className=\"font-medium text-sm\">{selectedBatch?.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {DIFFICULTY_LABELS[selectedBatch?.difficulty || 'beginner']} Group\n                  </p>\n                </div>\n              </div>\n              <Button variant=\"ghost\" size=\"sm\" onClick={() => setStep('select')}>\n                Change\n              </Button>\n            </div>\n\n            {/* Preview Content */}\n            {previewLoading ? (\n              <div className=\"flex items-center justify-center py-12\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n                <span className=\"ml-2 text-muted-foreground\">Generating preview...</span>\n              </div>\n            ) : preview ? (\n              <>\n                {/* Resolution Stats */}\n                <div className=\"grid grid-cols-4 gap-3\">\n                  <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\n                    <p className=\"text-2xl font-bold\">{preview.resolution.totalModules}</p>\n                    <p className=\"text-xs text-muted-foreground\">Total Modules</p>\n                  </div>\n                  <div className=\"text-center p-3 bg-green-50 rounded-lg\">\n                    <p className=\"text-2xl font-bold text-green-600\">{preview.resolution.visibleModules}</p>\n                    <p className=\"text-xs text-muted-foreground\">Visible</p>\n                  </div>\n                  <div className=\"text-center p-3 bg-amber-50 rounded-lg\">\n                    <p className=\"text-2xl font-bold text-amber-600\">{preview.resolution.adaptedContent}</p>\n                    <p className=\"text-xs text-muted-foreground\">Adapted</p>\n                  </div>\n                  <div className=\"text-center p-3 bg-red-50 rounded-lg\">\n                    <p className=\"text-2xl font-bold text-red-600\">{preview.resolution.hiddenModules}</p>\n                    <p className=\"text-xs text-muted-foreground\">Hidden</p>\n                  </div>\n                </div>\n\n                {/* Hidden Items Warning */}\n                {preview.hiddenItems.length > 0 && (\n                  <Alert variant=\"destructive\" className=\"bg-red-50 border-red-200\">\n                    <EyeOff className=\"h-4 w-4 text-red-600\" />\n                    <AlertDescription>\n                      <p className=\"font-medium text-red-700 mb-1\">\n                        {preview.hiddenItems.length} items will be hidden\n                      </p>\n                      <p className=\"text-sm text-red-600\">\n                        These items are fixed to difficulty levels that don&apos;t match this group.\n                      </p>\n                    </AlertDescription>\n                  </Alert>\n                )}\n\n                {/* Adapted Items */}\n                {preview.adaptedItems.length > 0 && (\n                  <div className=\"space-y-2\">\n                    <h4 className=\"text-sm font-medium flex items-center gap-2\">\n                      <Info className=\"h-4 w-4\" />\n                      Content Adaptations\n                    </h4>\n                    <ScrollArea className=\"h-40 border rounded-lg p-3\">\n                      <div className=\"space-y-2\">\n                        {preview.adaptedItems.map((item, idx) => (\n                          <div key={idx} className=\"text-sm p-2 bg-gray-50 rounded\">\n                            <p className=\"font-medium\">{item.title}</p>\n                            <p className=\"text-xs text-muted-foreground\">\n                              {item.field}: {item.originalValue}  {item.adaptedValue}\n                            </p>\n                          </div>\n                        ))}\n                      </div>\n                    </ScrollArea>\n                  </div>\n                )}\n\n                {/* Success Note */}\n                <Alert className=\"bg-green-50 border-green-200\">\n                  <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                  <AlertDescription className=\"text-green-700 text-sm\">\n                    Course content will automatically adapt to match the group&apos;s \n                    <strong> {selectedBatch?.difficulty}</strong> difficulty level.\n                  </AlertDescription>\n                </Alert>\n              </>\n            ) : null}\n          </div>\n        )}\n\n        <DialogFooter className=\"border-t pt-4\">\n          {step === 'select' ? (\n            <>\n              <Button variant=\"outline\" onClick={onClose}>\n                Cancel\n              </Button>\n              <Button \n                onClick={() => setStep('preview')} \n                disabled={!canProceed}\n                className=\"gap-2\"\n              >\n                <Eye className=\"h-4 w-4\" />\n                Preview Assignment\n              </Button>\n            </>\n          ) : (\n            <>\n              <Button variant=\"outline\" onClick={() => setStep('select')}>\n                Back\n              </Button>\n              <Button \n                onClick={handleAssign} \n                disabled={assigning}\n                className=\"gap-2\"\n              >\n                {assigning ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    Assigning...\n                  </>\n                ) : (\n                  <>\n                    <CheckCircle2 className=\"h-4 w-4\" />\n                    Confirm Assignment\n                  </>\n                )}\n              </Button>\n            </>\n          )}\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1938, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/tutor/PublishValidationChecklist.tsx"],"sourcesContent":["'use client'\n\nimport { CheckCircle2, XCircle, AlertCircle } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface CurriculumModule {\n  id: string\n  lessons: { id: string }[]\n}\n\ninterface Curriculum {\n  id: string\n  name: string | null\n  description: string | null\n  subject: string | null\n  price: number | null\n  currency: string | null\n  modules: CurriculumModule[]\n}\n\ninterface ValidationItem {\n  id: string\n  label: string\n  check: (course: Curriculum) => boolean\n  required: boolean\n}\n\nconst validations: ValidationItem[] = [\n  {\n    id: 'name',\n    label: 'Course has a name (at least 2 characters)',\n    check: (c) => !!c.name && c.name.trim().length >= 2,\n    required: true,\n  },\n  {\n    id: 'subject',\n    label: 'Subject is selected',\n    check: (c) => !!c.subject,\n    required: true,\n  },\n  {\n    id: 'module',\n    label: 'At least 1 module created',\n    check: (c) => c.modules.length > 0,\n    required: true,\n  },\n  {\n    id: 'lesson',\n    label: 'At least 1 lesson added',\n    check: (c) => c.modules.some((m) => m.lessons.length > 0),\n    required: true,\n  },\n  {\n    id: 'price',\n    label: 'Price is set (use 0 for free courses)',\n    check: (c) => c.price !== null && c.price !== undefined,\n    required: true,\n  },\n  {\n    id: 'currency',\n    label: 'Currency is set (required for paid courses)',\n    check: (c) => (c.price ?? 0) === 0 || !!c.currency,\n    required: true,\n  },\n]\n\ninterface PublishValidationChecklistProps {\n  course: Curriculum\n  className?: string\n}\n\nexport function PublishValidationChecklist({ course, className }: PublishValidationChecklistProps) {\n  const results = validations.map((v) => ({\n    ...v,\n    passed: v.check(course),\n  }))\n\n  const passedCount = results.filter((r) => r.passed).length\n  const totalRequired = results.filter((r) => r.required).length\n  const allPassed = passedCount === results.length\n\n  return (\n    <div className={cn('space-y-4', className)}>\n      <div className=\"flex items-center justify-between\">\n        <h4 className=\"font-medium text-slate-900\">Publish Requirements</h4>\n        <span\n          className={cn(\n            'text-sm font-medium',\n            allPassed ? 'text-green-600' : 'text-slate-500'\n          )}\n        >\n          {passedCount}/{results.length} completed\n        </span>\n      </div>\n\n      <div className=\"space-y-2\">\n        {results.map((result) => (\n          <div\n            key={result.id}\n            className={cn(\n              'flex items-center gap-3 rounded-lg border p-3 transition-colors',\n              result.passed\n                ? 'border-green-200 bg-green-50/50'\n                : result.required\n                ? 'border-amber-200 bg-amber-50/50'\n                : 'border-slate-200 bg-slate-50/50'\n            )}\n          >\n            {result.passed ? (\n              <CheckCircle2 className=\"h-5 w-5 shrink-0 text-green-600\" />\n            ) : result.required ? (\n              <XCircle className=\"h-5 w-5 shrink-0 text-amber-600\" />\n            ) : (\n              <AlertCircle className=\"h-5 w-5 shrink-0 text-slate-400\" />\n            )}\n            <span\n              className={cn(\n                'text-sm',\n                result.passed\n                  ? 'text-green-700'\n                  : result.required\n                  ? 'text-amber-700'\n                  : 'text-slate-600'\n              )}\n            >\n              {result.label}\n              {result.required && !result.passed && (\n                <span className=\"ml-1 text-amber-600\">*</span>\n              )}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {!allPassed && (\n        <p className=\"text-xs text-slate-500\">\n          Complete all required items (*) to publish your course.\n        </p>\n      )}\n    </div>\n  )\n}\n\nexport function usePublishValidation(course: Curriculum) {\n  const results = validations.map((v) => ({\n    ...v,\n    passed: v.check(course),\n  }))\n\n  const canPublish = results.every((r) => !r.required || r.passed)\n  const missingRequirements = results\n    .filter((r) => r.required && !r.passed)\n    .map((r) => r.label)\n\n  return {\n    canPublish,\n    missingRequirements,\n    validationResults: results,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2117, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/tutor/PublishButton.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Globe, EyeOff, Loader2, AlertTriangle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog'\nimport { toast } from 'sonner'\nimport { PublishValidationChecklist, usePublishValidation } from './PublishValidationChecklist'\nimport { cn } from '@/lib/utils'\n\ninterface CurriculumModule {\n  id: string\n  lessons: { id: string }[]\n}\n\ninterface Course {\n  id: string\n  name: string | null\n  description: string | null\n  subject: string | null\n  price: number | null\n  currency: string | null\n  isPublished: boolean\n  modules: CurriculumModule[]\n}\n\ninterface PublishButtonProps {\n  course: Course\n  onPublishChange?: (isPublished: boolean) => void\n  variant?: 'default' | 'outline' | 'ghost'\n  size?: 'default' | 'sm' | 'lg' | 'icon'\n  className?: string\n  showLabel?: boolean\n}\n\nexport function PublishButton({\n  course,\n  onPublishChange,\n  variant = 'default',\n  size = 'default',\n  className,\n  showLabel = true,\n}: PublishButtonProps) {\n  const [isLoading, setIsLoading] = useState(false)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const { canPublish, missingRequirements } = usePublishValidation(course)\n\n  const handlePublishToggle = async () => {\n    // If trying to publish and can't, show dialog with requirements\n    if (!course.isPublished && !canPublish) {\n      setIsDialogOpen(true)\n      return\n    }\n\n    // If trying to unpublish, show confirmation\n    if (course.isPublished) {\n      setIsDialogOpen(true)\n      return\n    }\n\n    // Proceed with publishing\n    await togglePublish()\n  }\n\n  const togglePublish = async () => {\n    setIsLoading(true)\n    try {\n      // Get CSRF token\n      const csrfRes = await fetch('/api/csrf', { credentials: 'include' })\n      const csrfData = await csrfRes.json().catch(() => ({}))\n      const csrfToken = csrfData?.token ?? null\n\n      const newStatus = !course.isPublished\n      const res = await fetch(`/api/tutor/courses/${course.id}`, {\n        method: 'PATCH',\n        headers: { \n          'Content-Type': 'application/json',\n          ...(csrfToken ? { 'X-CSRF-Token': csrfToken } : {}),\n        },\n        credentials: 'include',\n        body: JSON.stringify({ isPublished: newStatus }),\n      })\n\n      if (!res.ok) {\n        const err = await res.json()\n        throw new Error(err.error || `Failed to ${newStatus ? 'publish' : 'unpublish'} course`)\n      }\n\n      toast.success(\n        newStatus\n          ? 'Course published! Students can now discover and enroll.'\n          : 'Course unpublished. It will no longer be visible to students.'\n      )\n\n      onPublishChange?.(newStatus)\n      setIsDialogOpen(false)\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : 'An error occurred')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  // If published, show unpublish button\n  if (course.isPublished) {\n    return (\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n        <DialogTrigger asChild>\n          <Button\n            variant=\"outline\"\n            size={size}\n            className={cn('gap-2', className)}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <EyeOff className=\"h-4 w-4\" />\n            )}\n            {showLabel && 'Unpublish'}\n          </Button>\n        </DialogTrigger>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-amber-500\" />\n              Unpublish Course?\n            </DialogTitle>\n            <DialogDescription>\n              This will hide your course from students. Existing enrollments will\n              remain active, but new students won&apos;t be able to find or enroll\n              in this course.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter className=\"gap-2 sm:gap-0\">\n            <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={togglePublish}\n              disabled={isLoading}\n            >\n              {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Unpublish\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    )\n  }\n\n  // If not published, show publish button\n  return (\n    <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n      <DialogTrigger asChild>\n        <Button\n          variant={variant}\n          size={size}\n          className={cn('gap-2', className)}\n          disabled={isLoading}\n        >\n          {isLoading ? (\n            <Loader2 className=\"h-4 w-4 animate-spin\" />\n          ) : (\n            <Globe className=\"h-4 w-4\" />\n          )}\n          {showLabel && 'Publish'}\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Publish Course</DialogTitle>\n          <DialogDescription>\n            Review the requirements before publishing your course.\n          </DialogDescription>\n        </DialogHeader>\n\n        <PublishValidationChecklist\n          course={{\n            id: course.id,\n            name: course.name,\n            description: course.description,\n            subject: course.subject,\n            price: course.price,\n            currency: course.currency,\n            modules: course.modules,\n          }}\n          className=\"py-4\"\n        />\n\n        {!canPublish && (\n          <div className=\"rounded-lg border border-amber-200 bg-amber-50 p-3\">\n            <p className=\"text-sm text-amber-800\">\n              <strong>Cannot publish yet.</strong> Please complete all\n              requirements marked with * above.\n            </p>\n          </div>\n        )}\n\n        <DialogFooter className=\"gap-2 sm:gap-0\">\n          <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n            Cancel\n          </Button>\n          <Button\n            onClick={togglePublish}\n            disabled={isLoading || !canPublish}\n          >\n            {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n            Publish Course\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport function PublishStatusBadge({ isPublished }: { isPublished: boolean }) {\n  return (\n    <span\n      className={cn(\n        'inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium',\n        isPublished\n          ? 'bg-green-100 text-green-700'\n          : 'bg-slate-100 text-slate-700'\n      )}\n    >\n      <span\n        className={cn(\n          'h-1.5 w-1.5 rounded-full',\n          isPublished ? 'bg-green-500' : 'bg-slate-400'\n        )}\n      />\n      {isPublished ? 'Published' : 'Draft'}\n    </span>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2495, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/courses/%5Bid%5D/builder/layout.tsx"],"sourcesContent":["/**\n * Course Builder 2.0 Layout\n * Custom layout without the persistent tutor dashboard nav.\n * Features a builder-specific left nav and back button to dashboard.\n */\n\n'use client'\n\nimport Link from 'next/link'\nimport { useParams, usePathname, useRouter } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { UserNav } from '@/components/user-nav'\nimport {\n  ArrowLeft,\n  LayoutDashboard,\n  BookOpen,\n  Layers,\n  FileText,\n  Settings,\n  Sparkles,\n  ChevronLeft,\n  Menu,\n  X,\n  Save,\n  Eye,\n  Users,\n  Plus,\n  Copy,\n  Link2,\n  ChevronDown,\n  ChevronRight,\n  Loader2,\n  Upload,\n  CheckCircle2,\n  ListOrdered,\n  FileText as FileTextIcon,\n  Radio,\n  Video,\n  BarChart3\n} from 'lucide-react'\nimport { useState, useEffect, useCallback } from 'react'\nimport { cn } from '@/lib/utils'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { toast } from 'sonner'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { useTutorCourses } from '@/hooks/use-course-assignments'\nimport { AssignCourseModal } from '../../components/AssignCourseModal'\nimport type { CourseGroupAssignment } from '@/types/course-assignment'\nimport { PublishStatusBadge } from '@/components/tutor/PublishButton'\n\ninterface BuilderNavItem {\n  id: string\n  label: string\n  icon: React.ComponentType<{ className?: string }>\n}\n\nconst builderNavItems: BuilderNavItem[] = [\n  { id: 'curriculum', label: 'Curriculum', icon: BookOpen },\n  { id: 'modules', label: 'Modules', icon: Layers },\n  { id: 'content', label: 'Content', icon: FileText },\n  { id: 'ai-assist', label: 'AI Assist', icon: Sparkles },\n  { id: 'settings', label: 'Settings', icon: Settings },\n]\n\nexport interface ScheduleItem {\n  dayOfWeek: string\n  startTime: string\n  durationMinutes: number\n}\n\nexport interface BatchItem {\n  id: string\n  name: string\n  startDate: string | null\n  order: number\n  difficulty: 'beginner' | 'intermediate' | 'advanced'\n  languageOfInstruction?: string | null\n  price?: number | null\n  currency?: string | null\n  schedule: ScheduleItem[]\n  enrollmentCount: number\n  /** Whether this group is currently live/online */\n  isLive?: boolean\n  /** Courses assigned to this batch */\n  assignedCourses?: CourseGroupAssignment[]\n}\n\ninterface EnrollmentItem {\n  id: string\n  studentId: string\n  studentName: string\n  studentEmail: string\n  batchId: string | null\n  enrolledAt: string\n  lessonsCompleted: number\n}\n\nconst DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\nconst DIFFICULTY_LEVELS = [\n  { value: 'beginner', label: 'Beginner' },\n  { value: 'intermediate', label: 'Intermediate' },\n  { value: 'advanced', label: 'Advanced' },\n]\n\nconst CURRICULUM_LANGUAGES = [\n  { value: 'en', label: 'English' },\n  { value: 'zh-CN', label: 'Chinese (Simplified)' },\n  { value: 'zh-TW', label: 'Chinese (Traditional)' },\n  { value: 'ms', label: 'Malay' },\n  { value: 'ta', label: 'Tamil' },\n]\n\nconst CURRENCIES = ['SGD', 'USD', 'CNY', 'MYR', 'EUR', 'GBP', 'AUD', 'CAD', 'JPY', 'INR', 'KRW', 'HKD']\n\nconst LANGUAGES = [\n  { value: 'en', label: 'English' },\n  { value: 'zh-CN', label: 'Chinese (Simplified)' },\n  { value: 'zh-TW', label: 'Chinese (Traditional)' },\n  { value: 'es', label: 'Spanish' },\n  { value: 'fr', label: 'French' },\n  { value: 'de', label: 'German' },\n  { value: 'it', label: 'Italian' },\n  { value: 'pt', label: 'Portuguese' },\n  { value: 'ru', label: 'Russian' },\n  { value: 'ja', label: 'Japanese' },\n  { value: 'ko', label: 'Korean' },\n  { value: 'ar', label: 'Arabic' },\n  { value: 'hi', label: 'Hindi' },\n  { value: 'bn', label: 'Bengali' },\n  { value: 'pa', label: 'Punjabi' },\n  { value: 'vi', label: 'Vietnamese' },\n  { value: 'tr', label: 'Turkish' },\n  { value: 'th', label: 'Thai' },\n  { value: 'ms', label: 'Malay' },\n  { value: 'id', label: 'Indonesian' },\n  { value: 'ta', label: 'Tamil' },\n  { value: 'te', label: 'Telugu' },\n  { value: 'ur', label: 'Urdu' },\n  { value: 'fa', label: 'Persian (Farsi)' },\n  { value: 'nl', label: 'Dutch' },\n  { value: 'pl', label: 'Polish' },\n  { value: 'uk', label: 'Ukrainian' },\n  { value: 'ro', label: 'Romanian' },\n  { value: 'el', label: 'Greek' },\n  { value: 'cs', label: 'Czech' },\n  { value: 'sv', label: 'Swedish' },\n  { value: 'hu', label: 'Hungarian' },\n  { value: 'da', label: 'Danish' },\n  { value: 'fi', label: 'Finnish' },\n  { value: 'no', label: 'Norwegian' },\n  { value: 'he', label: 'Hebrew' },\n  { value: 'sw', label: 'Swahili' },\n]\n\nexport default function CourseBuilderLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n  const params = useParams()\n  const pathname = usePathname()\n  const courseId = (params?.id as string) ?? ''\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\n  const [activeSection, setActiveSection] = useState('curriculum')\n  \n  // Groups & Schedules Modal State\n  const [groupsModalOpen, setGroupsModalOpen] = useState(false)\n  const [batches, setBatches] = useState<BatchItem[]>([])\n  const [enrollments, setEnrollments] = useState<EnrollmentItem[]>([])\n  const [loadingBatches, setLoadingBatches] = useState(false)\n  const [newBatchName, setNewBatchName] = useState('')\n  const [creatingBatch, setCreatingBatch] = useState(false)\n  const [expandedBatchId, setExpandedBatchId] = useState<string | null>(null)\n  const [activeTab, setActiveTab] = useState<string>('')\n\n  // Curriculum & Materials Modal State\n  const [curriculumModalOpen, setCurriculumModalOpen] = useState(false)\n  const [course, setCourse] = useState<{\n    id: string\n    name: string\n    subject: string\n    description: string | null\n    price: number | null\n    currency: string | null\n    isPublished: boolean\n    modules: { id: string; title: string; description: string | null; lessons: { id: string; title: string; duration: number }[] }[]\n  } | null>(null)\n  const [loadingCourse, setLoadingCourse] = useState(false)\n  const [launchingLiveClass, setLaunchingLiveClass] = useState(false)\n  const [curriculumSource, setCurriculumSource] = useState<'PLATFORM' | 'UPLOADED'>('PLATFORM')\n  const [outlineSource, setOutlineSource] = useState<'SELF' | 'AI'>('SELF')\n  const [curriculumCatalog, setCurriculumCatalog] = useState<{ id: string; name: string }[]>([])\n  const [loadingCatalog, setLoadingCatalog] = useState(false)\n  const [uploadText, setUploadText] = useState({ curriculum: '', notes: '', topics: '' })\n  const [fileExtracting, setFileExtracting] = useState(false)\n  const [editableCurriculum, setEditableCurriculum] = useState('')\n  const [editableNotes, setEditableNotes] = useState('')\n  const [outline, setOutline] = useState<{ title: string; durationMinutes: number }[]>([])\n  const [typicalLessonMinutes, setTypicalLessonMinutes] = useState(45)\n  const [generatingOutline, setGeneratingOutline] = useState(false)\n  const [savingMaterials, setSavingMaterials] = useState(false)\n\n  // Determine active section based on URL or default\n  const getActiveSection = () => {\n    if (pathname.includes('/builder')) return 'curriculum'\n    return activeSection\n  }\n\n  const currentSection = getActiveSection()\n\n  const loadBatches = useCallback(async () => {\n    if (!courseId) return\n    setLoadingBatches(true)\n    try {\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches`, { credentials: 'include' })\n      if (res.ok) {\n        const data = await res.json()\n        const loadedBatches = data.batches ?? []\n        setBatches(loadedBatches)\n        if (loadedBatches.length > 0 && !activeTab) {\n          setActiveTab(loadedBatches[0].id)\n        }\n      }\n    } catch {\n      toast.error('Failed to load groups')\n    } finally {\n      setLoadingBatches(false)\n    }\n  }, [courseId, activeTab])\n\n  const loadEnrollments = useCallback(async () => {\n    if (!courseId) return\n    try {\n      const res = await fetch(`/api/tutor/courses/${courseId}/enrollments`, { credentials: 'include' })\n      if (res.ok) {\n        const data = await res.json()\n        setEnrollments(data.enrollments ?? [])\n      }\n    } catch { /* ignore */ }\n  }, [courseId])\n\n  useEffect(() => {\n    if (groupsModalOpen) {\n      loadBatches()\n      loadEnrollments()\n    }\n  }, [groupsModalOpen, loadBatches, loadEnrollments])\n\n  // Load course data for Curriculum modal\n  const loadCourse = useCallback(async () => {\n    if (!courseId) return\n    setLoadingCourse(true)\n    try {\n      const res = await fetch(`/api/tutor/courses/${courseId}`, { credentials: 'include' })\n      if (res.ok) {\n        const data = await res.json()\n        setCourse(data.course)\n        setCurriculumSource((data.course?.curriculumSource as 'PLATFORM' | 'UPLOADED') ?? 'PLATFORM')\n        setOutlineSource((data.course?.outlineSource as 'SELF' | 'AI') ?? 'SELF')\n        \n        // Load curriculum catalog for subject\n        if (data.course?.subject) {\n          setLoadingCatalog(true)\n          fetch(`/api/curriculums/catalog?subject=${encodeURIComponent(data.course.subject)}`, { credentials: 'include' })\n            .then((res) => res.json())\n            .then((data) => setCurriculumCatalog(data.curriculums ?? []))\n            .catch(() => setCurriculumCatalog([]))\n            .finally(() => setLoadingCatalog(false))\n        }\n      }\n    } catch {\n      toast.error('Failed to load course')\n    } finally {\n      setLoadingCourse(false)\n    }\n  }, [courseId])\n\n  useEffect(() => {\n    if (curriculumModalOpen) {\n      loadCourse()\n    }\n  }, [curriculumModalOpen, loadCourse])\n\n  const getCsrf = async () => {\n    const res = await fetch('/api/csrf', { credentials: 'include' })\n    const data = await res.json().catch(() => ({}))\n    return data?.token ?? null\n  }\n\n  // Curriculum & Materials handlers\n  const handleFileRead = async (type: 'curriculum' | 'notes' | 'topics', e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n    e.target.value = ''\n    const isPlainText = /\\.(txt|md|markdown)$/i.test(file.name) || file.type.startsWith('text/')\n    if (!isPlainText) setFileExtracting(true)\n    try {\n      const { extractTextFromFile } = await import('@/lib/extract-file-text')\n      const t = await extractTextFromFile(file)\n      if (type === 'curriculum') setUploadText((p) => ({ ...p, curriculum: t }))\n      else if (type === 'notes') setUploadText((p) => ({ ...p, notes: t }))\n      else setUploadText((p) => ({ ...p, topics: t }))\n      toast.info(t ? 'File loaded. Generate the course outline in step 4.' : 'File loaded but no text was extracted.')\n    } catch {\n      toast.error('Could not read file. Try a .txt or .md file, or paste text.')\n    } finally {\n      setFileExtracting(false)\n    }\n  }\n\n  const handleGenerateOutline = async () => {\n    const hasContent = uploadText.curriculum.trim() || uploadText.notes.trim() || uploadText.topics.trim() || editableCurriculum.trim()\n    if (!hasContent) {\n      toast.error('Upload at least one of curriculum, notes, or topics before generating the outline.')\n      return\n    }\n    setGeneratingOutline(true)\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/materials/outline`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({\n          typicalLessonMinutes,\n          curriculumText: uploadText.curriculum.trim() || editableCurriculum || undefined,\n          notesText: uploadText.notes.trim() || editableNotes || undefined,\n        }),\n      })\n      const data = await res.json()\n      if (res.ok) {\n        setOutline(data.outline ?? [])\n        toast.success(data.message ?? 'Outline generated')\n      } else toast.error(data.error ?? 'Failed to generate outline')\n    } catch {\n      toast.error('Failed to generate outline')\n    } finally {\n      setGeneratingOutline(false)\n    }\n  }\n\n  const handleSaveMaterials = async () => {\n    setSavingMaterials(true)\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/materials`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({\n          editableCurriculum: editableCurriculum || undefined,\n          editableNotes: editableNotes || undefined,\n          outline: outline.length ? outline : undefined,\n        }),\n      })\n      if (res.ok) {\n        toast.success('Materials saved')\n        loadCourse()\n      } else toast.error('Failed to save materials')\n    } catch {\n      toast.error('Failed to save materials')\n    } finally {\n      setSavingMaterials(false)\n    }\n  }\n\n  const handleCreateBatch = async () => {\n    if (!newBatchName.trim()) return\n    setCreatingBatch(true)\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({ name: newBatchName.trim() }),\n      })\n      const data = await res.json()\n      if (res.ok) {\n        const newBatch: BatchItem = { \n          ...data.batch, \n          difficulty: 'beginner', \n          schedule: [], \n          enrollmentCount: 0,\n          assignedCourses: [],\n          courseCount: 0,\n          isLive: false\n        }\n        setBatches((prev) => [...prev, newBatch])\n        setNewBatchName('')\n        setActiveTab(newBatch.id)\n        \n        // Also save to localStorage for My Groups page\n        const storedGroups = localStorage.getItem('tutor_groups')\n        const existingGroups: BatchItem[] = storedGroups ? JSON.parse(storedGroups) : []\n        localStorage.setItem('tutor_groups', JSON.stringify([newBatch, ...existingGroups]))\n        \n        toast.success(data.message ?? 'Group created')\n      } else toast.error(data.error ?? 'Failed to create group')\n    } catch {\n      toast.error('Failed to create group')\n    } finally {\n      setCreatingBatch(false)\n    }\n  }\n\n  const handleUpdateBatchDifficulty = async (batchId: string, difficulty: 'beginner' | 'intermediate' | 'advanced') => {\n    setBatches((prev) => prev.map((b) => (b.id === batchId ? { ...b, difficulty } : b)))\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches/${batchId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({ difficulty }),\n      })\n      if (res.ok) toast.success('Difficulty updated')\n      else {\n        const data = await res.json().catch(() => ({}))\n        toast.error(data.error ?? 'Failed to update')\n      }\n    } catch {\n      toast.error('Failed to update difficulty')\n    }\n  }\n\n  const handleUpdateBatchLanguage = async (batchId: string, languageOfInstruction: string) => {\n    setBatches((prev) => prev.map((b) => (b.id === batchId ? { ...b, languageOfInstruction } : b)))\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches/${batchId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({ languageOfInstruction }),\n      })\n      if (res.ok) toast.success('Language updated')\n      else {\n        const data = await res.json().catch(() => ({}))\n        toast.error(data.error ?? 'Failed to update language')\n      }\n    } catch {\n      toast.error('Failed to update language')\n    }\n  }\n\n  const handleUpdateBatchPrice = async (batchId: string, price: number | null, currency: string) => {\n    setBatches((prev) => prev.map((b) => (b.id === batchId ? { ...b, price, currency } : b)))\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches/${batchId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({ price, currency }),\n      })\n      if (res.ok) toast.success('Price updated')\n      else {\n        const data = await res.json().catch(() => ({}))\n        toast.error(data.error ?? 'Failed to update price')\n      }\n    } catch {\n      toast.error('Failed to update price')\n    }\n  }\n\n  const handleUpdateBatchSchedule = async (batchId: string, schedule: ScheduleItem[]) => {\n    setBatches((prev) => prev.map((b) => (b.id === batchId ? { ...b, schedule } : b)))\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches/${batchId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({ schedule }),\n      })\n      if (res.ok) toast.success('Schedule saved')\n      else toast.error('Failed to save schedule')\n    } catch {\n      toast.error('Failed to save schedule')\n    }\n  }\n\n  const handleToggleGroupLive = async (batchId: string, isLive: boolean) => {\n    setBatches((prev) => prev.map((b) => (b.id === batchId ? { ...b, isLive } : b)))\n    try {\n      const csrf = await getCsrf()\n      const res = await fetch(`/api/tutor/courses/${courseId}/batches/${batchId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify({ isLive }),\n      })\n      if (res.ok) {\n        toast.success(isLive ? 'Group is now online' : 'Group is now offline')\n      } else {\n        const data = await res.json().catch(() => ({}))\n        toast.error(data.error ?? 'Failed to update status')\n      }\n    } catch {\n      toast.error('Failed to update live status')\n    }\n  }\n\n  const handleEnterClassroom = (batchId: string) => {\n    // TODO: Navigate to classroom page\n    toast.info('Classroom feature coming soon')\n    console.warn('Enter classroom for batch:', batchId)\n  }\n\n  const handleOpenInLiveClass = async () => {\n    if (!courseId) return\n    setLaunchingLiveClass(true)\n    try {\n      const csrf = await getCsrf()\n      const courseRes = await fetch(`/api/tutor/courses/${courseId}`, { credentials: 'include' })\n      if (!courseRes.ok) throw new Error('Failed to load course context')\n      const courseData = await courseRes.json()\n      const course = courseData?.course\n      if (!course) throw new Error('Course not found')\n\n      const durationFromCourseSchedule = Array.isArray(course.schedule) && course.schedule.length > 0\n        ? Number(course.schedule[0]?.durationMinutes) || 60\n        : 60\n\n      const normalizedDescription = String(course.description || '').trim()\n      const normalizedGradeLevel = String(course.gradeLevel || '').trim()\n      const payload: Record<string, unknown> = {\n        title: String(course.name || 'Live Class'),\n        subject: String(course.subject || 'General'),\n        curriculumId: courseId,\n        maxStudents: 50,\n        durationMinutes: Math.max(15, Math.min(480, durationFromCourseSchedule)),\n        enableRecording: false,\n      }\n      if (normalizedDescription) payload.description = normalizedDescription\n      if (normalizedGradeLevel) payload.gradeLevel = normalizedGradeLevel\n\n      const createRes = await fetch('/api/class/rooms', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', ...(csrf && { 'X-CSRF-Token': csrf }) },\n        credentials: 'include',\n        body: JSON.stringify(payload),\n      })\n\n      if (!createRes.ok) {\n        const data = await createRes.json().catch(() => ({}))\n        throw new Error(data.error || 'Failed to create live class')\n      }\n      const responseData = await createRes.json()\n      const sessionId = responseData?.session?.id\n      if (!sessionId) throw new Error('Live class created but missing session ID')\n\n      toast.success('Live class created. Redirecting')\n      router.push(`/tutor/live-class/${sessionId}`)\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : 'Failed to open live class')\n    } finally {\n      setLaunchingLiveClass(false)\n    }\n  }\n\n  const addScheduleSlot = (batchId: string) => {\n    setBatches((prev) =>\n      prev.map((b) =>\n        b.id === batchId\n          ? { ...b, schedule: [...b.schedule, { dayOfWeek: DAYS[0], startTime: '09:00', durationMinutes: 60 }] }\n          : b\n      )\n    )\n  }\n\n  const updateScheduleSlot = (batchId: string, index: number, field: keyof ScheduleItem, value: string | number) => {\n    setBatches((prev) =>\n      prev.map((b) => {\n        if (b.id !== batchId) return b\n        const next = [...b.schedule]\n        next[index] = { ...next[index], [field]: value }\n        return { ...b, schedule: next }\n      })\n    )\n  }\n\n  const removeScheduleSlot = (batchId: string, index: number) => {\n    setBatches((prev) =>\n      prev.map((b) =>\n        b.id === batchId ? { ...b, schedule: b.schedule.filter((_, i) => i !== index) } : b\n      )\n    )\n  }\n\n  const copyGroupLink = (batchId: string) => {\n    const url = typeof window !== 'undefined' ? `${window.location.origin}/curriculum/${courseId}?batch=${batchId}` : ''\n    if (url) {\n      navigator.clipboard.writeText(url).then(() => toast.success('Group link copied'))\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Builder Left Navigation - Desktop */}\n      <aside className=\"w-64 bg-white border-r sticky top-0 h-screen hidden lg:flex flex-col z-40\">\n        {/* Back to Dashboard Button */}\n        <div className=\"p-4 border-b\">\n          <div className=\"space-y-2\">\n            <Button \n              variant=\"ghost\" \n              className=\"w-full justify-start gap-2 text-gray-600 hover:text-gray-900\"\n              asChild\n            >\n              <Link href=\"/tutor/my-page\">\n                <ChevronLeft className=\"h-4 w-4\" />\n                Back to My Page\n              </Link>\n            </Button>\n            <Button\n              className=\"w-full justify-start gap-2 bg-blue-600 hover:bg-blue-700\"\n              onClick={handleOpenInLiveClass}\n              disabled={launchingLiveClass}\n            >\n              {launchingLiveClass ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Radio className=\"h-4 w-4\" />}\n              {launchingLiveClass ? 'Opening Live Class' : 'Open in Live Class'}\n            </Button>\n          </div>\n        </div>\n\n        {/* Course Info */}\n        <div className=\"p-4 border-b bg-gray-50/50\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <p className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n              Editing Course\n            </p>\n            {course && <PublishStatusBadge isPublished={course.isPublished} />}\n          </div>\n          <h2 className=\"font-medium text-gray-900 truncate\" title={course?.name || `Course ${courseId.slice(0, 8)}`}>\n            {course?.name || `Course ${courseId.slice(0, 8)}...`}\n          </h2>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Course Builder 2.0\n          </p>\n\n        </div>\n        \n        {/* Builder Navigation */}\n        <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\n          {builderNavItems.map((item) => {\n            const Icon = item.icon\n            const isActive = currentSection === item.id\n            const handleClick = () => {\n              if (item.id === 'curriculum') {\n                setCurriculumModalOpen(true)\n              } else {\n                setActiveSection(item.id)\n              }\n            }\n            return (\n              <button\n                key={item.id}\n                onClick={handleClick}\n                className={cn(\n                  \"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left\",\n                  isActive \n                    ? \"bg-blue-50 text-blue-700 font-medium\" \n                    : \"text-gray-600 hover:bg-gray-100 hover:text-gray-900\"\n                )}\n              >\n                <Icon className=\"h-5 w-5 flex-shrink-0\" />\n                <span className=\"font-medium text-sm\">{item.label}</span>\n              </button>\n            )\n          })}\n        </nav>\n        \n        {/* Quick Actions Section */}\n        <div className=\"px-4 py-3 border-t bg-gray-50/50\">\n          <p className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 px-3\">\n            Quick Actions\n          </p>\n          <div className=\"space-y-1\">\n            <Button \n              variant=\"ghost\" \n              className=\"w-full justify-start gap-2 text-sm\"\n              asChild\n            >\n              <Link href={`/tutor/courses/${courseId}`}>\n                <Eye className=\"h-4 w-4\" />\n                Preview Course\n              </Link>\n            </Button>\n            <Button \n              variant=\"ghost\" \n              className=\"w-full justify-start gap-2 text-sm\"\n              asChild\n            >\n              <Link href=\"/tutor/group-builder\">\n                <Users className=\"h-4 w-4\" />\n                Group Builder\n              </Link>\n            </Button>\n            <Button \n              variant=\"ghost\" \n              className=\"w-full justify-start gap-2 text-sm\"\n            >\n              <Save className=\"h-4 w-4\" />\n              Save Changes\n            </Button>\n          </div>\n        </div>\n      </aside>\n\n      {/* Mobile Header */}\n      <div className=\"lg:hidden fixed top-0 left-0 right-0 bg-white border-b z-50\">\n        <div className=\"flex items-center justify-between h-16 px-4\">\n          <div className=\"flex items-center gap-3\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\"\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n            >\n              {mobileMenuOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n            </Button>\n            <Link href=\"/tutor/dashboard\" className=\"flex items-center gap-2\">\n              <ArrowLeft className=\"h-4 w-4 text-gray-500\" />\n              <span className=\"font-semibold text-gray-900\">Builder</span>\n            </Link>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleOpenInLiveClass}\n              disabled={launchingLiveClass}\n              title=\"Open in Live Class\"\n            >\n              {launchingLiveClass ? <Loader2 className=\"h-5 w-5 animate-spin\" /> : <Radio className=\"h-5 w-5\" />}\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" asChild>\n              <Link href=\"/tutor/group-builder\">\n                <Users className=\"h-5 w-5\" />\n              </Link>\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\">\n              <Save className=\"h-5 w-5\" />\n            </Button>\n            <UserNav />\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Navigation Menu */}\n      {mobileMenuOpen && (\n        <div className=\"lg:hidden fixed inset-0 top-16 bg-white z-40 p-4 overflow-y-auto\">\n          {/* Back to My Page - Mobile */}\n          <div className=\"mb-4 pb-4 border-b\">\n            <Button \n              variant=\"outline\" \n              className=\"w-full justify-start gap-2\"\n              asChild\n            >\n              <Link href=\"/tutor/my-page\" onClick={() => setMobileMenuOpen(false)}>\n                <LayoutDashboard className=\"h-4 w-4\" />\n                Back to My Page\n              </Link>\n            </Button>\n          </div>\n\n          <p className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3 px-3\">\n            Builder Sections\n          </p>\n          <nav className=\"space-y-1\">\n            {builderNavItems.map((item) => {\n              const Icon = item.icon\n              const isActive = currentSection === item.id\n              return (\n                <button\n                  key={item.id}\n                  onClick={() => {\n                    setActiveSection(item.id)\n                    setMobileMenuOpen(false)\n                  }}\n                  className={cn(\n                    \"w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors text-left\",\n                    isActive \n                      ? \"bg-blue-50 text-blue-700 font-medium\" \n                      : \"text-gray-600 hover:bg-gray-100\"\n                  )}\n                >\n                  <Icon className=\"h-5 w-5\" />\n                  <span className=\"font-medium\">{item.label}</span>\n                </button>\n              )\n            })}\n          </nav>\n\n          {/* Quick Actions - Mobile */}\n          <div className=\"mt-6 pt-6 border-t space-y-1\">\n            <p className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3 px-3\">\n              Quick Actions\n            </p>\n            <Button\n              variant=\"ghost\"\n              className=\"w-full justify-start gap-2\"\n              onClick={async () => {\n                setMobileMenuOpen(false)\n                await handleOpenInLiveClass()\n              }}\n              disabled={launchingLiveClass}\n            >\n              {launchingLiveClass ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Radio className=\"h-4 w-4\" />}\n              {launchingLiveClass ? 'Opening Live Class' : 'Open in Live Class'}\n            </Button>\n            <Button \n              variant=\"ghost\" \n              className=\"w-full justify-start gap-2\"\n              asChild\n            >\n              <Link href={`/tutor/courses/${courseId}`} onClick={() => setMobileMenuOpen(false)}>\n                <Eye className=\"h-4 w-4\" />\n                Preview Course\n              </Link>\n            </Button>\n            <Button \n              variant=\"ghost\" \n              className=\"w-full justify-start gap-2\"\n              asChild\n            >\n              <Link href=\"/tutor/group-builder\" onClick={() => setMobileMenuOpen(false)}>\n                <Users className=\"h-4 w-4\" />\n                Group Builder\n              </Link>\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Main Content */}\n      <main className=\"flex-1 pt-16 lg:pt-0 min-h-screen\">\n        {children}\n      </main>\n\n      {/* Groups & Schedules Modal - 90% width/height */}\n      <Dialog open={groupsModalOpen} onOpenChange={setGroupsModalOpen}>\n        <DialogContent className=\"max-w-[90vw] w-[90vw] h-[90vh] max-h-[90vh] p-0 flex flex-col overflow-hidden\">\n          <DialogHeader className=\"px-6 py-4 border-b shrink-0\">\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Users className=\"h-5 w-5\" />\n              Group Builder\n            </DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"flex-1 overflow-hidden\">\n            {loadingBatches ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n              </div>\n            ) : batches.length === 0 ? (\n              <div className=\"p-6 space-y-4\">\n                <p className=\"text-muted-foreground\">No groups created yet.</p>\n                <div className=\"flex gap-2\">\n                  <Input\n                    placeholder=\"Group name (e.g. Batch 1, Jan 2025)\"\n                    value={newBatchName}\n                    onChange={(e) => setNewBatchName(e.target.value)}\n                    className=\"max-w-[300px]\"\n                  />\n                  <Button onClick={handleCreateBatch} disabled={creatingBatch || !newBatchName.trim()}>\n                    {creatingBatch ? 'Creating' : <><Plus className=\"h-4 w-4 mr-1\" /> Create Group</>}\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <Tabs value={activeTab} onValueChange={setActiveTab} className=\"h-full flex flex-col\">\n                <div className=\"border-b px-6 pt-2 bg-gray-50/50 shrink-0\">\n                  <div className=\"flex items-center gap-2 overflow-x-auto\">\n                    <TabsList className=\"bg-transparent h-10\">\n                      {batches.map((batch) => (\n                        <TabsTrigger \n                          key={batch.id} \n                          value={batch.id}\n                          className=\"data-[state=active]:bg-white data-[state=active]:shadow-sm\"\n                        >\n                          {batch.name}\n                          <span className=\"ml-2 text-xs text-muted-foreground\">\n                            ({batch.enrollmentCount})\n                          </span>\n                        </TabsTrigger>\n                      ))}\n                    </TabsList>\n                    <div className=\"flex items-center gap-2 pl-2 border-l ml-2\">\n                      <Input\n                        placeholder=\"New group name\"\n                        value={newBatchName}\n                        onChange={(e) => setNewBatchName(e.target.value)}\n                        className=\"w-[150px] h-8 text-sm\"\n                      />\n                      <Button \n                        size=\"sm\" \n                        onClick={handleCreateBatch} \n                        disabled={creatingBatch || !newBatchName.trim()}\n                      >\n                        <Plus className=\"h-3 w-3\" />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                {batches.map((batch) => (\n                  <TabsContent \n                    key={batch.id} \n                    value={batch.id} \n                    className=\"flex-1 overflow-auto m-0 p-6\"\n                  >\n                    <div className=\"max-w-4xl mx-auto space-y-6\">\n                      {/* Group Header */}\n                      <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                        <div>\n                          <h3 className=\"text-lg font-semibold\">{batch.name}</h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {batch.enrollmentCount} student{batch.enrollmentCount !== 1 ? 's' : ''} enrolled\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          {/* Online/Offline Toggle */}\n                          <Button\n                            variant={batch.isLive ? \"default\" : \"outline\"}\n                            size=\"sm\"\n                            onClick={() => handleToggleGroupLive(batch.id, !batch.isLive)}\n                            className={cn(\n                              \"gap-2\",\n                              batch.isLive && \"bg-green-600 hover:bg-green-700\"\n                            )}\n                          >\n                            <Radio className={cn(\"h-4 w-4\", batch.isLive && \"animate-pulse\")} />\n                            {batch.isLive ? 'Online' : 'Offline'}\n                          </Button>\n                          {/* Enter Classroom Button */}\n                          <Button\n                            variant=\"default\"\n                            size=\"sm\"\n                            className=\"gap-2 bg-blue-600 hover:bg-blue-700\"\n                            onClick={() => handleEnterClassroom(batch.id)}\n                          >\n                            <Video className=\"h-4 w-4\" />\n                            Enter Classroom\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\" onClick={() => copyGroupLink(batch.id)}>\n                            <Copy className=\"h-4 w-4 mr-2\" />\n                            Copy Group Link\n                          </Button>\n                        </div>\n                      </div>\n\n                      {/* Difficulty & Language Settings */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                          <Label className=\"text-sm font-medium\">Difficulty Level</Label>\n                          <Select\n                            value={batch.difficulty ?? 'intermediate'}\n                            onValueChange={(v) => handleUpdateBatchDifficulty(batch.id, v as 'beginner' | 'intermediate' | 'advanced')}\n                          >\n                            <SelectTrigger className=\"w-full bg-white\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {DIFFICULTY_LEVELS.map((d) => (\n                                <SelectItem key={d.value} value={d.value}>\n                                  {d.label}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n\n                        <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                          <Label className=\"text-sm font-medium\">Language of Instruction</Label>\n                          <Select\n                            value={batch.languageOfInstruction ?? 'en'}\n                            onValueChange={(v) => handleUpdateBatchLanguage(batch.id, v)}\n                          >\n                            <SelectTrigger className=\"w-full bg-white\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent className=\"max-h-[300px]\">\n                              {LANGUAGES.map((l) => (\n                                <SelectItem key={l.value} value={l.value}>\n                                  {l.label}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n                      </div>\n\n                      {/* Price Setting */}\n                      <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                        <Label className=\"text-sm font-medium\">Group Price</Label>\n                        <div className=\"flex gap-3 flex-wrap\">\n                          <div className=\"flex-1 min-w-[150px]\">\n                            <Input\n                              type=\"number\"\n                              min={0}\n                              step={0.01}\n                              placeholder=\"0.00\"\n                              value={batch.price ?? ''}\n                              onChange={(e) => {\n                                const price = e.target.value === '' ? null : Number(e.target.value)\n                                handleUpdateBatchPrice(batch.id, price, batch.currency ?? 'SGD')\n                              }}\n                              className=\"bg-white\"\n                            />\n                          </div>\n                          <Select\n                            value={batch.currency ?? 'SGD'}\n                            onValueChange={(v) => handleUpdateBatchPrice(batch.id, batch.price ?? null, v)}\n                          >\n                            <SelectTrigger className=\"w-[100px] bg-white\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {CURRENCIES.map((c) => (\n                                <SelectItem key={c} value={c}>\n                                  {c}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Set a custom price for this group. Leave empty to use the default course price.\n                        </p>\n                      </div>\n\n                      {/* Share & Enrollment - Per Group */}\n                      <div className=\"bg-blue-50 rounded-lg p-4 space-y-3 border border-blue-200\">\n                        <Label className=\"text-sm font-medium flex items-center gap-2\">\n                          <Link2 className=\"h-4 w-4 text-blue-500\" />\n                          Share & Enrollment\n                        </Label>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Share this group link for students to join this specific group.\n                        </p>\n                        <div className=\"flex gap-2\">\n                          <Input \n                            readOnly \n                            value={`${typeof window !== 'undefined' ? window.location.origin : ''}/curriculum/${courseId}?batch=${batch.id}`} \n                            className=\"font-mono text-sm bg-white flex-1\"\n                          />\n                          <Button \n                            type=\"button\" \n                            variant=\"outline\" \n                            size=\"icon\" \n                            onClick={() => {\n                              const url = `${typeof window !== 'undefined' ? window.location.origin : ''}/curriculum/${courseId}?batch=${batch.id}`\n                              if (url) navigator.clipboard.writeText(url).then(() => toast.success('Group link copied'))\n                            }} \n                            title=\"Copy link\"\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                        <div className=\"flex items-center gap-2 text-sm\">\n                          <Users className=\"h-4 w-4 text-blue-500\" />\n                          <span>\n                            <strong>{batch.enrollmentCount}</strong> students enrolled in this group\n                          </span>\n                        </div>\n                      </div>\n\n                      {/* Course Assignment Section */}\n                      <CourseAssignmentSection \n                        batch={batch} \n                        courseId={courseId}\n                      />\n\n                      {/* Schedule Section */}\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center justify-between\">\n                          <h4 className=\"font-medium flex items-center gap-2\">\n                            Class Schedule\n                          </h4>\n                          <Button \n                            variant=\"outline\" \n                            size=\"sm\"\n                            onClick={() => addScheduleSlot(batch.id)}\n                          >\n                            <Plus className=\"h-4 w-4 mr-1\" />\n                            Add Class Slot\n                          </Button>\n                        </div>\n\n                        {batch.schedule.length === 0 ? (\n                          <p className=\"text-sm text-muted-foreground\">\n                            No schedule set. Add class slots for this group.\n                          </p>\n                        ) : (\n                          <div className=\"space-y-2\">\n                            {batch.schedule.map((slot, index) => (\n                              <div\n                                key={index}\n                                className=\"flex flex-wrap items-end gap-2 p-3 rounded-lg border bg-gray-50\"\n                              >\n                                <div className=\"space-y-1 min-w-[140px]\">\n                                  <Label className=\"text-xs\">Day</Label>\n                                  <Select\n                                    value={slot.dayOfWeek}\n                                    onValueChange={(v) => updateScheduleSlot(batch.id, index, 'dayOfWeek', v)}\n                                  >\n                                    <SelectTrigger className=\"bg-white\">\n                                      <SelectValue />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                      {DAYS.map((d) => (\n                                        <SelectItem key={d} value={d}>{d}</SelectItem>\n                                      ))}\n                                    </SelectContent>\n                                  </Select>\n                                </div>\n                                <div className=\"space-y-1 w-[100px]\">\n                                  <Label className=\"text-xs\">Start</Label>\n                                  <Input\n                                    type=\"time\"\n                                    value={slot.startTime}\n                                    onChange={(e) => updateScheduleSlot(batch.id, index, 'startTime', e.target.value)}\n                                    className=\"bg-white\"\n                                  />\n                                </div>\n                                <div className=\"space-y-1 w-[120px]\">\n                                  <Label className=\"text-xs\">Duration (min)</Label>\n                                  <Input\n                                    type=\"number\"\n                                    min={5}\n                                    max={480}\n                                    value={slot.durationMinutes}\n                                    onChange={(e) =>\n                                      updateScheduleSlot(batch.id, index, 'durationMinutes', parseInt(e.target.value, 10) || 60)\n                                    }\n                                    className=\"bg-white\"\n                                  />\n                                </div>\n                                <Button\n                                  type=\"button\"\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => removeScheduleSlot(batch.id, index)}\n                                  className=\"text-destructive hover:text-destructive\"\n                                >\n                                  Remove\n                                </Button>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n\n                        {batch.schedule.length > 0 && (\n                          <Button \n                            onClick={() => handleUpdateBatchSchedule(batch.id, batch.schedule)}\n                          >\n                            Save Schedule\n                          </Button>\n                        )}\n                      </div>\n\n                      {/* Students in Group */}\n                      <div className=\"space-y-3\">\n                        <h4 className=\"font-medium flex items-center gap-2\">\n                          Students in this Group\n                        </h4>\n                        {(() => {\n                          const studentsInBatch = enrollments.filter((e) => e.batchId === batch.id)\n                          return studentsInBatch.length === 0 ? (\n                            <p className=\"text-sm text-muted-foreground\">\n                              No students assigned to this group yet.\n                            </p>\n                          ) : (\n                            <div className=\"rounded-lg border divide-y\">\n                              {studentsInBatch.map((e) => (\n                                <div key={e.id} className=\"p-3 flex items-center justify-between\">\n                                  <div>\n                                    <p className=\"font-medium text-sm\">{e.studentName}</p>\n                                    <p className=\"text-xs text-muted-foreground\">{e.studentEmail}</p>\n                                  </div>\n                                  <span className=\"text-xs text-muted-foreground\">\n                                    {e.lessonsCompleted} lessons completed\n                                  </span>\n                                </div>\n                              ))}\n                            </div>\n                          )\n                        })()}\n                      </div>\n                    </div>\n                  </TabsContent>\n                ))}\n              </Tabs>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Curriculum & Materials Modal - 90% width/height */}\n      <Dialog open={curriculumModalOpen} onOpenChange={setCurriculumModalOpen}>\n        <DialogContent className=\"max-w-[90vw] w-[90vw] h-[90vh] max-h-[90vh] p-0 flex flex-col overflow-hidden\">\n          <DialogHeader className=\"px-6 py-4 border-b shrink-0\">\n            <DialogTitle className=\"flex items-center gap-2\">\n              <BookOpen className=\"h-5 w-5\" />\n              Curriculum & Materials\n            </DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"flex-1 overflow-auto p-6\">\n            {loadingCourse ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n              </div>\n            ) : !course ? (\n              <p className=\"text-muted-foreground\">Failed to load course data.</p>\n            ) : (\n              <div className=\"max-w-4xl mx-auto space-y-6\">\n                {/* Course Name */}\n                <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                  <Label className=\"text-sm font-medium\">Course Name</Label>\n                  <Input\n                    value={course.name}\n                    readOnly\n                    className=\"bg-white\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Course name is set based on the selected subject curriculum.\n                  </p>\n                </div>\n\n                {/* Description */}\n                <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                  <Label className=\"text-sm font-medium\">Description</Label>\n                  <Textarea\n                    value={course.description ?? ''}\n                    readOnly\n                    rows={3}\n                    className=\"bg-white resize-none\"\n                  />\n                </div>\n\n                {/* Content Source */}\n                <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                  <Label className=\"text-sm font-medium\">Content Source</Label>\n                  <div className=\"flex flex-col sm:flex-row gap-3\">\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\n                      <input\n                        type=\"radio\"\n                        name=\"curriculumSource\"\n                        checked={curriculumSource === 'PLATFORM'}\n                        onChange={() => setCurriculumSource('PLATFORM')}\n                        className=\"rounded-full\"\n                      />\n                      <span>Platform-provided curriculum and materials</span>\n                    </label>\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\n                      <input\n                        type=\"radio\"\n                        name=\"curriculumSource\"\n                        checked={curriculumSource === 'UPLOADED'}\n                        onChange={() => setCurriculumSource('UPLOADED')}\n                        className=\"rounded-full\"\n                      />\n                      <span>Upload my own materials</span>\n                    </label>\n                  </div>\n                </div>\n\n                {curriculumSource === 'PLATFORM' && (\n                  <div className=\"rounded-lg border bg-muted/30 p-4 space-y-3\">\n                    <h4 className=\"font-medium flex items-center gap-2\">\n                      <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                      Course content for your review\n                    </h4>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Below is the platform curriculum. Each topic is sized for a typical lesson. You can edit modules and lessons in the course content page.\n                    </p>\n                    <div className=\"space-y-3 max-h-[320px] overflow-y-auto\">\n                      {course.modules?.map((mod) => (\n                        <div key={mod.id} className=\"border rounded p-3 bg-background\">\n                          <p className=\"font-medium\">{mod.title}</p>\n                          {mod.description && <p className=\"text-sm text-muted-foreground\">{mod.description}</p>}\n                          <ul className=\"mt-2 space-y-1 text-sm\">\n                            {(mod.lessons ?? []).map((les) => (\n                              <li key={les.id} className=\"flex items-center gap-2\">\n                                <span className=\"text-muted-foreground\">{les.duration ?? 30} min</span>\n                                <span>{les.title}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      ))}\n                    </div>\n                    <Button variant=\"outline\" size=\"sm\" asChild>\n                      <Link href={`/curriculum/${courseId}`}>Edit course content</Link>\n                    </Button>\n                  </div>\n                )}\n\n                {curriculumSource === 'UPLOADED' && (\n                  <>\n                    <div className=\"space-y-2 pl-4 border-l-2 border-muted\">\n                      <Label>Who creates the outline?</Label>\n                      <div className=\"flex flex-col gap-2\">\n                        <label className=\"flex items-center gap-2 cursor-pointer\">\n                          <input\n                            type=\"radio\"\n                            name=\"outlineSource\"\n                            checked={outlineSource === 'SELF'}\n                            onChange={() => setOutlineSource('SELF')}\n                            className=\"rounded-full\"\n                          />\n                          <span>I create the outline myself</span>\n                        </label>\n                        <label className=\"flex items-center gap-2 cursor-pointer\">\n                          <input\n                            type=\"radio\"\n                            name=\"outlineSource\"\n                            checked={outlineSource === 'AI'}\n                            onChange={() => setOutlineSource('AI')}\n                            className=\"rounded-full\"\n                          />\n                          <Sparkles className=\"h-4 w-4 text-amber-500\" />\n                          <span>AI generates outline from my materials</span>\n                        </label>\n                      </div>\n                    </div>\n\n                    {outlineSource === 'SELF' && (\n                      <div className=\"space-y-6\">\n                        <p className=\"text-sm text-muted-foreground\">\n                          <strong>When to upload what:</strong> First upload your curriculum (syllabus or outline). Then optionally upload notes. If you upload a list of topics, AI will put it in the \"Edit Topics\" area.\n                        </p>\n\n                        {/* Step 1: Upload curriculum */}\n                        <div className=\"rounded-lg border p-4 space-y-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium\">1</span>\n                            <Label className=\"text-base\">Upload curriculum</Label>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">Paste or upload your curriculum/syllabus. Supports .txt, .md, .pdf, .doc/.docx, and images.</p>\n                          <div className=\"flex flex-wrap items-center gap-2\">\n                            <Input\n                              type=\"file\"\n                              accept=\".txt,.md,.pdf,.doc,.docx,image/*\"\n                              className=\"max-w-[200px]\"\n                              onChange={(e) => handleFileRead('curriculum', e)}\n                              disabled={fileExtracting}\n                            />\n                            {fileExtracting && <span className=\"text-sm text-muted-foreground\">Sending to AI</span>}\n                            {uploadText.curriculum && !fileExtracting && <span className=\"text-sm text-green-600\">Curriculum loaded</span>}\n                          </div>\n                        </div>\n\n                        {/* Step 2: Upload notes */}\n                        <div className=\"rounded-lg border p-4 space-y-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium\">2</span>\n                            <Label className=\"text-base\">Upload notes (optional)</Label>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">Paste or upload teaching notes. Supports .txt, .md, .pdf, .doc/.docx, and images.</p>\n                          <div className=\"flex flex-wrap items-center gap-2\">\n                            <Input\n                              type=\"file\"\n                              accept=\".txt,.md,.pdf,.doc,.docx,image/*\"\n                              className=\"max-w-[200px]\"\n                              onChange={(e) => handleFileRead('notes', e)}\n                              disabled={fileExtracting}\n                            />\n                            {fileExtracting && <span className=\"text-sm text-muted-foreground\">Sending</span>}\n                            {uploadText.notes && !fileExtracting && <span className=\"text-sm text-green-600\">Notes loaded</span>}\n                          </div>\n                        </div>\n\n                        {/* Step 3: List of topics */}\n                        <div className=\"rounded-lg border p-4 space-y-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium\">3</span>\n                            <ListOrdered className=\"h-5 w-5\" />\n                            <Label className=\"text-base\">List of topics (optional)</Label>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground\">If you have a list of topics (bullets or short lines), paste or upload it.</p>\n                          <div className=\"flex flex-wrap items-center gap-2\">\n                            <Input\n                              type=\"file\"\n                              accept=\".txt,.md,.pdf,.doc,.docx,image/*\"\n                              className=\"max-w-[200px]\"\n                              onChange={(e) => handleFileRead('topics', e)}\n                              disabled={fileExtracting}\n                            />\n                            {fileExtracting && <span className=\"text-sm text-muted-foreground\">Sending</span>}\n                            {uploadText.topics && !fileExtracting && <span className=\"text-sm text-green-600\">Topics loaded</span>}\n                          </div>\n                        </div>\n\n                        {/* Step 4: Generate outline */}\n                        <div className=\"rounded-lg border p-4 space-y-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium\">4</span>\n                            <FileTextIcon className=\"h-5 w-5\" />\n                            <Label className=\"text-base\">Course outline</Label>\n                          </div>\n                          <div className=\"flex flex-wrap items-center gap-2\">\n                            <Label className=\"text-xs\">Typical lesson length (min):</Label>\n                            <Input\n                              type=\"number\"\n                              min={15}\n                              max={120}\n                              value={typicalLessonMinutes}\n                              onChange={(e) => setTypicalLessonMinutes(parseInt(e.target.value, 10) || 45)}\n                              className=\"w-20\"\n                            />\n                          </div>\n                          <Button\n                            onClick={handleGenerateOutline}\n                            disabled={generatingOutline}\n                          >\n                            {generatingOutline ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : null}\n                            {generatingOutline ? 'Generating' : 'Generate course outline'}\n                          </Button>\n                          {outline.length > 0 && (\n                            <div className=\"mt-3 space-y-2\">\n                              <Label className=\"text-xs\">Generated outline</Label>\n                              <ul className=\"list-disc list-inside text-sm space-y-1\">\n                                {outline.map((item, i) => (\n                                  <li key={i}>{item.title}  {item.durationMinutes} min</li>\n                                ))}\n                              </ul>\n                            </div>\n                          )}\n                        </div>\n\n                        <Button\n                          variant=\"secondary\"\n                          onClick={handleSaveMaterials}\n                          disabled={savingMaterials}\n                        >\n                          {savingMaterials ? <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" /> : null}\n                          Save materials & outline\n                        </Button>\n                      </div>\n                    )}\n\n                    {outlineSource === 'AI' && (\n                      <p className=\"text-sm text-muted-foreground\">\n                        Upload your materials above (curriculum and optionally notes). Then use \"Generate course outline\" to let AI create the outline from your content.\n                      </p>\n                    )}\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n\n// Course Assignment Section Component\ninterface CourseAssignmentSectionProps {\n  batch: BatchItem\n  courseId: string\n}\n\nfunction CourseAssignmentSection({ batch, courseId }: CourseAssignmentSectionProps) {\n  const { courses } = useTutorCourses()\n  const [assignModalOpen, setAssignModalOpen] = useState(false)\n  const [assignedCourses, setAssignedCourses] = useState<CourseGroupAssignment[]>(\n    batch.assignedCourses || []\n  )\n\n  const handleAssign = async (courseId: string, batchId: string) => {\n    // In real implementation, call API\n    const newAssignment: CourseGroupAssignment = {\n      id: `assignment-${Date.now()}`,\n      courseId,\n      batchId,\n      assignedAt: new Date().toISOString(),\n      assignedBy: 'current-user',\n      groupDifficulty: batch.difficulty || 'beginner',\n      resolutionStrategy: 'adaptive',\n      status: 'active',\n      enrollmentCount: 0,\n      completionCount: 0,\n      courseSnapshot: {\n        title: courses.find(c => c.id === courseId)?.name || 'Course',\n        description: courses.find(c => c.id === courseId)?.description || '',\n        moduleCount: courses.find(c => c.id === courseId)?.stats.moduleCount || 0,\n        lessonCount: courses.find(c => c.id === courseId)?.stats.lessonCount || 0\n      }\n    }\n    \n    setAssignedCourses(prev => [...prev, newAssignment])\n    toast.success('Course assigned successfully!')\n  }\n\n  const handleUnassign = (assignmentId: string) => {\n    setAssignedCourses(prev => prev.filter(a => a.id !== assignmentId))\n    toast.success('Course unassigned')\n  }\n\n  const availableCourses = courses.filter(c => \n    !assignedCourses.some(a => a.courseId === c.id)\n  )\n\n  const DIFFICULTY_COLORS = {\n    beginner: 'bg-green-100 text-green-700 border-green-200',\n    intermediate: 'bg-blue-100 text-blue-700 border-blue-200',\n    advanced: 'bg-purple-100 text-purple-700 border-purple-200'\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Assigned Courses */}\n      <div className=\"bg-purple-50 rounded-lg p-4 space-y-3 border border-purple-200\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-sm font-medium flex items-center gap-2\">\n            <BookOpen className=\"h-4 w-4 text-purple-500\" />\n            Assigned Courses\n          </Label>\n          <Button size=\"sm\" onClick={() => setAssignModalOpen(true)} className=\"gap-1\">\n            <Plus className=\"h-3 w-3\" />\n            Assign Course\n          </Button>\n        </div>\n\n        {assignedCourses.length === 0 ? (\n          <p className=\"text-sm text-muted-foreground\">\n            No courses assigned to this group yet. Assign a course to get started.\n          </p>\n        ) : (\n          <div className=\"space-y-2\">\n            {assignedCourses.map(assignment => (\n              <div \n                key={assignment.id} \n                className=\"flex items-center justify-between p-3 bg-white rounded-lg border\"\n              >\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2\">\n                    <p className=\"font-medium truncate\">{assignment.courseSnapshot.title}</p>\n                    <Badge className={cn(\n                      'text-[10px]',\n                      DIFFICULTY_COLORS[assignment.groupDifficulty]\n                    )}>\n                      {assignment.resolutionStrategy === 'adaptive' ? ' Adaptive' : ' Fixed'}\n                    </Badge>\n                  </div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Assigned {new Date(assignment.assignedAt).toLocaleDateString()}\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant={assignment.status === 'active' ? 'default' : 'secondary'} className=\"text-xs\">\n                    {assignment.status}\n                  </Badge>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"sm\" \n                    className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                    onClick={() => handleUnassign(assignment.id)}\n                  >\n                    Unassign\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Available Courses */}\n      {availableCourses.length > 0 && (\n        <div className=\"bg-gray-50 rounded-lg p-4 space-y-3 border border-gray-200\">\n          <Label className=\"text-sm font-medium\">Available Courses</Label>\n          <div className=\"space-y-2\">\n            {availableCourses.slice(0, 3).map(course => (\n              <div \n                key={course.id} \n                className=\"flex items-center justify-between p-3 bg-white rounded-lg border\"\n              >\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"font-medium truncate\">{course.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Will adapt to {batch.difficulty} level\n                  </p>\n                </div>\n                <Button \n                  size=\"sm\" \n                  variant=\"outline\"\n                  onClick={() => handleAssign(course.id, batch.id)}\n                >\n                  Assign\n                </Button>\n              </div>\n            ))}\n            {availableCourses.length > 3 && (\n              <Button \n                variant=\"ghost\" \n                size=\"sm\" \n                className=\"w-full\"\n                onClick={() => setAssignModalOpen(true)}\n              >\n                View {availableCourses.length - 3} more courses\n              </Button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Difficulty Note */}\n      <Alert className=\"bg-blue-50 border-blue-200\">\n        <BarChart3 className=\"h-4 w-4 text-blue-600\" />\n        <AlertDescription className=\"text-blue-700 text-sm\">\n          This group is set to <strong>{DIFFICULTY_LABELS[batch.difficulty]}</strong> level. \n          Assigned courses will automatically adapt their content to match this difficulty level.\n        </AlertDescription>\n      </Alert>\n\n      {/* Assign Course Modal */}\n      <AssignCourseModal\n        isOpen={assignModalOpen}\n        onClose={() => setAssignModalOpen(false)}\n        onAssign={handleAssign}\n        courses={availableCourses}\n        batches={[batch]}\n        preselectedBatchId={batch.id}\n      />\n    </div>\n  )\n}\n\nconst DIFFICULTY_LABELS = {\n  beginner: 'Beginner',\n  intermediate: 'Intermediate',\n  advanced: 'Advanced'\n}\n"],"names":[],"mappings":";;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AACA;AACA;AAMA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AAEA;AAjEA;;;;CAIC,GAED;;;;;;;;;;;;;;;;;;;;;AAmEA,MAAM,kBAAoC;IACxC;QAAE,IAAI;QAAc,OAAO;QAAc,MAAM,4QAAQ;IAAC;IACxD;QAAE,IAAI;QAAW,OAAO;QAAW,MAAM,kQAAM;IAAC;IAChD;QAAE,IAAI;QAAW,OAAO;QAAW,MAAM,4QAAQ;IAAC;IAClD;QAAE,IAAI;QAAa,OAAO;QAAa,MAAM,wQAAQ;IAAC;IACtD;QAAE,IAAI;QAAY,OAAO;QAAY,MAAM,wQAAQ;IAAC;CACrD;AAmCD,MAAM,OAAO;IAAC;IAAU;IAAW;IAAa;IAAY;IAAU;IAAY;CAAS;AAC3F,MAAM,oBAAoB;IACxB;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAgB,OAAO;IAAe;IAC/C;QAAE,OAAO;QAAY,OAAO;IAAW;CACxC;AAED,MAAM,uBAAuB;IAC3B;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAS,OAAO;IAAuB;IAChD;QAAE,OAAO;QAAS,OAAO;IAAwB;IACjD;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAQ;CAC/B;AAED,MAAM,aAAa;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM;AAEvG,MAAM,YAAY;IAChB;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAS,OAAO;IAAuB;IAChD;QAAE,OAAO;QAAS,OAAO;IAAwB;IACjD;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAa;IACnC;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAW;IACjC;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAa;IACnC;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAO;IAC7B;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAa;IACnC;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAO;IAC7B;QAAE,OAAO;QAAM,OAAO;IAAkB;IACxC;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAY;IAClC;QAAE,OAAO;QAAM,OAAO;IAAW;IACjC;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAY;IAClC;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAY;IAClC;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAU;CACjC;AAEc,SAAS,oBAAoB,EAC1C,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,iMAAS;IACxB,MAAM,SAAS,IAAA,iMAAS;IACxB,MAAM,WAAW,IAAA,mMAAW;IAC5B,MAAM,WAAW,AAAC,QAAQ,MAAiB;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,mQAAQ,EAAC;IACrD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mQAAQ,EAAC;IAEnD,iCAAiC;IACjC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mQAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mQAAQ,EAAc,EAAE;IACtD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mQAAQ,EAAmB,EAAE;IACnE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,mQAAQ,EAAC;IACrD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mQAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mQAAQ,EAAC;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mQAAQ,EAAgB;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mQAAQ,EAAS;IAEnD,qCAAqC;IACrC,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,mQAAQ,EAAC;IAC/D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mQAAQ,EAS1B;IACV,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mQAAQ,EAAC;IACnD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,mQAAQ,EAAC;IAC7D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,mQAAQ,EAA0B;IAClF,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mQAAQ,EAAgB;IAClE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,mQAAQ,EAAiC,EAAE;IAC7F,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,mQAAQ,EAAC;IACrD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,mQAAQ,EAAC;QAAE,YAAY;QAAI,OAAO;QAAI,QAAQ;IAAG;IACrF,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,mQAAQ,EAAC;IACrD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,mQAAQ,EAAC;IAC7D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mQAAQ,EAAC;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mQAAQ,EAA+C,EAAE;IACvF,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,mQAAQ,EAAC;IACjE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,mQAAQ,EAAC;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mQAAQ,EAAC;IAEvD,mDAAmD;IACnD,MAAM,mBAAmB;QACvB,IAAI,SAAS,QAAQ,CAAC,aAAa,OAAO;QAC1C,OAAO;IACT;IAEA,MAAM,iBAAiB;IAEvB,MAAM,cAAc,IAAA,sQAAW,EAAC;QAC9B,IAAI,CAAC,UAAU;QACf,kBAAkB;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,QAAQ,CAAC,EAAE;gBAAE,aAAa;YAAU;YAC3F,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,gBAAgB,KAAK,OAAO,IAAI,EAAE;gBACxC,WAAW;gBACX,IAAI,cAAc,MAAM,GAAG,KAAK,CAAC,WAAW;oBAC1C,aAAa,aAAa,CAAC,EAAE,CAAC,EAAE;gBAClC;YACF;QACF,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,kBAAkB;QACpB;IACF,GAAG;QAAC;QAAU;KAAU;IAExB,MAAM,kBAAkB,IAAA,sQAAW,EAAC;QAClC,IAAI,CAAC,UAAU;QACf,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,YAAY,CAAC,EAAE;gBAAE,aAAa;YAAU;YAC/F,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,eAAe,KAAK,WAAW,IAAI,EAAE;YACvC;QACF,EAAE,OAAM,CAAe;IACzB,GAAG;QAAC;KAAS;IAEb,IAAA,oQAAS,EAAC;QACR,IAAI,iBAAiB;YACnB;YACA;QACF;IACF,GAAG;QAAC;QAAiB;QAAa;KAAgB;IAElD,wCAAwC;IACxC,MAAM,aAAa,IAAA,sQAAW,EAAC;QAC7B,IAAI,CAAC,UAAU;QACf,iBAAiB;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,UAAU,EAAE;gBAAE,aAAa;YAAU;YACnF,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,UAAU,KAAK,MAAM;gBACrB,oBAAoB,AAAC,KAAK,MAAM,EAAE,oBAAgD;gBAClF,iBAAiB,AAAC,KAAK,MAAM,EAAE,iBAAmC;gBAElE,sCAAsC;gBACtC,IAAI,KAAK,MAAM,EAAE,SAAS;oBACxB,kBAAkB;oBAClB,MAAM,CAAC,iCAAiC,EAAE,mBAAmB,KAAK,MAAM,CAAC,OAAO,GAAG,EAAE;wBAAE,aAAa;oBAAU,GAC3G,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC,OAAS,qBAAqB,KAAK,WAAW,IAAI,EAAE,GAC1D,KAAK,CAAC,IAAM,qBAAqB,EAAE,GACnC,OAAO,CAAC,IAAM,kBAAkB;gBACrC;YACF;QACF,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,iBAAiB;QACnB;IACF,GAAG;QAAC;KAAS;IAEb,IAAA,oQAAS,EAAC;QACR,IAAI,qBAAqB;YACvB;QACF;IACF,GAAG;QAAC;QAAqB;KAAW;IAEpC,MAAM,UAAU;QACd,MAAM,MAAM,MAAM,MAAM,aAAa;YAAE,aAAa;QAAU;QAC9D,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC7C,OAAO,MAAM,SAAS;IACxB;IAEA,kCAAkC;IAClC,MAAM,iBAAiB,OAAO,MAAyC;QACrE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QACX,EAAE,MAAM,CAAC,KAAK,GAAG;QACjB,MAAM,cAAc,wBAAwB,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,IAAI,CAAC,UAAU,CAAC;QACpF,IAAI,CAAC,aAAa,kBAAkB;QACpC,IAAI;YACF,MAAM,EAAE,mBAAmB,EAAE,GAAG;YAChC,MAAM,IAAI,MAAM,oBAAoB;YACpC,IAAI,SAAS,cAAc,cAAc,CAAC,IAAM,CAAC;oBAAE,GAAG,CAAC;oBAAE,YAAY;gBAAE,CAAC;iBACnE,IAAI,SAAS,SAAS,cAAc,CAAC,IAAM,CAAC;oBAAE,GAAG,CAAC;oBAAE,OAAO;gBAAE,CAAC;iBAC9D,cAAc,CAAC,IAAM,CAAC;oBAAE,GAAG,CAAC;oBAAE,QAAQ;gBAAE,CAAC;YAC9C,mMAAK,CAAC,IAAI,CAAC,IAAI,wDAAwD;QACzE,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,MAAM,wBAAwB;QAC5B,MAAM,aAAa,WAAW,UAAU,CAAC,IAAI,MAAM,WAAW,KAAK,CAAC,IAAI,MAAM,WAAW,MAAM,CAAC,IAAI,MAAM,mBAAmB,IAAI;QACjI,IAAI,CAAC,YAAY;YACf,mMAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,qBAAqB;QACrB,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,kBAAkB,CAAC,EAAE;gBAC1E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,gBAAgB,WAAW,UAAU,CAAC,IAAI,MAAM,sBAAsB;oBACtE,WAAW,WAAW,KAAK,CAAC,IAAI,MAAM,iBAAiB;gBACzD;YACF;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,IAAI,EAAE,EAAE;gBACV,WAAW,KAAK,OAAO,IAAI,EAAE;gBAC7B,mMAAK,CAAC,OAAO,CAAC,KAAK,OAAO,IAAI;YAChC,OAAO,mMAAK,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;QACnC,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,qBAAqB;QACvB;IACF;IAEA,MAAM,sBAAsB;QAC1B,mBAAmB;QACnB,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,UAAU,CAAC,EAAE;gBAClE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBACnB,oBAAoB,sBAAsB;oBAC1C,eAAe,iBAAiB;oBAChC,SAAS,QAAQ,MAAM,GAAG,UAAU;gBACtC;YACF;YACA,IAAI,IAAI,EAAE,EAAE;gBACV,mMAAK,CAAC,OAAO,CAAC;gBACd;YACF,OAAO,mMAAK,CAAC,KAAK,CAAC;QACrB,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,mBAAmB;QACrB;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI,CAAC,aAAa,IAAI,IAAI;QAC1B,iBAAiB;QACjB,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,QAAQ,CAAC,EAAE;gBAChE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE,MAAM,aAAa,IAAI;gBAAG;YACnD;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,WAAsB;oBAC1B,GAAG,KAAK,KAAK;oBACb,YAAY;oBACZ,UAAU,EAAE;oBACZ,iBAAiB;oBACjB,iBAAiB,EAAE;oBACnB,aAAa;oBACb,QAAQ;gBACV;gBACA,WAAW,CAAC,OAAS;2BAAI;wBAAM;qBAAS;gBACxC,gBAAgB;gBAChB,aAAa,SAAS,EAAE;gBAExB,+CAA+C;gBAC/C,MAAM,eAAe,aAAa,OAAO,CAAC;gBAC1C,MAAM,iBAA8B,eAAe,KAAK,KAAK,CAAC,gBAAgB,EAAE;gBAChF,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;oBAAC;uBAAa;iBAAe;gBAEjF,mMAAK,CAAC,OAAO,CAAC,KAAK,OAAO,IAAI;YAChC,OAAO,mMAAK,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;QACnC,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,8BAA8B,OAAO,SAAiB;QAC1D,WAAW,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE;gBAAW,IAAI;QAChF,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,SAAS,EAAE,SAAS,EAAE;gBAC3E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAW;YACpC;YACA,IAAI,IAAI,EAAE,EAAE,mMAAK,CAAC,OAAO,CAAC;iBACrB;gBACH,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,mMAAK,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;YAC5B;QACF,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,4BAA4B,OAAO,SAAiB;QACxD,WAAW,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE;gBAAsB,IAAI;QAC3F,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,SAAS,EAAE,SAAS,EAAE;gBAC3E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAsB;YAC/C;YACA,IAAI,IAAI,EAAE,EAAE,mMAAK,CAAC,OAAO,CAAC;iBACrB;gBACH,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,mMAAK,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;YAC5B;QACF,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,yBAAyB,OAAO,SAAiB,OAAsB;QAC3E,WAAW,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE;oBAAO;gBAAS,IAAI;QACrF,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,SAAS,EAAE,SAAS,EAAE;gBAC3E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YACA,IAAI,IAAI,EAAE,EAAE,mMAAK,CAAC,OAAO,CAAC;iBACrB;gBACH,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,mMAAK,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;YAC5B;QACF,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,4BAA4B,OAAO,SAAiB;QACxD,WAAW,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE;gBAAS,IAAI;QAC9E,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,SAAS,EAAE,SAAS,EAAE;gBAC3E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAS;YAClC;YACA,IAAI,IAAI,EAAE,EAAE,mMAAK,CAAC,OAAO,CAAC;iBACrB,mMAAK,CAAC,KAAK,CAAC;QACnB,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,wBAAwB,OAAO,SAAiB;QACpD,WAAW,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE;gBAAO,IAAI;QAC5E,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,SAAS,SAAS,EAAE,SAAS,EAAE;gBAC3E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAO;YAChC;YACA,IAAI,IAAI,EAAE,EAAE;gBACV,mMAAK,CAAC,OAAO,CAAC,SAAS,wBAAwB;YACjD,OAAO;gBACL,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,mMAAK,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;YAC5B;QACF,EAAE,OAAM;YACN,mMAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,mCAAmC;QACnC,mMAAK,CAAC,IAAI,CAAC;QACX,QAAQ,IAAI,CAAC,8BAA8B;IAC7C;IAEA,MAAM,wBAAwB;QAC5B,IAAI,CAAC,UAAU;QACf,sBAAsB;QACtB,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,MAAM,YAAY,MAAM,MAAM,CAAC,mBAAmB,EAAE,UAAU,EAAE;gBAAE,aAAa;YAAU;YACzF,IAAI,CAAC,UAAU,EAAE,EAAE,MAAM,IAAI,MAAM;YACnC,MAAM,aAAa,MAAM,UAAU,IAAI;YACvC,MAAM,SAAS,YAAY;YAC3B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;YAE7B,MAAM,6BAA6B,MAAM,OAAO,CAAC,OAAO,QAAQ,KAAK,OAAO,QAAQ,CAAC,MAAM,GAAG,IAC1F,OAAO,OAAO,QAAQ,CAAC,EAAE,EAAE,oBAAoB,KAC/C;YAEJ,MAAM,wBAAwB,OAAO,OAAO,WAAW,IAAI,IAAI,IAAI;YACnE,MAAM,uBAAuB,OAAO,OAAO,UAAU,IAAI,IAAI,IAAI;YACjE,MAAM,UAAmC;gBACvC,OAAO,OAAO,OAAO,IAAI,IAAI;gBAC7B,SAAS,OAAO,OAAO,OAAO,IAAI;gBAClC,cAAc;gBACd,aAAa;gBACb,iBAAiB,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,KAAK;gBAC5C,iBAAiB;YACnB;YACA,IAAI,uBAAuB,QAAQ,WAAW,GAAG;YACjD,IAAI,sBAAsB,QAAQ,UAAU,GAAG;YAE/C,MAAM,YAAY,MAAM,MAAM,oBAAoB;gBAChD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,GAAI,QAAQ;wBAAE,gBAAgB;oBAAK,CAAC;gBAAE;gBACrF,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,UAAU,EAAE,EAAE;gBACjB,MAAM,OAAO,MAAM,UAAU,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACnD,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YACA,MAAM,eAAe,MAAM,UAAU,IAAI;YACzC,MAAM,YAAY,cAAc,SAAS;YACzC,IAAI,CAAC,WAAW,MAAM,IAAI,MAAM;YAEhC,mMAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC,CAAC,kBAAkB,EAAE,WAAW;QAC9C,EAAE,OAAO,OAAO;YACd,mMAAK,CAAC,KAAK,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACvD,SAAU;YACR,sBAAsB;QACxB;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,WAAW,CAAC,OACV,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,UACL;oBAAE,GAAG,CAAC;oBAAE,UAAU;2BAAI,EAAE,QAAQ;wBAAE;4BAAE,WAAW,IAAI,CAAC,EAAE;4BAAE,WAAW;4BAAS,iBAAiB;wBAAG;qBAAE;gBAAC,IACnG;IAGV;IAEA,MAAM,qBAAqB,CAAC,SAAiB,OAAe,OAA2B;QACrF,WAAW,CAAC,OACV,KAAK,GAAG,CAAC,CAAC;gBACR,IAAI,EAAE,EAAE,KAAK,SAAS,OAAO;gBAC7B,MAAM,OAAO;uBAAI,EAAE,QAAQ;iBAAC;gBAC5B,IAAI,CAAC,MAAM,GAAG;oBAAE,GAAG,IAAI,CAAC,MAAM;oBAAE,CAAC,MAAM,EAAE;gBAAM;gBAC/C,OAAO;oBAAE,GAAG,CAAC;oBAAE,UAAU;gBAAK;YAChC;IAEJ;IAEA,MAAM,qBAAqB,CAAC,SAAiB;QAC3C,WAAW,CAAC,OACV,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;gBAAO,IAAI;IAGxF;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,MAAM,sCAAgC,0BAAsE;QAClH;;IAGF;IAEA,qBACE,gSAAC;QAAI,WAAU;;0BAEb,gSAAC;gBAAM,WAAU;;kCAEf,gSAAC;wBAAI,WAAU;kCACb,cAAA,gSAAC;4BAAI,WAAU;;8CACb,gSAAC,8LAAM;oCACL,SAAQ;oCACR,WAAU;oCACV,OAAO;8CAEP,cAAA,gSAAC,yNAAI;wCAAC,MAAK;;0DACT,gSAAC,qRAAW;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;8CAIvC,gSAAC,8LAAM;oCACL,WAAU;oCACV,SAAS;oCACT,UAAU;;wCAET,mCAAqB,gSAAC,8QAAO;4CAAC,WAAU;;;;;iEAA4B,gSAAC,+PAAK;4CAAC,WAAU;;;;;;wCACrF,qBAAqB,wBAAwB;;;;;;;;;;;;;;;;;;kCAMpD,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;gCAAI,WAAU;;kDACb,gSAAC;wCAAE,WAAU;kDAA+D;;;;;;oCAG3E,wBAAU,gSAAC,oNAAkB;wCAAC,aAAa,OAAO,WAAW;;;;;;;;;;;;0CAEhE,gSAAC;gCAAG,WAAU;gCAAqC,OAAO,QAAQ,QAAQ,CAAC,OAAO,EAAE,SAAS,KAAK,CAAC,GAAG,IAAI;0CACvG,QAAQ,QAAQ,CAAC,OAAO,EAAE,SAAS,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;;;;;;0CAEtD,gSAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAO5C,gSAAC;wBAAI,WAAU;kCACZ,gBAAgB,GAAG,CAAC,CAAC;4BACpB,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,mBAAmB,KAAK,EAAE;4BAC3C,MAAM,cAAc;gCAClB,IAAI,KAAK,EAAE,KAAK,cAAc;oCAC5B,uBAAuB;gCACzB,OAAO;oCACL,iBAAiB,KAAK,EAAE;gCAC1B;4BACF;4BACA,qBACE,gSAAC;gCAEC,SAAS;gCACT,WAAW,IAAA,2KAAE,EACX,qFACA,WACI,yCACA;;kDAGN,gSAAC;wCAAK,WAAU;;;;;;kDAChB,gSAAC;wCAAK,WAAU;kDAAuB,KAAK,KAAK;;;;;;;+BAV5C,KAAK,EAAE;;;;;wBAalB;;;;;;kCAIF,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;gCAAE,WAAU;0CAAyE;;;;;;0CAGtF,gSAAC;gCAAI,WAAU;;kDACb,gSAAC,8LAAM;wCACL,SAAQ;wCACR,WAAU;wCACV,OAAO;kDAEP,cAAA,gSAAC,yNAAI;4CAAC,MAAM,CAAC,eAAe,EAAE,UAAU;;8DACtC,gSAAC,yPAAG;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;kDAI/B,gSAAC,8LAAM;wCACL,SAAQ;wCACR,WAAU;wCACV,OAAO;kDAEP,cAAA,gSAAC,yNAAI;4CAAC,MAAK;;8DACT,gSAAC,+PAAK;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;kDAIjC,gSAAC,8LAAM;wCACL,SAAQ;wCACR,WAAU;;0DAEV,gSAAC,4PAAI;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;;;;;;;;;;;;0BAQpC,gSAAC;gBAAI,WAAU;0BACb,cAAA,gSAAC;oBAAI,WAAU;;sCACb,gSAAC;4BAAI,WAAU;;8CACb,gSAAC,8LAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS,IAAM,kBAAkB,CAAC;8CAEjC,+BAAiB,gSAAC,mPAAC;wCAAC,WAAU;;;;;6DAAe,gSAAC,4PAAI;wCAAC,WAAU;;;;;;;;;;;8CAEhE,gSAAC,yNAAI;oCAAC,MAAK;oCAAmB,WAAU;;sDACtC,gSAAC,+QAAS;4CAAC,WAAU;;;;;;sDACrB,gSAAC;4CAAK,WAAU;sDAA8B;;;;;;;;;;;;;;;;;;sCAGlD,gSAAC;4BAAI,WAAU;;8CACb,gSAAC,8LAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS;oCACT,UAAU;oCACV,OAAM;8CAEL,mCAAqB,gSAAC,8QAAO;wCAAC,WAAU;;;;;6DAA4B,gSAAC,+PAAK;wCAAC,WAAU;;;;;;;;;;;8CAExF,gSAAC,8LAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,OAAO;8CACzC,cAAA,gSAAC,yNAAI;wCAAC,MAAK;kDACT,cAAA,gSAAC,+PAAK;4CAAC,WAAU;;;;;;;;;;;;;;;;8CAGrB,gSAAC,8LAAM;oCAAC,SAAQ;oCAAQ,MAAK;8CAC3B,cAAA,gSAAC,4PAAI;wCAAC,WAAU;;;;;;;;;;;8CAElB,gSAAC,8LAAO;;;;;;;;;;;;;;;;;;;;;;YAMb,gCACC,gSAAC;gBAAI,WAAU;;kCAEb,gSAAC;wBAAI,WAAU;kCACb,cAAA,gSAAC,8LAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,OAAO;sCAEP,cAAA,gSAAC,yNAAI;gCAAC,MAAK;gCAAiB,SAAS,IAAM,kBAAkB;;kDAC3D,gSAAC,iSAAe;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;kCAM7C,gSAAC;wBAAE,WAAU;kCAAyE;;;;;;kCAGtF,gSAAC;wBAAI,WAAU;kCACZ,gBAAgB,GAAG,CAAC,CAAC;4BACpB,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,mBAAmB,KAAK,EAAE;4BAC3C,qBACE,gSAAC;gCAEC,SAAS;oCACP,iBAAiB,KAAK,EAAE;oCACxB,kBAAkB;gCACpB;gCACA,WAAW,IAAA,2KAAE,EACX,mFACA,WACI,yCACA;;kDAGN,gSAAC;wCAAK,WAAU;;;;;;kDAChB,gSAAC;wCAAK,WAAU;kDAAe,KAAK,KAAK;;;;;;;+BAbpC,KAAK,EAAE;;;;;wBAgBlB;;;;;;kCAIF,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;gCAAE,WAAU;0CAAyE;;;;;;0CAGtF,gSAAC,8LAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS;oCACP,kBAAkB;oCAClB,MAAM;gCACR;gCACA,UAAU;;oCAET,mCAAqB,gSAAC,8QAAO;wCAAC,WAAU;;;;;6DAA4B,gSAAC,+PAAK;wCAAC,WAAU;;;;;;oCACrF,qBAAqB,wBAAwB;;;;;;;0CAEhD,gSAAC,8LAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,OAAO;0CAEP,cAAA,gSAAC,yNAAI;oCAAC,MAAM,CAAC,eAAe,EAAE,UAAU;oCAAE,SAAS,IAAM,kBAAkB;;sDACzE,gSAAC,yPAAG;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;0CAI/B,gSAAC,8LAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,OAAO;0CAEP,cAAA,gSAAC,yNAAI;oCAAC,MAAK;oCAAuB,SAAS,IAAM,kBAAkB;;sDACjE,gSAAC,+PAAK;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;0BASvC,gSAAC;gBAAK,WAAU;0BACb;;;;;;0BAIH,gSAAC,8LAAM;gBAAC,MAAM;gBAAiB,cAAc;0BAC3C,cAAA,gSAAC,qMAAa;oBAAC,WAAU;;sCACvB,gSAAC,oMAAY;4BAAC,WAAU;sCACtB,cAAA,gSAAC,mMAAW;gCAAC,WAAU;;kDACrB,gSAAC,+PAAK;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;sCAKjC,gSAAC;4BAAI,WAAU;sCACZ,+BACC,gSAAC;gCAAI,WAAU;0CACb,cAAA,gSAAC,8QAAO;oCAAC,WAAU;;;;;;;;;;uCAEnB,QAAQ,MAAM,KAAK,kBACrB,gSAAC;gCAAI,WAAU;;kDACb,gSAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,gSAAC;wCAAI,WAAU;;0DACb,gSAAC,4LAAK;gDACJ,aAAY;gDACZ,OAAO;gDACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gDAC/C,WAAU;;;;;;0DAEZ,gSAAC,8LAAM;gDAAC,SAAS;gDAAmB,UAAU,iBAAiB,CAAC,aAAa,IAAI;0DAC9E,gBAAgB,4BAAc;;sEAAE,gSAAC,4PAAI;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;;;;;;;;qDAKxE,gSAAC,0LAAI;gCAAC,OAAO;gCAAW,eAAe;gCAAc,WAAU;;kDAC7D,gSAAC;wCAAI,WAAU;kDACb,cAAA,gSAAC;4CAAI,WAAU;;8DACb,gSAAC,8LAAQ;oDAAC,WAAU;8DACjB,QAAQ,GAAG,CAAC,CAAC,sBACZ,gSAAC,iMAAW;4DAEV,OAAO,MAAM,EAAE;4DACf,WAAU;;gEAET,MAAM,IAAI;8EACX,gSAAC;oEAAK,WAAU;;wEAAqC;wEACjD,MAAM,eAAe;wEAAC;;;;;;;;2DANrB,MAAM,EAAE;;;;;;;;;;8DAWnB,gSAAC;oDAAI,WAAU;;sEACb,gSAAC,4LAAK;4DACJ,aAAY;4DACZ,OAAO;4DACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4DAC/C,WAAU;;;;;;sEAEZ,gSAAC,8LAAM;4DACL,MAAK;4DACL,SAAS;4DACT,UAAU,iBAAiB,CAAC,aAAa,IAAI;sEAE7C,cAAA,gSAAC,4PAAI;gEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;oCAMvB,QAAQ,GAAG,CAAC,CAAC,sBACZ,gSAAC,iMAAW;4CAEV,OAAO,MAAM,EAAE;4CACf,WAAU;sDAEV,cAAA,gSAAC;gDAAI,WAAU;;kEAEb,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;;kFACC,gSAAC;wEAAG,WAAU;kFAAyB,MAAM,IAAI;;;;;;kFACjD,gSAAC;wEAAE,WAAU;;4EACV,MAAM,eAAe;4EAAC;4EAAS,MAAM,eAAe,KAAK,IAAI,MAAM;4EAAG;;;;;;;;;;;;;0EAG3E,gSAAC;gEAAI,WAAU;;kFAEb,gSAAC,8LAAM;wEACL,SAAS,MAAM,MAAM,GAAG,YAAY;wEACpC,MAAK;wEACL,SAAS,IAAM,sBAAsB,MAAM,EAAE,EAAE,CAAC,MAAM,MAAM;wEAC5D,WAAW,IAAA,2KAAE,EACX,SACA,MAAM,MAAM,IAAI;;0FAGlB,gSAAC,+PAAK;gFAAC,WAAW,IAAA,2KAAE,EAAC,WAAW,MAAM,MAAM,IAAI;;;;;;4EAC/C,MAAM,MAAM,GAAG,WAAW;;;;;;;kFAG7B,gSAAC,8LAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,WAAU;wEACV,SAAS,IAAM,qBAAqB,MAAM,EAAE;;0FAE5C,gSAAC,+PAAK;gFAAC,WAAU;;;;;;4EAAY;;;;;;;kFAG/B,gSAAC,8LAAM;wEAAC,SAAQ;wEAAU,MAAK;wEAAK,SAAS,IAAM,cAAc,MAAM,EAAE;;0FACvE,gSAAC,4PAAI;gFAAC,WAAU;;;;;;4EAAiB;;;;;;;;;;;;;;;;;;;kEAOvC,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEAAC,WAAU;kFAAsB;;;;;;kFACvC,gSAAC,8LAAM;wEACL,OAAO,MAAM,UAAU,IAAI;wEAC3B,eAAe,CAAC,IAAM,4BAA4B,MAAM,EAAE,EAAE;;0FAE5D,gSAAC,qMAAa;gFAAC,WAAU;0FACvB,cAAA,gSAAC,mMAAW;;;;;;;;;;0FAEd,gSAAC,qMAAa;0FACX,kBAAkB,GAAG,CAAC,CAAC,kBACtB,gSAAC,kMAAU;wFAAe,OAAO,EAAE,KAAK;kGACrC,EAAE,KAAK;uFADO,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;0EAQhC,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEAAC,WAAU;kFAAsB;;;;;;kFACvC,gSAAC,8LAAM;wEACL,OAAO,MAAM,qBAAqB,IAAI;wEACtC,eAAe,CAAC,IAAM,0BAA0B,MAAM,EAAE,EAAE;;0FAE1D,gSAAC,qMAAa;gFAAC,WAAU;0FACvB,cAAA,gSAAC,mMAAW;;;;;;;;;;0FAEd,gSAAC,qMAAa;gFAAC,WAAU;0FACtB,UAAU,GAAG,CAAC,CAAC,kBACd,gSAAC,kMAAU;wFAAe,OAAO,EAAE,KAAK;kGACrC,EAAE,KAAK;uFADO,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;kEAUlC,gSAAC;wDAAI,WAAU;;0EACb,gSAAC,4LAAK;gEAAC,WAAU;0EAAsB;;;;;;0EACvC,gSAAC;gEAAI,WAAU;;kFACb,gSAAC;wEAAI,WAAU;kFACb,cAAA,gSAAC,4LAAK;4EACJ,MAAK;4EACL,KAAK;4EACL,MAAM;4EACN,aAAY;4EACZ,OAAO,MAAM,KAAK,IAAI;4EACtB,UAAU,CAAC;gFACT,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,OAAO,OAAO,EAAE,MAAM,CAAC,KAAK;gFAClE,uBAAuB,MAAM,EAAE,EAAE,OAAO,MAAM,QAAQ,IAAI;4EAC5D;4EACA,WAAU;;;;;;;;;;;kFAGd,gSAAC,8LAAM;wEACL,OAAO,MAAM,QAAQ,IAAI;wEACzB,eAAe,CAAC,IAAM,uBAAuB,MAAM,EAAE,EAAE,MAAM,KAAK,IAAI,MAAM;;0FAE5E,gSAAC,qMAAa;gFAAC,WAAU;0FACvB,cAAA,gSAAC,mMAAW;;;;;;;;;;0FAEd,gSAAC,qMAAa;0FACX,WAAW,GAAG,CAAC,CAAC,kBACf,gSAAC,kMAAU;wFAAS,OAAO;kGACxB;uFADc;;;;;;;;;;;;;;;;;;;;;;0EAOzB,gSAAC;gEAAE,WAAU;0EAAgC;;;;;;;;;;;;kEAM/C,gSAAC;wDAAI,WAAU;;0EACb,gSAAC,4LAAK;gEAAC,WAAU;;kFACf,gSAAC,mQAAK;wEAAC,WAAU;;;;;;oEAA0B;;;;;;;0EAG7C,gSAAC;gEAAE,WAAU;0EAAgC;;;;;;0EAG7C,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEACJ,QAAQ;wEACR,OAAO,GAAG,sCAAgC,0BAAyB,GAAG,YAAY,EAAE,SAAS,OAAO,EAAE,MAAM,EAAE,EAAE;wEAChH,WAAU;;;;;;kFAEZ,gSAAC,8LAAM;wEACL,MAAK;wEACL,SAAQ;wEACR,MAAK;wEACL,SAAS;4EACP,MAAM,MAAM,GAAG,sCAAgC,0BAAyB,GAAG,YAAY,EAAE,SAAS,OAAO,EAAE,MAAM,EAAE,EAAE;4EACrH,wCAAS,UAAU,SAAS,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,IAAM,mMAAK,CAAC,OAAO,CAAC;wEACvE;wEACA,OAAM;kFAEN,cAAA,gSAAC,4PAAI;4EAAC,WAAU;;;;;;;;;;;;;;;;;0EAGpB,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,+PAAK;wEAAC,WAAU;;;;;;kFACjB,gSAAC;;0FACC,gSAAC;0FAAQ,MAAM,eAAe;;;;;;4EAAU;;;;;;;;;;;;;;;;;;;kEAM9C,gSAAC;wDACC,OAAO;wDACP,UAAU;;;;;;kEAIZ,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAI,WAAU;;kFACb,gSAAC;wEAAG,WAAU;kFAAsC;;;;;;kFAGpD,gSAAC,8LAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,SAAS,IAAM,gBAAgB,MAAM,EAAE;;0FAEvC,gSAAC,4PAAI;gFAAC,WAAU;;;;;;4EAAiB;;;;;;;;;;;;;4DAKpC,MAAM,QAAQ,CAAC,MAAM,KAAK,kBACzB,gSAAC;gEAAE,WAAU;0EAAgC;;;;;qFAI7C,gSAAC;gEAAI,WAAU;0EACZ,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,sBACzB,gSAAC;wEAEC,WAAU;;0FAEV,gSAAC;gFAAI,WAAU;;kGACb,gSAAC,4LAAK;wFAAC,WAAU;kGAAU;;;;;;kGAC3B,gSAAC,8LAAM;wFACL,OAAO,KAAK,SAAS;wFACrB,eAAe,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE,OAAO,aAAa;;0GAEvE,gSAAC,qMAAa;gGAAC,WAAU;0GACvB,cAAA,gSAAC,mMAAW;;;;;;;;;;0GAEd,gSAAC,qMAAa;0GACX,KAAK,GAAG,CAAC,CAAC,kBACT,gSAAC,kMAAU;wGAAS,OAAO;kHAAI;uGAAd;;;;;;;;;;;;;;;;;;;;;;0FAKzB,gSAAC;gFAAI,WAAU;;kGACb,gSAAC,4LAAK;wFAAC,WAAU;kGAAU;;;;;;kGAC3B,gSAAC,4LAAK;wFACJ,MAAK;wFACL,OAAO,KAAK,SAAS;wFACrB,UAAU,CAAC,IAAM,mBAAmB,MAAM,EAAE,EAAE,OAAO,aAAa,EAAE,MAAM,CAAC,KAAK;wFAChF,WAAU;;;;;;;;;;;;0FAGd,gSAAC;gFAAI,WAAU;;kGACb,gSAAC,4LAAK;wFAAC,WAAU;kGAAU;;;;;;kGAC3B,gSAAC,4LAAK;wFACJ,MAAK;wFACL,KAAK;wFACL,KAAK;wFACL,OAAO,KAAK,eAAe;wFAC3B,UAAU,CAAC,IACT,mBAAmB,MAAM,EAAE,EAAE,OAAO,mBAAmB,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO;wFAEzF,WAAU;;;;;;;;;;;;0FAGd,gSAAC,8LAAM;gFACL,MAAK;gFACL,SAAQ;gFACR,MAAK;gFACL,SAAS,IAAM,mBAAmB,MAAM,EAAE,EAAE;gFAC5C,WAAU;0FACX;;;;;;;uEA/CI;;;;;;;;;;4DAuDZ,MAAM,QAAQ,CAAC,MAAM,GAAG,mBACvB,gSAAC,8LAAM;gEACL,SAAS,IAAM,0BAA0B,MAAM,EAAE,EAAE,MAAM,QAAQ;0EAClE;;;;;;;;;;;;kEAOL,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAG,WAAU;0EAAsC;;;;;;4DAGnD,CAAC;gEACA,MAAM,kBAAkB,YAAY,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,MAAM,EAAE;gEACxE,OAAO,gBAAgB,MAAM,KAAK,kBAChC,gSAAC;oEAAE,WAAU;8EAAgC;;;;;yFAI7C,gSAAC;oEAAI,WAAU;8EACZ,gBAAgB,GAAG,CAAC,CAAC,kBACpB,gSAAC;4EAAe,WAAU;;8FACxB,gSAAC;;sGACC,gSAAC;4FAAE,WAAU;sGAAuB,EAAE,WAAW;;;;;;sGACjD,gSAAC;4FAAE,WAAU;sGAAiC,EAAE,YAAY;;;;;;;;;;;;8FAE9D,gSAAC;oFAAK,WAAU;;wFACb,EAAE,gBAAgB;wFAAC;;;;;;;;2EANd,EAAE,EAAE;;;;;;;;;;4DAYtB,CAAC;;;;;;;;;;;;;2CAxRA,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAoS3B,gSAAC,8LAAM;gBAAC,MAAM;gBAAqB,cAAc;0BAC/C,cAAA,gSAAC,qMAAa;oBAAC,WAAU;;sCACvB,gSAAC,oMAAY;4BAAC,WAAU;sCACtB,cAAA,gSAAC,mMAAW;gCAAC,WAAU;;kDACrB,gSAAC,4QAAQ;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;sCAKpC,gSAAC;4BAAI,WAAU;sCACZ,8BACC,gSAAC;gCAAI,WAAU;0CACb,cAAA,gSAAC,8QAAO;oCAAC,WAAU;;;;;;;;;;uCAEnB,CAAC,uBACH,gSAAC;gCAAE,WAAU;0CAAwB;;;;;qDAErC,gSAAC;gCAAI,WAAU;;kDAEb,gSAAC;wCAAI,WAAU;;0DACb,gSAAC,4LAAK;gDAAC,WAAU;0DAAsB;;;;;;0DACvC,gSAAC,4LAAK;gDACJ,OAAO,OAAO,IAAI;gDAClB,QAAQ;gDACR,WAAU;;;;;;0DAEZ,gSAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;kDAM/C,gSAAC;wCAAI,WAAU;;0DACb,gSAAC,4LAAK;gDAAC,WAAU;0DAAsB;;;;;;0DACvC,gSAAC,kMAAQ;gDACP,OAAO,OAAO,WAAW,IAAI;gDAC7B,QAAQ;gDACR,MAAM;gDACN,WAAU;;;;;;;;;;;;kDAKd,gSAAC;wCAAI,WAAU;;0DACb,gSAAC,4LAAK;gDAAC,WAAU;0DAAsB;;;;;;0DACvC,gSAAC;gDAAI,WAAU;;kEACb,gSAAC;wDAAM,WAAU;;0EACf,gSAAC;gEACC,MAAK;gEACL,MAAK;gEACL,SAAS,qBAAqB;gEAC9B,UAAU,IAAM,oBAAoB;gEACpC,WAAU;;;;;;0EAEZ,gSAAC;0EAAK;;;;;;;;;;;;kEAER,gSAAC;wDAAM,WAAU;;0EACf,gSAAC;gEACC,MAAK;gEACL,MAAK;gEACL,SAAS,qBAAqB;gEAC9B,UAAU,IAAM,oBAAoB;gEACpC,WAAU;;;;;;0EAEZ,gSAAC;0EAAK;;;;;;;;;;;;;;;;;;;;;;;;oCAKX,qBAAqB,4BACpB,gSAAC;wCAAI,WAAU;;0DACb,gSAAC;gDAAG,WAAU;;kEACZ,gSAAC,uRAAY;wDAAC,WAAU;;;;;;oDAA2B;;;;;;;0DAGrD,gSAAC;gDAAE,WAAU;0DAAgC;;;;;;0DAG7C,gSAAC;gDAAI,WAAU;0DACZ,OAAO,OAAO,EAAE,IAAI,CAAC,oBACpB,gSAAC;wDAAiB,WAAU;;0EAC1B,gSAAC;gEAAE,WAAU;0EAAe,IAAI,KAAK;;;;;;4DACpC,IAAI,WAAW,kBAAI,gSAAC;gEAAE,WAAU;0EAAiC,IAAI,WAAW;;;;;;0EACjF,gSAAC;gEAAG,WAAU;0EACX,CAAC,IAAI,OAAO,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,oBACxB,gSAAC;wEAAgB,WAAU;;0FACzB,gSAAC;gFAAK,WAAU;;oFAAyB,IAAI,QAAQ,IAAI;oFAAG;;;;;;;0FAC5D,gSAAC;0FAAM,IAAI,KAAK;;;;;;;uEAFT,IAAI,EAAE;;;;;;;;;;;uDALX,IAAI,EAAE;;;;;;;;;;0DAcpB,gSAAC,8LAAM;gDAAC,SAAQ;gDAAU,MAAK;gDAAK,OAAO;0DACzC,cAAA,gSAAC,yNAAI;oDAAC,MAAM,CAAC,YAAY,EAAE,UAAU;8DAAE;;;;;;;;;;;;;;;;;oCAK5C,qBAAqB,4BACpB;;0DACE,gSAAC;gDAAI,WAAU;;kEACb,gSAAC,4LAAK;kEAAC;;;;;;kEACP,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAM,WAAU;;kFACf,gSAAC;wEACC,MAAK;wEACL,MAAK;wEACL,SAAS,kBAAkB;wEAC3B,UAAU,IAAM,iBAAiB;wEACjC,WAAU;;;;;;kFAEZ,gSAAC;kFAAK;;;;;;;;;;;;0EAER,gSAAC;gEAAM,WAAU;;kFACf,gSAAC;wEACC,MAAK;wEACL,MAAK;wEACL,SAAS,kBAAkB;wEAC3B,UAAU,IAAM,iBAAiB;wEACjC,WAAU;;;;;;kFAEZ,gSAAC,wQAAQ;wEAAC,WAAU;;;;;;kFACpB,gSAAC;kFAAK;;;;;;;;;;;;;;;;;;;;;;;;4CAKX,kBAAkB,wBACjB,gSAAC;gDAAI,WAAU;;kEACb,gSAAC;wDAAE,WAAU;;0EACX,gSAAC;0EAAO;;;;;;4DAA6B;;;;;;;kEAIvC,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAI,WAAU;;kFACb,gSAAC;wEAAK,WAAU;kFAA+G;;;;;;kFAC/H,gSAAC,4LAAK;wEAAC,WAAU;kFAAY;;;;;;;;;;;;0EAE/B,gSAAC;gEAAE,WAAU;0EAAgC;;;;;;0EAC7C,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEACJ,MAAK;wEACL,QAAO;wEACP,WAAU;wEACV,UAAU,CAAC,IAAM,eAAe,cAAc;wEAC9C,UAAU;;;;;;oEAEX,gCAAkB,gSAAC;wEAAK,WAAU;kFAAgC;;;;;;oEAClE,WAAW,UAAU,IAAI,CAAC,gCAAkB,gSAAC;wEAAK,WAAU;kFAAyB;;;;;;;;;;;;;;;;;;kEAK1F,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAI,WAAU;;kFACb,gSAAC;wEAAK,WAAU;kFAA+G;;;;;;kFAC/H,gSAAC,4LAAK;wEAAC,WAAU;kFAAY;;;;;;;;;;;;0EAE/B,gSAAC;gEAAE,WAAU;0EAAgC;;;;;;0EAC7C,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEACJ,MAAK;wEACL,QAAO;wEACP,WAAU;wEACV,UAAU,CAAC,IAAM,eAAe,SAAS;wEACzC,UAAU;;;;;;oEAEX,gCAAkB,gSAAC;wEAAK,WAAU;kFAAgC;;;;;;oEAClE,WAAW,KAAK,IAAI,CAAC,gCAAkB,gSAAC;wEAAK,WAAU;kFAAyB;;;;;;;;;;;;;;;;;;kEAKrF,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAI,WAAU;;kFACb,gSAAC;wEAAK,WAAU;kFAA+G;;;;;;kFAC/H,gSAAC,qRAAW;wEAAC,WAAU;;;;;;kFACvB,gSAAC,4LAAK;wEAAC,WAAU;kFAAY;;;;;;;;;;;;0EAE/B,gSAAC;gEAAE,WAAU;0EAAgC;;;;;;0EAC7C,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEACJ,MAAK;wEACL,QAAO;wEACP,WAAU;wEACV,UAAU,CAAC,IAAM,eAAe,UAAU;wEAC1C,UAAU;;;;;;oEAEX,gCAAkB,gSAAC;wEAAK,WAAU;kFAAgC;;;;;;oEAClE,WAAW,MAAM,IAAI,CAAC,gCAAkB,gSAAC;wEAAK,WAAU;kFAAyB;;;;;;;;;;;;;;;;;;kEAKtF,gSAAC;wDAAI,WAAU;;0EACb,gSAAC;gEAAI,WAAU;;kFACb,gSAAC;wEAAK,WAAU;kFAA+G;;;;;;kFAC/H,gSAAC,4QAAY;wEAAC,WAAU;;;;;;kFACxB,gSAAC,4LAAK;wEAAC,WAAU;kFAAY;;;;;;;;;;;;0EAE/B,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEAAC,WAAU;kFAAU;;;;;;kFAC3B,gSAAC,4LAAK;wEACJ,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,OAAO;wEACP,UAAU,CAAC,IAAM,wBAAwB,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO;wEACzE,WAAU;;;;;;;;;;;;0EAGd,gSAAC,8LAAM;gEACL,SAAS;gEACT,UAAU;;oEAET,kCAAoB,gSAAC,8QAAO;wEAAC,WAAU;;;;;+EAAiC;oEACxE,oBAAoB,gBAAgB;;;;;;;4DAEtC,QAAQ,MAAM,GAAG,mBAChB,gSAAC;gEAAI,WAAU;;kFACb,gSAAC,4LAAK;wEAAC,WAAU;kFAAU;;;;;;kFAC3B,gSAAC;wEAAG,WAAU;kFACX,QAAQ,GAAG,CAAC,CAAC,MAAM,kBAClB,gSAAC;;oFAAY,KAAK,KAAK;oFAAC;oFAAI,KAAK,eAAe;oFAAC;;+EAAxC;;;;;;;;;;;;;;;;;;;;;;kEAOnB,gSAAC,8LAAM;wDACL,SAAQ;wDACR,SAAS;wDACT,UAAU;;4DAET,gCAAkB,gSAAC,8QAAO;gEAAC,WAAU;;;;;uEAAiC;4DAAK;;;;;;;;;;;;;4CAMjF,kBAAkB,sBACjB,gSAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAanE;AAQA,SAAS,wBAAwB,EAAE,KAAK,EAAE,QAAQ,EAAgC;IAChF,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,iNAAe;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mQAAQ,EAAC;IACvD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mQAAQ,EACpD,MAAM,eAAe,IAAI,EAAE;IAG7B,MAAM,eAAe,OAAO,UAAkB;QAC5C,mCAAmC;QACnC,MAAM,gBAAuC;YAC3C,IAAI,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI;YAC9B;YACA;YACA,YAAY,IAAI,OAAO,WAAW;YAClC,YAAY;YACZ,iBAAiB,MAAM,UAAU,IAAI;YACrC,oBAAoB;YACpB,QAAQ;YACR,iBAAiB;YACjB,iBAAiB;YACjB,gBAAgB;gBACd,OAAO,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW,QAAQ;gBACrD,aAAa,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW,eAAe;gBAClE,aAAa,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW,MAAM,eAAe;gBACxE,aAAa,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW,MAAM,eAAe;YAC1E;QACF;QAEA,mBAAmB,CAAA,OAAQ;mBAAI;gBAAM;aAAc;QACnD,mMAAK,CAAC,OAAO,CAAC;IAChB;IAEA,MAAM,iBAAiB,CAAC;QACtB,mBAAmB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACrD,mMAAK,CAAC,OAAO,CAAC;IAChB;IAEA,MAAM,mBAAmB,QAAQ,MAAM,CAAC,CAAA,IACtC,CAAC,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,EAAE,EAAE;IAGhD,MAAM,oBAAoB;QACxB,UAAU;QACV,cAAc;QACd,UAAU;IACZ;IAEA,qBACE,gSAAC;QAAI,WAAU;;0BAEb,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;wBAAI,WAAU;;0CACb,gSAAC,4LAAK;gCAAC,WAAU;;kDACf,gSAAC,4QAAQ;wCAAC,WAAU;;;;;;oCAA4B;;;;;;;0CAGlD,gSAAC,8LAAM;gCAAC,MAAK;gCAAK,SAAS,IAAM,mBAAmB;gCAAO,WAAU;;kDACnE,gSAAC,4PAAI;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;oBAK/B,gBAAgB,MAAM,KAAK,kBAC1B,gSAAC;wBAAE,WAAU;kCAAgC;;;;;6CAI7C,gSAAC;wBAAI,WAAU;kCACZ,gBAAgB,GAAG,CAAC,CAAA,2BACnB,gSAAC;gCAEC,WAAU;;kDAEV,gSAAC;wCAAI,WAAU;;0DACb,gSAAC;gDAAI,WAAU;;kEACb,gSAAC;wDAAE,WAAU;kEAAwB,WAAW,cAAc,CAAC,KAAK;;;;;;kEACpE,gSAAC,4LAAK;wDAAC,WAAW,IAAA,2KAAE,EAClB,eACA,iBAAiB,CAAC,WAAW,eAAe,CAAC;kEAE5C,WAAW,kBAAkB,KAAK,aAAa,gBAAgB;;;;;;;;;;;;0DAGpE,gSAAC;gDAAE,WAAU;;oDAAgC;oDACjC,IAAI,KAAK,WAAW,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;kDAGhE,gSAAC;wCAAI,WAAU;;0DACb,gSAAC,4LAAK;gDAAC,SAAS,WAAW,MAAM,KAAK,WAAW,YAAY;gDAAa,WAAU;0DACjF,WAAW,MAAM;;;;;;0DAEpB,gSAAC,8LAAM;gDACL,SAAQ;gDACR,MAAK;gDACL,WAAU;gDACV,SAAS,IAAM,eAAe,WAAW,EAAE;0DAC5C;;;;;;;;;;;;;+BA1BE,WAAW,EAAE;;;;;;;;;;;;;;;;YAqC3B,iBAAiB,MAAM,GAAG,mBACzB,gSAAC;gBAAI,WAAU;;kCACb,gSAAC,4LAAK;wBAAC,WAAU;kCAAsB;;;;;;kCACvC,gSAAC;wBAAI,WAAU;;4BACZ,iBAAiB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,uBAChC,gSAAC;oCAEC,WAAU;;sDAEV,gSAAC;4CAAI,WAAU;;8DACb,gSAAC;oDAAE,WAAU;8DAAwB,OAAO,IAAI;;;;;;8DAChD,gSAAC;oDAAE,WAAU;;wDAAgC;wDAC5B,MAAM,UAAU;wDAAC;;;;;;;;;;;;;sDAGpC,gSAAC,8LAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,SAAS,IAAM,aAAa,OAAO,EAAE,EAAE,MAAM,EAAE;sDAChD;;;;;;;mCAbI,OAAO,EAAE;;;;;4BAkBjB,iBAAiB,MAAM,GAAG,mBACzB,gSAAC,8LAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,mBAAmB;;oCACnC;oCACO,iBAAiB,MAAM,GAAG;oCAAE;;;;;;;;;;;;;;;;;;;0BAQ5C,gSAAC,4LAAK;gBAAC,WAAU;;kCACf,gSAAC,iRAAS;wBAAC,WAAU;;;;;;kCACrB,gSAAC,uMAAgB;wBAAC,WAAU;;4BAAwB;0CAC7B,gSAAC;0CAAQ,iBAAiB,CAAC,MAAM,UAAU,CAAC;;;;;;4BAAU;;;;;;;;;;;;;0BAM/E,gSAAC,uPAAiB;gBAChB,QAAQ;gBACR,SAAS,IAAM,mBAAmB;gBAClC,UAAU;gBACV,SAAS;gBACT,SAAS;oBAAC;iBAAM;gBAChB,oBAAoB,MAAM,EAAE;;;;;;;;;;;;AAIpC;AAEA,MAAM,oBAAoB;IACxB,UAAU;IACV,cAAc;IACd,UAAU;AACZ"}}]
}