{
  "version": 3,
  "sources": [],
  "debugId": "ff2a86c2-adb2-3b63-2b63-337ee156a731",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/assets-panel.tsx"],"sourcesContent":["'use client'\n\n/**\n * Assets Panel (Smart Assistant Edition)\n * PRO FEATURES:\n * - Smart Recommendations based on Student Context\n * - Resizable Panels Layout\n * - Glassmorphism UI\n */\n\nimport { useState, useMemo, useEffect } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Panel, Group as PanelGroup, Separator as PanelResizeHandle } from 'react-resizable-panels'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Folder,\n  FolderOpen,\n  FileText,\n  FileQuestion,\n  ClipboardCheck,\n  StickyNote,\n  ChevronRight,\n  ChevronDown,\n  Plus,\n  MoreVertical,\n  Search,\n  Upload,\n  File,\n  BookOpen,\n  GraduationCap,\n  Layers,\n  Edit,\n  Trash2,\n  Download,\n  Eye,\n  Sparkles,\n  Zap,\n  Layout,\n  X\n} from 'lucide-react'\nimport { toast } from 'sonner'\nimport { MemoryService } from '@/lib/ai/memory-service'\n\ntype AssetType = 'subject' | 'lesson' | 'task' | 'assessment' | 'note'\n\ninterface Asset {\n  id: string\n  name: string\n  type: AssetType\n  parentId: string | null\n  createdAt: Date\n  updatedAt: Date\n  content?: string\n  fileUrl?: string\n  fileType?: string\n  description?: string\n  metadata?: {\n    taskType?: string\n    difficulty?: string\n    duration?: number\n    topic?: string\n    tags?: string[]\n  }\n}\n\ninterface StudentStub {\n  id: string\n  name: string\n  status: 'active' | 'struggling' | 'idle' | 'needs_help'\n  // In a real app we'd pull full context, here we simulate filtered view\n  struggles?: string[]\n}\n\ninterface AssetsPanelProps {\n  roomId: string\n  students?: StudentStub[]\n  onAssetSelect?: (asset: Asset) => void\n  onAssetCreate?: (asset: Partial<Asset>) => void\n  onAssetDelete?: (assetId: string) => void\n  selectionMode?: boolean\n  onAssetsSelect?: (assets: Asset[]) => void\n  onClose?: () => void\n}\n\nconst typeIcons: Record<AssetType, typeof File> = {\n  subject: GraduationCap,\n  lesson: BookOpen,\n  task: FileQuestion,\n  assessment: ClipboardCheck,\n  note: StickyNote,\n}\n\nconst typeColors: Record<AssetType, string> = {\n  subject: 'bg-blue-500/20 text-blue-400 border-blue-500/50',\n  lesson: 'bg-green-500/20 text-green-400 border-green-500/50',\n  task: 'bg-orange-500/20 text-orange-400 border-orange-500/50',\n  assessment: 'bg-purple-500/20 text-purple-400 border-purple-500/50',\n  note: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/50',\n}\n\nconst typeLabels: Record<AssetType, string> = {\n  subject: 'Subject',\n  lesson: 'Lesson',\n  task: 'Task',\n  assessment: 'Assessment',\n  note: 'Note',\n}\n\n// Mock data - in production this would come from API\nconst mockAssets: Asset[] = [\n  {\n    id: 'sub-1',\n    name: 'Mathematics',\n    type: 'subject',\n    parentId: null,\n    createdAt: new Date('2026-01-15'),\n    updatedAt: new Date('2026-02-10'),\n    description: 'Mathematics curriculum materials',\n    metadata: { topic: 'math' }\n  },\n  {\n    id: 'les-1',\n    name: 'Algebra Basics',\n    type: 'lesson',\n    parentId: 'sub-1',\n    createdAt: new Date('2026-01-16'),\n    updatedAt: new Date('2026-01-20'),\n    description: 'Introduction to algebra',\n    metadata: { topic: 'algebra', tags: ['variables', 'equations'] }\n  },\n  {\n    id: 'les-2',\n    name: 'Linear Equations',\n    type: 'lesson',\n    parentId: 'sub-1',\n    createdAt: new Date('2026-01-18'),\n    updatedAt: new Date('2026-01-25'),\n    metadata: { topic: 'algebra', tags: ['linear_equations'] }\n  },\n  // Adding specific assets for recommendation demo\n  {\n    id: 'task-101',\n    name: 'Quadratic Formula Practice',\n    type: 'task',\n    parentId: 'les-1',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    description: 'Targeted practice for finding roots.',\n    metadata: { topic: 'quadratic_equations', tags: ['finding_roots'], difficulty: 'hard' }\n  },\n  {\n    id: 'task-1',\n    name: 'Practice Problems Set 1',\n    type: 'task',\n    parentId: 'les-1',\n    createdAt: new Date('2026-01-17'),\n    updatedAt: new Date('2026-01-17'),\n    metadata: { taskType: 'multiple_choice', difficulty: 'beginner' },\n  },\n  {\n    id: 'task-2',\n    name: 'Quiz: Variables',\n    type: 'task',\n    parentId: 'les-1',\n    createdAt: new Date('2026-01-19'),\n    updatedAt: new Date('2026-01-19'),\n    metadata: { taskType: 'short_answer', difficulty: 'intermediate' },\n  },\n  {\n    id: 'assess-1',\n    name: 'Algebra Mid-Assessment',\n    type: 'assessment',\n    parentId: 'sub-1',\n    createdAt: new Date('2026-01-30'),\n    updatedAt: new Date('2026-02-01'),\n    metadata: { duration: 45 },\n  },\n  {\n    id: 'note-1',\n    name: 'Teaching Notes',\n    type: 'note',\n    parentId: 'les-1',\n    createdAt: new Date('2026-01-16'),\n    updatedAt: new Date('2026-02-05'),\n    content: 'Focus on real-world examples. Students struggle with negative numbers.',\n  },\n  {\n    id: 'sub-2',\n    name: 'Physics',\n    type: 'subject',\n    parentId: null,\n    createdAt: new Date('2026-01-10'),\n    updatedAt: new Date('2026-02-08'),\n    description: 'Physics curriculum',\n  },\n  {\n    id: 'les-3',\n    name: 'Mechanics',\n    type: 'lesson',\n    parentId: 'sub-2',\n    createdAt: new Date('2026-01-12'),\n    updatedAt: new Date('2026-01-15'),\n    metadata: { tags: ['force', 'motion'] }\n  },\n  {\n    id: 'task-3',\n    name: 'Force Problems',\n    type: 'task',\n    parentId: 'les-3',\n    createdAt: new Date('2026-01-13'),\n    updatedAt: new Date('2026-01-14'),\n    metadata: { difficulty: 'intermediate' }\n  },\n]\n\nexport function AssetsPanel({ roomId, students = [], onAssetSelect, onAssetCreate, onAssetDelete, selectionMode, onAssetsSelect, onClose }: AssetsPanelProps) {\n  const [assets, setAssets] = useState<Asset[]>(mockAssets)\n  const [expandedFolders, setExpandedFolders] = useState<Set<string>>(new Set(['sub-1', 'sub-2']))\n  const [searchQuery, setSearchQuery] = useState('')\n  const [selectedAsset, setSelectedAsset] = useState<Asset | null>(null)\n  const [viewMode, setViewMode] = useState<'tree' | 'list'>('tree')\n  const [selectedAssets, setSelectedAssets] = useState<Set<string>>(new Set())\n\n  const handleCheckboxChange = (assetId: string, checked: boolean) => {\n    setSelectedAssets(prev => {\n      const next = new Set(prev)\n      if (checked) next.add(assetId)\n      else next.delete(assetId)\n      return next\n    })\n  }\n\n  const handleConfirmSelection = () => {\n    const selected = assets.filter(a => selectedAssets.has(a.id))\n    onAssetsSelect?.(selected)\n  }\n\n  // Smart Recommendations Logic\n  const recommendedAssets = useMemo(() => {\n    // 1. Identify active struggles from connected students\n    const struggleTopics = new Set<string>()\n    students.forEach(s => {\n      if (s.status === 'struggling' && s.struggles) {\n        s.struggles.forEach(topic => struggleTopics.add(topic.toLowerCase()))\n      }\n      // For demo, assume 'finding_roots' is a struggle if anyone is struggling\n      if (s.status === 'struggling') {\n        struggleTopics.add('quadratic_equations')\n        struggleTopics.add('finding_roots')\n      }\n    })\n\n    if (struggleTopics.size === 0) return []\n\n    // 2. Find matching assets\n    return assets.filter(asset => {\n      const topicMatch = asset.metadata?.topic && struggleTopics.has(asset.metadata.topic.toLowerCase())\n      const tagMatch = asset.metadata?.tags?.some(tag => struggleTopics.has(tag.toLowerCase()))\n      const textMatch = struggleTopics.has(asset.name.toLowerCase())\n      return topicMatch || tagMatch || textMatch\n    })\n  }, [assets, students])\n\n  // Build tree structure\n  const assetTree = useMemo(() => {\n    const buildTree = (parentId: string | null): Asset[] => {\n      return assets\n        .filter(a => a.parentId === parentId)\n        .sort((a, b) => {\n          // Folders (subjects, lessons) first, then files\n          const aIsFolder = a.type === 'subject' || a.type === 'lesson'\n          const bIsFolder = b.type === 'subject' || b.type === 'lesson'\n          if (aIsFolder && !bIsFolder) return -1\n          if (!aIsFolder && bIsFolder) return 1\n          return a.name.localeCompare(b.name)\n        })\n    }\n    return buildTree(null)\n  }, [assets])\n\n  // Filtered assets for search\n  const filteredAssets = useMemo(() => {\n    if (!searchQuery) return null\n    return assets.filter(a =>\n      a.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      a.description?.toLowerCase().includes(searchQuery.toLowerCase())\n    )\n  }, [assets, searchQuery])\n\n  const toggleFolder = (id: string) => {\n    setExpandedFolders(prev => {\n      const next = new Set(prev)\n      if (next.has(id)) {\n        next.delete(id)\n      } else {\n        next.add(id)\n      }\n      return next\n    })\n  }\n\n  const getChildAssets = (parentId: string) => {\n    return assets\n      .filter(a => a.parentId === parentId)\n      .sort((a, b) => a.name.localeCompare(b.name))\n  }\n\n  const handleCreateAsset = (type: AssetType, parentId: string | null = null) => {\n    const newAsset: Asset = {\n      id: `${type}-${Date.now()}`,\n      name: `New ${typeLabels[type]}`,\n      type,\n      parentId,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    }\n    setAssets(prev => [...prev, newAsset])\n    if (parentId) {\n      setExpandedFolders(prev => new Set(prev).add(parentId))\n    }\n    toast.success(`Created new ${typeLabels[type]}`)\n    onAssetCreate?.(newAsset)\n  }\n\n  const handleDeleteAsset = (asset: Asset, e: React.MouseEvent) => {\n    e.stopPropagation()\n    // Delete all children recursively\n    const deleteRecursive = (id: string) => {\n      const children = assets.filter(a => a.parentId === id)\n      children.forEach(child => deleteRecursive(child.id))\n      setAssets(prev => prev.filter(a => a.id !== id))\n    }\n    deleteRecursive(asset.id)\n    toast.success('Asset deleted')\n    onAssetDelete?.(asset.id)\n  }\n\n  const AssetIcon = ({ type, isOpen }: { type: AssetType; isOpen?: boolean }) => {\n    const Icon = type === 'subject' || type === 'lesson'\n      ? (isOpen ? FolderOpen : Folder)\n      : typeIcons[type]\n    return <Icon className=\"h-4 w-4\" />\n  }\n\n  const renderAssetItem = (asset: Asset, depth: number = 0) => {\n    const isFolder = asset.type === 'subject' || asset.type === 'lesson'\n    const isExpanded = expandedFolders.has(asset.id)\n    const children = isFolder ? getChildAssets(asset.id) : []\n    const hasChildren = children.length > 0\n    const isSelected = selectedAsset?.id === asset.id\n\n    return (\n      <div key={asset.id} className=\"select-none\">\n        <div\n          className={`group flex items-center gap-2 px-3 py-2 my-0.5 rounded-lg cursor-pointer transition-all duration-200 border border-transparent\n            ${isSelected\n              ? 'bg-blue-600/20 border-blue-500/30 text-white shadow-sm backdrop-blur-sm'\n              : 'hover:bg-white/5 hover:border-white/10 text-gray-300'\n            }`}\n          style={{ paddingLeft: `${12 + depth * 16}px` }}\n          onClick={() => {\n            if (isFolder) {\n              toggleFolder(asset.id)\n            }\n            setSelectedAsset(asset)\n            onAssetSelect?.(asset)\n          }}\n        >\n          {isFolder && hasChildren ? (\n            isExpanded ? (\n              <ChevronDown className=\"h-4 w-4 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"h-4 w-4 text-gray-500\" />\n            )\n          ) : (\n            <span className=\"w-4\" />\n          )}\n\n          {selectionMode && !isFolder && (\n            <input\n              type=\"checkbox\"\n              className=\"mr-2\"\n              checked={selectedAssets.has(asset.id)}\n              onClick={(e) => e.stopPropagation()}\n              onChange={(e) => handleCheckboxChange(asset.id, e.target.checked)}\n            />\n          )}\n\n          <span className={`p-1.5 rounded-md border ${typeColors[asset.type]}`}>\n            <AssetIcon type={asset.type} isOpen={isExpanded} />\n          </span>\n\n          <span className=\"flex-1 truncate text-sm font-medium\">{asset.name}</span>\n\n          {asset.metadata?.difficulty && (\n            <Badge variant=\"outline\" className={`text-[10px] px-1 h-5 ${asset.metadata.difficulty === 'hard' ? 'border-red-500/50 text-red-400' :\n              asset.metadata.difficulty === 'intermediate' ? 'border-yellow-500/50 text-yellow-400' :\n                'border-green-500/50 text-green-400'\n              }`}>\n              {asset.metadata.difficulty}\n            </Badge>\n          )}\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <MoreVertical className=\"h-3 w-3\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"bg-gray-800 border-gray-700 text-gray-200\">\n              <DropdownMenuItem onClick={(e) => {\n                e.stopPropagation()\n                setSelectedAsset(asset)\n              }}>\n                <Eye className=\"h-4 w-4 mr-2\" />\n                Preview\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={(e) => e.stopPropagation()}>\n                <Edit className=\"h-4 w-4 mr-2\" />\n                Rename\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={(e) => e.stopPropagation()}>\n                <Download className=\"h-4 w-4 mr-2\" />\n                Download\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"text-red-400 focus:text-red-400 focus:bg-red-900/20\"\n                onClick={(e) => handleDeleteAsset(asset, e)}\n              >\n                <Trash2 className=\"h-4 w-4 mr-2\" />\n                Delete\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {isFolder && isExpanded && hasChildren && (\n          <div className=\"relative\">\n            <div className=\"absolute left-[20px] top-0 bottom-0 w-px bg-gray-800\" style={{ left: `${19 + depth * 16}px` }} />\n            {children.map(child => renderAssetItem(child, depth + 1))}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"h-full flex flex-col bg-black/40 backdrop-blur-xl border-l border-white/10 text-white shadow-2xl\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-white/10 shrink-0 bg-white/5\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"bg-gradient-to-br from-amber-500 to-orange-600 p-2.5 rounded-xl shadow-lg shadow-orange-900/20 shrink-0\">\n              <Layers className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400\">Smart Assets</h2>\n              <p className=\"text-xs text-gray-400\">AI-Curated Materials</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2 shrink-0\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-8 w-8 p-0 rounded-full hover:bg-white/10\"\n              onClick={() => setViewMode(viewMode === 'tree' ? 'list' : 'tree')}\n            >\n              <Layout className=\"h-4 w-4\" />\n            </Button>\n            <Dialog>\n              <DialogTrigger asChild>\n                <Button size=\"sm\" className=\"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20 border border-blue-400/20\">\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  New\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"bg-gray-900/95 border-gray-700 text-white backdrop-blur-xl\">\n                <DialogHeader>\n                  <DialogTitle>Create New Asset</DialogTitle>\n                </DialogHeader>\n                <div className=\"grid grid-cols-2 gap-3 mt-4\">\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-auto py-4 flex flex-col items-center gap-2 hover:bg-white/5 border-gray-700\"\n                    onClick={() => handleCreateAsset('subject')}\n                  >\n                    <GraduationCap className=\"h-6 w-6 text-blue-400\" />\n                    <span>Subject</span>\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-auto py-4 flex flex-col items-center gap-2 hover:bg-white/5 border-gray-700\"\n                    onClick={() => handleCreateAsset('lesson')}\n                  >\n                    <BookOpen className=\"h-6 w-6 text-green-400\" />\n                    <span>Lesson</span>\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-auto py-4 flex flex-col items-center gap-2 hover:bg-white/5 border-gray-700\"\n                    onClick={() => handleCreateAsset('task')}\n                  >\n                    <FileQuestion className=\"h-6 w-6 text-orange-400\" />\n                    <span>Task</span>\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-auto py-4 flex flex-col items-center gap-2 hover:bg-white/5 border-gray-700\"\n                    onClick={() => handleCreateAsset('assessment')}\n                  >\n                    <ClipboardCheck className=\"h-6 w-6 text-purple-400\" />\n                    <span>Assessment</span>\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-auto py-4 flex flex-col items-center gap-2 col-span-2 hover:bg-white/5 border-gray-700\"\n                    onClick={() => handleCreateAsset('note')}\n                  >\n                    <StickyNote className=\"h-6 w-6 text-yellow-400\" />\n                    <span>Note</span>\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n            {selectionMode && onClose && (\n              <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"text-gray-400 hover:text-white\">\n                <X className=\"h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"relative group\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 group-focus-within:text-blue-400 transition-colors\" />\n          <Input\n            placeholder=\"Search assets...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-10 bg-black/20 border-white/10 text-white focus:bg-black/40 focus:border-blue-500/50 transition-all rounded-xl\"\n          />\n        </div>\n      </div>\n\n      {/* Content Area with Resizable Panels */}\n      <PanelGroup orientation=\"horizontal\" className=\"flex-1 min-h-0\">\n\n        {/* Left Panel: Asset List */}\n        <Panel defaultSize={60} minSize={30}>\n          <ScrollArea className=\"h-full\">\n            {/* Smart Recommendations Section */}\n            {recommendedAssets.length > 0 && !searchQuery && (\n              <div className=\"p-4 pb-2 border-b border-white/5 bg-gradient-to-b from-blue-900/10 to-transparent\">\n                <div className=\"flex items-center gap-2 mb-3 text-blue-300\">\n                  <Sparkles className=\"h-4 w-4\" />\n                  <span className=\"text-xs font-bold uppercase tracking-wider\">Recommended for Class</span>\n                </div>\n                <div className=\"space-y-1\">\n                  {recommendedAssets.map(asset => renderAssetItem(asset))}\n                </div>\n              </div>\n            )}\n\n            <div className=\"p-4\">\n              <div className=\"flex items-center gap-2 mb-3 text-gray-500\">\n                <Folder className=\"h-4 w-4\" />\n                <span className=\"text-xs font-bold uppercase tracking-wider\">All Library</span>\n              </div>\n\n              {searchQuery ? (\n                // Search results\n                filteredAssets && filteredAssets.length > 0 ? (\n                  <div className=\"space-y-1\">\n                    {filteredAssets.map(asset => renderAssetItem(asset, 0))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12 text-gray-500\">\n                    <Search className=\"h-12 w-12 mx-auto mb-3 opacity-20\" />\n                    <p>No assets found</p>\n                  </div>\n                )\n              ) : (\n                // Tree view\n                <div className=\"space-y-1\">\n                  {assetTree.length > 0 ? (\n                    assetTree.map(asset => (\n                      <div key={asset.id} className=\"group\">\n                        {renderAssetItem(asset, 0)}\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-center py-12 text-gray-500\">\n                      <Folder className=\"h-12 w-12 mx-auto mb-3 opacity-20\" />\n                      <p>No assets yet</p>\n                      <Button variant=\"link\" onClick={() => handleCreateAsset('subject')}>Create Subject</Button>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </ScrollArea>\n        </Panel>\n\n        {/* Resizer Handle */}\n        <PanelResizeHandle className=\"w-1 bg-white/5 hover:bg-blue-500/50 transition-colors cursor-col-resize active:bg-blue-600\" />\n\n        {/* Right Panel: Preview (Collapsible?) */}\n        {selectedAsset && (\n          <Panel defaultSize={40} minSize={20}>\n            <div className=\"h-full flex flex-col bg-black/20 backdrop-blur-md border-l border-white/5\">\n              <ScrollArea className=\"flex-1 p-5\">\n                <div className=\"flex items-start gap-4 mb-6\">\n                  <div className={`p-3 rounded-xl shadow-lg ${typeColors[selectedAsset.type]}`}>\n                    <AssetIcon type={selectedAsset.type} />\n                  </div>\n                  <div className=\"flex-1 min-w-0 pt-1\">\n                    <h3 className=\"font-bold text-lg leading-tight truncate text-white\">{selectedAsset.name}</h3>\n                    <p className=\"text-xs text-blue-300/80 mt-1 uppercase tracking-wide font-medium\">{typeLabels[selectedAsset.type]}</p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-6\">\n                  {selectedAsset.description && (\n                    <div className=\"space-y-2\">\n                      <h4 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">Description</h4>\n                      <p className=\"text-sm text-gray-300 leading-relaxed bg-white/5 p-3 rounded-lg border border-white/5\">\n                        {selectedAsset.description}\n                      </p>\n                    </div>\n                  )}\n\n                  {selectedAsset.metadata && (\n                    <div className=\"space-y-3\">\n                      <h4 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">Details</h4>\n                      <div className=\"grid grid-cols-2 gap-3\">\n                        {selectedAsset.metadata.taskType && (\n                          <div className=\"bg-white/5 p-2 rounded border border-white/5\">\n                            <span className=\"block text-[10px] text-gray-500 uppercase\">Type</span>\n                            <span className=\"text-sm capitalize\">{selectedAsset.metadata.taskType.replace('_', ' ')}</span>\n                          </div>\n                        )}\n                        {selectedAsset.metadata.difficulty && (\n                          <div className=\"bg-white/5 p-2 rounded border border-white/5\">\n                            <span className=\"block text-[10px] text-gray-500 uppercase\">Difficulty</span>\n                            <span className={`text-sm capitalize font-medium ${selectedAsset.metadata.difficulty === 'hard' ? 'text-red-400' :\n                              selectedAsset.metadata.difficulty === 'intermediate' ? 'text-yellow-400' :\n                                'text-green-400'\n                              }`}>\n                              {selectedAsset.metadata.difficulty}\n                            </span>\n                          </div>\n                        )}\n                        {selectedAsset.metadata.duration && (\n                          <div className=\"bg-white/5 p-2 rounded border border-white/5\">\n                            <span className=\"block text-[10px] text-gray-500 uppercase\">Duration</span>\n                            <span className=\"text-sm\">{selectedAsset.metadata.duration} min</span>\n                          </div>\n                        )}\n                        {selectedAsset.metadata.topic && (\n                          <div className=\"bg-white/5 p-2 rounded border border-white/5\">\n                            <span className=\"block text-[10px] text-gray-500 uppercase\">Topic</span>\n                            <span className=\"text-sm capitalize\">{selectedAsset.metadata.topic}</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  {selectedAsset.content && (\n                    <div className=\"space-y-2\">\n                      <h4 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">Preview</h4>\n                      <div className=\"bg-black/40 p-4 rounded-lg text-sm font-mono text-gray-300 max-h-60 overflow-y-auto border border-white/10 shadow-inner\">\n                        {selectedAsset.content}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </ScrollArea>\n\n              <div className=\"p-4 border-t border-white/10 bg-black/20 backdrop-blur-sm space-y-3\">\n                <div className=\"flex justify-between text-[10px] text-gray-500 font-medium uppercase tracking-wider\">\n                  <span>Created {selectedAsset.createdAt.toLocaleDateString()}</span>\n                  <span>Updated {selectedAsset.updatedAt.toLocaleDateString()}</span>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" className=\"flex-1 border-white/10 hover:bg-white/5 text-gray-300\">\n                    <Edit className=\"h-4 w-4 mr-2\" /> Edit\n                  </Button>\n                  <Button className=\"flex-1 bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20\">\n                    <Zap className=\"h-4 w-4 mr-2\" /> Open\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </Panel>\n        )}\n      </PanelGroup>\n\n      {/* Footer Stats */}\n      <div className=\"p-2 border-t border-white/10 bg-black/30 backdrop-blur-sm shrink-0 flex justify-between items-center text-[10px] text-gray-500 uppercase tracking-wider font-medium px-4\">\n        <div className=\"flex gap-4\">\n          <span>{assets.filter(a => a.type === 'subject').length} Subjects</span>\n          <span>{assets.filter(a => a.type === 'lesson').length} Lessons</span>\n          <span>{assets.filter(a => a.type === 'task').length} Tasks</span>\n        </div>\n        <span>{assets.length} Assets</span>\n      </div>\n\n      {/* Selection Mode Footer */}\n      {selectionMode && (\n        <div className=\"p-4 border-t border-white/10 bg-black/40 backdrop-blur-sm flex justify-between items-center\">\n          <span className=\"text-sm text-gray-400\">{selectedAssets.size} selected</span>\n          <Button onClick={handleConfirmSelection} disabled={selectedAssets.size === 0} size=\"sm\" className=\"bg-purple-600 hover:bg-purple-500\">\n            Select {selectedAssets.size > 0 ? `(${selectedAssets.size})` : ''}\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AAEA;AACA;AACA;AACA;AACA;AACA;AAOA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BA;AAxDA;;;;;;;;;;;;AAoGA,MAAM,YAA4C;IAChD,SAAS,2RAAa;IACtB,QAAQ,4QAAQ;IAChB,MAAM,gSAAY;IAClB,YAAY,8RAAc;IAC1B,MAAM,kRAAU;AAClB;AAEA,MAAM,aAAwC;IAC5C,SAAS;IACT,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,MAAM;AACR;AAEA,MAAM,aAAwC;IAC5C,SAAS;IACT,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,MAAM;AACR;AAEA,qDAAqD;AACrD,MAAM,aAAsB;IAC1B;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,aAAa;QACb,UAAU;YAAE,OAAO;QAAO;IAC5B;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,aAAa;QACb,UAAU;YAAE,OAAO;YAAW,MAAM;gBAAC;gBAAa;aAAY;QAAC;IACjE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,UAAU;YAAE,OAAO;YAAW,MAAM;gBAAC;aAAmB;QAAC;IAC3D;IACA,iDAAiD;IACjD;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI;QACf,WAAW,IAAI;QACf,aAAa;QACb,UAAU;YAAE,OAAO;YAAuB,MAAM;gBAAC;aAAgB;YAAE,YAAY;QAAO;IACxF;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,UAAU;YAAE,UAAU;YAAmB,YAAY;QAAW;IAClE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,UAAU;YAAE,UAAU;YAAgB,YAAY;QAAe;IACnE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,UAAU;YAAE,UAAU;QAAG;IAC3B;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,UAAU;YAAE,MAAM;gBAAC;gBAAS;aAAS;QAAC;IACxC;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW,IAAI,KAAK;QACpB,WAAW,IAAI,KAAK;QACpB,UAAU;YAAE,YAAY;QAAe;IACzC;CACD;AAEM,SAAS,YAAY,EAAE,MAAM,EAAE,WAAW,EAAE,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,OAAO,EAAoB;IAC1J,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mQAAQ,EAAU;IAC9C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mQAAQ,EAAc,IAAI,IAAI;QAAC;QAAS;KAAQ;IAC9F,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mQAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mQAAQ,EAAe;IACjE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mQAAQ,EAAkB;IAC1D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,mQAAQ,EAAc,IAAI;IAEtE,MAAM,uBAAuB,CAAC,SAAiB;QAC7C,kBAAkB,CAAA;YAChB,MAAM,OAAO,IAAI,IAAI;YACrB,IAAI,SAAS,KAAK,GAAG,CAAC;iBACjB,KAAK,MAAM,CAAC;YACjB,OAAO;QACT;IACF;IAEA,MAAM,yBAAyB;QAC7B,MAAM,WAAW,OAAO,MAAM,CAAC,CAAA,IAAK,eAAe,GAAG,CAAC,EAAE,EAAE;QAC3D,iBAAiB;IACnB;IAEA,8BAA8B;IAC9B,MAAM,oBAAoB,IAAA,kQAAO,EAAC;QAChC,uDAAuD;QACvD,MAAM,iBAAiB,IAAI;QAC3B,SAAS,OAAO,CAAC,CAAA;YACf,IAAI,EAAE,MAAM,KAAK,gBAAgB,EAAE,SAAS,EAAE;gBAC5C,EAAE,SAAS,CAAC,OAAO,CAAC,CAAA,QAAS,eAAe,GAAG,CAAC,MAAM,WAAW;YACnE;YACA,yEAAyE;YACzE,IAAI,EAAE,MAAM,KAAK,cAAc;gBAC7B,eAAe,GAAG,CAAC;gBACnB,eAAe,GAAG,CAAC;YACrB;QACF;QAEA,IAAI,eAAe,IAAI,KAAK,GAAG,OAAO,EAAE;QAExC,0BAA0B;QAC1B,OAAO,OAAO,MAAM,CAAC,CAAA;YACnB,MAAM,aAAa,MAAM,QAAQ,EAAE,SAAS,eAAe,GAAG,CAAC,MAAM,QAAQ,CAAC,KAAK,CAAC,WAAW;YAC/F,MAAM,WAAW,MAAM,QAAQ,EAAE,MAAM,KAAK,CAAA,MAAO,eAAe,GAAG,CAAC,IAAI,WAAW;YACrF,MAAM,YAAY,eAAe,GAAG,CAAC,MAAM,IAAI,CAAC,WAAW;YAC3D,OAAO,cAAc,YAAY;QACnC;IACF,GAAG;QAAC;QAAQ;KAAS;IAErB,uBAAuB;IACvB,MAAM,YAAY,IAAA,kQAAO,EAAC;QACxB,MAAM,YAAY,CAAC;YACjB,OAAO,OACJ,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,UAC3B,IAAI,CAAC,CAAC,GAAG;gBACR,gDAAgD;gBAChD,MAAM,YAAY,EAAE,IAAI,KAAK,aAAa,EAAE,IAAI,KAAK;gBACrD,MAAM,YAAY,EAAE,IAAI,KAAK,aAAa,EAAE,IAAI,KAAK;gBACrD,IAAI,aAAa,CAAC,WAAW,OAAO,CAAC;gBACrC,IAAI,CAAC,aAAa,WAAW,OAAO;gBACpC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;YACpC;QACJ;QACA,OAAO,UAAU;IACnB,GAAG;QAAC;KAAO;IAEX,6BAA6B;IAC7B,MAAM,iBAAiB,IAAA,kQAAO,EAAC;QAC7B,IAAI,CAAC,aAAa,OAAO;QACzB,OAAO,OAAO,MAAM,CAAC,CAAA,IACnB,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OACrD,EAAE,WAAW,EAAE,cAAc,SAAS,YAAY,WAAW;IAEjE,GAAG;QAAC;QAAQ;KAAY;IAExB,MAAM,eAAe,CAAC;QACpB,mBAAmB,CAAA;YACjB,MAAM,OAAO,IAAI,IAAI;YACrB,IAAI,KAAK,GAAG,CAAC,KAAK;gBAChB,KAAK,MAAM,CAAC;YACd,OAAO;gBACL,KAAK,GAAG,CAAC;YACX;YACA,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAO,OACJ,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,UAC3B,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;IAC/C;IAEA,MAAM,oBAAoB,CAAC,MAAiB,WAA0B,IAAI;QACxE,MAAM,WAAkB;YACtB,IAAI,GAAG,KAAK,CAAC,EAAE,KAAK,GAAG,IAAI;YAC3B,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,KAAK,EAAE;YAC/B;YACA;YACA,WAAW,IAAI;YACf,WAAW,IAAI;QACjB;QACA,UAAU,CAAA,OAAQ;mBAAI;gBAAM;aAAS;QACrC,IAAI,UAAU;YACZ,mBAAmB,CAAA,OAAQ,IAAI,IAAI,MAAM,GAAG,CAAC;QAC/C;QACA,mMAAK,CAAC,OAAO,CAAC,CAAC,YAAY,EAAE,UAAU,CAAC,KAAK,EAAE;QAC/C,gBAAgB;IAClB;IAEA,MAAM,oBAAoB,CAAC,OAAc;QACvC,EAAE,eAAe;QACjB,kCAAkC;QAClC,MAAM,kBAAkB,CAAC;YACvB,MAAM,WAAW,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;YACnD,SAAS,OAAO,CAAC,CAAA,QAAS,gBAAgB,MAAM,EAAE;YAClD,UAAU,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAC9C;QACA,gBAAgB,MAAM,EAAE;QACxB,mMAAK,CAAC,OAAO,CAAC;QACd,gBAAgB,MAAM,EAAE;IAC1B;IAEA,MAAM,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAyC;QACxE,MAAM,OAAO,SAAS,aAAa,SAAS,WACvC,SAAS,kRAAU,GAAG,kQAAM,GAC7B,SAAS,CAAC,KAAK;QACnB,qBAAO,gSAAC;YAAK,WAAU;;;;;;IACzB;IAEA,MAAM,kBAAkB,CAAC,OAAc,QAAgB,CAAC;QACtD,MAAM,WAAW,MAAM,IAAI,KAAK,aAAa,MAAM,IAAI,KAAK;QAC5D,MAAM,aAAa,gBAAgB,GAAG,CAAC,MAAM,EAAE;QAC/C,MAAM,WAAW,WAAW,eAAe,MAAM,EAAE,IAAI,EAAE;QACzD,MAAM,cAAc,SAAS,MAAM,GAAG;QACtC,MAAM,aAAa,eAAe,OAAO,MAAM,EAAE;QAEjD,qBACE,gSAAC;YAAmB,WAAU;;8BAC5B,gSAAC;oBACC,WAAW,CAAC;YACV,EAAE,aACE,4EACA,wDACF;oBACJ,OAAO;wBAAE,aAAa,GAAG,KAAK,QAAQ,GAAG,EAAE,CAAC;oBAAC;oBAC7C,SAAS;wBACP,IAAI,UAAU;4BACZ,aAAa,MAAM,EAAE;wBACvB;wBACA,iBAAiB;wBACjB,gBAAgB;oBAClB;;wBAEC,YAAY,cACX,2BACE,gSAAC,qRAAW;4BAAC,WAAU;;;;;iDAEvB,gSAAC,wRAAY;4BAAC,WAAU;;;;;iDAG1B,gSAAC;4BAAK,WAAU;;;;;;wBAGjB,iBAAiB,CAAC,0BACjB,gSAAC;4BACC,MAAK;4BACL,WAAU;4BACV,SAAS,eAAe,GAAG,CAAC,MAAM,EAAE;4BACpC,SAAS,CAAC,IAAM,EAAE,eAAe;4BACjC,UAAU,CAAC,IAAM,qBAAqB,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC,OAAO;;;;;;sCAIpE,gSAAC;4BAAK,WAAW,CAAC,wBAAwB,EAAE,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE;sCAClE,cAAA,gSAAC;gCAAU,MAAM,MAAM,IAAI;gCAAE,QAAQ;;;;;;;;;;;sCAGvC,gSAAC;4BAAK,WAAU;sCAAuC,MAAM,IAAI;;;;;;wBAEhE,MAAM,QAAQ,EAAE,4BACf,gSAAC,4LAAK;4BAAC,SAAQ;4BAAU,WAAW,CAAC,qBAAqB,EAAE,MAAM,QAAQ,CAAC,UAAU,KAAK,SAAS,mCACjG,MAAM,QAAQ,CAAC,UAAU,KAAK,iBAAiB,yCAC7C,sCACA;sCACD,MAAM,QAAQ,CAAC,UAAU;;;;;;sCAI9B,gSAAC,8MAAY;;8CACX,gSAAC,qNAAmB;oCAAC,OAAO;oCAAC,SAAS,CAAC,IAAM,EAAE,eAAe;8CAC5D,cAAA,gSAAC,8LAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAO,WAAU;kDAC5C,cAAA,gSAAC,4RAAY;4CAAC,WAAU;;;;;;;;;;;;;;;;8CAG5B,gSAAC,qNAAmB;oCAAC,OAAM;oCAAM,WAAU;;sDACzC,gSAAC,kNAAgB;4CAAC,SAAS,CAAC;gDAC1B,EAAE,eAAe;gDACjB,iBAAiB;4CACnB;;8DACE,gSAAC,yPAAG;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAGlC,gSAAC,kNAAgB;4CAAC,SAAS,CAAC,IAAM,EAAE,eAAe;;8DACjD,gSAAC,qQAAI;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAGnC,gSAAC,kNAAgB;4CAAC,SAAS,CAAC,IAAM,EAAE,eAAe;;8DACjD,gSAAC,wQAAQ;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAGvC,gSAAC,kNAAgB;4CACf,WAAU;4CACV,SAAS,CAAC,IAAM,kBAAkB,OAAO;;8DAEzC,gSAAC,sQAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;gBAO1C,YAAY,cAAc,6BACzB,gSAAC;oBAAI,WAAU;;sCACb,gSAAC;4BAAI,WAAU;4BAAuD,OAAO;gCAAE,MAAM,GAAG,KAAK,QAAQ,GAAG,EAAE,CAAC;4BAAC;;;;;;wBAC3G,SAAS,GAAG,CAAC,CAAA,QAAS,gBAAgB,OAAO,QAAQ;;;;;;;;WAvFlD,MAAM,EAAE;;;;;IA4FtB;IAEA,qBACE,gSAAC;QAAI,WAAU;;0BAEb,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;gCAAI,WAAU;;kDACb,gSAAC;wCAAI,WAAU;kDACb,cAAA,gSAAC,kQAAM;4CAAC,WAAU;;;;;;;;;;;kDAEpB,gSAAC;;0DACC,gSAAC;gDAAG,WAAU;0DAA0F;;;;;;0DACxG,gSAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;0CAGzC,gSAAC;gCAAI,WAAU;;kDACb,gSAAC,8LAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,YAAY,aAAa,SAAS,SAAS;kDAE1D,cAAA,gSAAC,iRAAM;4CAAC,WAAU;;;;;;;;;;;kDAEpB,gSAAC,8LAAM;;0DACL,gSAAC,qMAAa;gDAAC,OAAO;0DACpB,cAAA,gSAAC,8LAAM;oDAAC,MAAK;oDAAK,WAAU;;sEAC1B,gSAAC,4PAAI;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;0DAIrC,gSAAC,qMAAa;gDAAC,WAAU;;kEACvB,gSAAC,oMAAY;kEACX,cAAA,gSAAC,mMAAW;sEAAC;;;;;;;;;;;kEAEf,gSAAC;wDAAI,WAAU;;0EACb,gSAAC,8LAAM;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS,IAAM,kBAAkB;;kFAEjC,gSAAC,2RAAa;wEAAC,WAAU;;;;;;kFACzB,gSAAC;kFAAK;;;;;;;;;;;;0EAER,gSAAC,8LAAM;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS,IAAM,kBAAkB;;kFAEjC,gSAAC,4QAAQ;wEAAC,WAAU;;;;;;kFACpB,gSAAC;kFAAK;;;;;;;;;;;;0EAER,gSAAC,8LAAM;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS,IAAM,kBAAkB;;kFAEjC,gSAAC,gSAAY;wEAAC,WAAU;;;;;;kFACxB,gSAAC;kFAAK;;;;;;;;;;;;0EAER,gSAAC,8LAAM;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS,IAAM,kBAAkB;;kFAEjC,gSAAC,8RAAc;wEAAC,WAAU;;;;;;kFAC1B,gSAAC;kFAAK;;;;;;;;;;;;0EAER,gSAAC,8LAAM;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS,IAAM,kBAAkB;;kFAEjC,gSAAC,kRAAU;wEAAC,WAAU;;;;;;kFACtB,gSAAC;kFAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oCAKb,iBAAiB,yBAChB,gSAAC,8LAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAK,SAAS;wCAAS,WAAU;kDAC5D,cAAA,gSAAC,mPAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAOrB,gSAAC;wBAAI,WAAU;;0CACb,gSAAC,kQAAM;gCAAC,WAAU;;;;;;0CAClB,gSAAC,4LAAK;gCACJ,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,WAAU;;;;;;;;;;;;;;;;;;0BAMhB,gSAAC,+OAAU;gBAAC,aAAY;gBAAa,WAAU;;kCAG7C,gSAAC,+OAAK;wBAAC,aAAa;wBAAI,SAAS;kCAC/B,cAAA,gSAAC,0MAAU;4BAAC,WAAU;;gCAEnB,kBAAkB,MAAM,GAAG,KAAK,CAAC,6BAChC,gSAAC;oCAAI,WAAU;;sDACb,gSAAC;4CAAI,WAAU;;8DACb,gSAAC,wQAAQ;oDAAC,WAAU;;;;;;8DACpB,gSAAC;oDAAK,WAAU;8DAA6C;;;;;;;;;;;;sDAE/D,gSAAC;4CAAI,WAAU;sDACZ,kBAAkB,GAAG,CAAC,CAAA,QAAS,gBAAgB;;;;;;;;;;;;8CAKtD,gSAAC;oCAAI,WAAU;;sDACb,gSAAC;4CAAI,WAAU;;8DACb,gSAAC,kQAAM;oDAAC,WAAU;;;;;;8DAClB,gSAAC;oDAAK,WAAU;8DAA6C;;;;;;;;;;;;wCAG9D,cACC,iBAAiB;wCACjB,kBAAkB,eAAe,MAAM,GAAG,kBACxC,gSAAC;4CAAI,WAAU;sDACZ,eAAe,GAAG,CAAC,CAAA,QAAS,gBAAgB,OAAO;;;;;iEAGtD,gSAAC;4CAAI,WAAU;;8DACb,gSAAC,kQAAM;oDAAC,WAAU;;;;;;8DAClB,gSAAC;8DAAE;;;;;;;;;;;mDAIP,YAAY;sDACZ,gSAAC;4CAAI,WAAU;sDACZ,UAAU,MAAM,GAAG,IAClB,UAAU,GAAG,CAAC,CAAA,sBACZ,gSAAC;oDAAmB,WAAU;8DAC3B,gBAAgB,OAAO;mDADhB,MAAM,EAAE;;;;0EAKpB,gSAAC;gDAAI,WAAU;;kEACb,gSAAC,kQAAM;wDAAC,WAAU;;;;;;kEAClB,gSAAC;kEAAE;;;;;;kEACH,gSAAC,8LAAM;wDAAC,SAAQ;wDAAO,SAAS,IAAM,kBAAkB;kEAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAUlF,gSAAC,mPAAiB;wBAAC,WAAU;;;;;;oBAG5B,+BACC,gSAAC,+OAAK;wBAAC,aAAa;wBAAI,SAAS;kCAC/B,cAAA,gSAAC;4BAAI,WAAU;;8CACb,gSAAC,0MAAU;oCAAC,WAAU;;sDACpB,gSAAC;4CAAI,WAAU;;8DACb,gSAAC;oDAAI,WAAW,CAAC,yBAAyB,EAAE,UAAU,CAAC,cAAc,IAAI,CAAC,EAAE;8DAC1E,cAAA,gSAAC;wDAAU,MAAM,cAAc,IAAI;;;;;;;;;;;8DAErC,gSAAC;oDAAI,WAAU;;sEACb,gSAAC;4DAAG,WAAU;sEAAuD,cAAc,IAAI;;;;;;sEACvF,gSAAC;4DAAE,WAAU;sEAAqE,UAAU,CAAC,cAAc,IAAI,CAAC;;;;;;;;;;;;;;;;;;sDAIpH,gSAAC;4CAAI,WAAU;;gDACZ,cAAc,WAAW,kBACxB,gSAAC;oDAAI,WAAU;;sEACb,gSAAC;4DAAG,WAAU;sEAA2D;;;;;;sEACzE,gSAAC;4DAAE,WAAU;sEACV,cAAc,WAAW;;;;;;;;;;;;gDAK/B,cAAc,QAAQ,kBACrB,gSAAC;oDAAI,WAAU;;sEACb,gSAAC;4DAAG,WAAU;sEAA2D;;;;;;sEACzE,gSAAC;4DAAI,WAAU;;gEACZ,cAAc,QAAQ,CAAC,QAAQ,kBAC9B,gSAAC;oEAAI,WAAU;;sFACb,gSAAC;4EAAK,WAAU;sFAA4C;;;;;;sFAC5D,gSAAC;4EAAK,WAAU;sFAAsB,cAAc,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK;;;;;;;;;;;;gEAGtF,cAAc,QAAQ,CAAC,UAAU,kBAChC,gSAAC;oEAAI,WAAU;;sFACb,gSAAC;4EAAK,WAAU;sFAA4C;;;;;;sFAC5D,gSAAC;4EAAK,WAAW,CAAC,+BAA+B,EAAE,cAAc,QAAQ,CAAC,UAAU,KAAK,SAAS,iBAChG,cAAc,QAAQ,CAAC,UAAU,KAAK,iBAAiB,oBACrD,kBACA;sFACD,cAAc,QAAQ,CAAC,UAAU;;;;;;;;;;;;gEAIvC,cAAc,QAAQ,CAAC,QAAQ,kBAC9B,gSAAC;oEAAI,WAAU;;sFACb,gSAAC;4EAAK,WAAU;sFAA4C;;;;;;sFAC5D,gSAAC;4EAAK,WAAU;;gFAAW,cAAc,QAAQ,CAAC,QAAQ;gFAAC;;;;;;;;;;;;;gEAG9D,cAAc,QAAQ,CAAC,KAAK,kBAC3B,gSAAC;oEAAI,WAAU;;sFACb,gSAAC;4EAAK,WAAU;sFAA4C;;;;;;sFAC5D,gSAAC;4EAAK,WAAU;sFAAsB,cAAc,QAAQ,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;gDAO3E,cAAc,OAAO,kBACpB,gSAAC;oDAAI,WAAU;;sEACb,gSAAC;4DAAG,WAAU;sEAA2D;;;;;;sEACzE,gSAAC;4DAAI,WAAU;sEACZ,cAAc,OAAO;;;;;;;;;;;;;;;;;;;;;;;;8CAOhC,gSAAC;oCAAI,WAAU;;sDACb,gSAAC;4CAAI,WAAU;;8DACb,gSAAC;;wDAAK;wDAAS,cAAc,SAAS,CAAC,kBAAkB;;;;;;;8DACzD,gSAAC;;wDAAK;wDAAS,cAAc,SAAS,CAAC,kBAAkB;;;;;;;;;;;;;sDAE3D,gSAAC;4CAAI,WAAU;;8DACb,gSAAC,8LAAM;oDAAC,SAAQ;oDAAU,WAAU;;sEAClC,gSAAC,qQAAI;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;8DAEnC,gSAAC,8LAAM;oDAAC,WAAU;;sEAChB,gSAAC,yPAAG;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAU9C,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;wBAAI,WAAU;;0CACb,gSAAC;;oCAAM,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,WAAW,MAAM;oCAAC;;;;;;;0CACvD,gSAAC;;oCAAM,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,UAAU,MAAM;oCAAC;;;;;;;0CACtD,gSAAC;;oCAAM,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,QAAQ,MAAM;oCAAC;;;;;;;;;;;;;kCAEtD,gSAAC;;4BAAM,OAAO,MAAM;4BAAC;;;;;;;;;;;;;YAItB,+BACC,gSAAC;gBAAI,WAAU;;kCACb,gSAAC;wBAAK,WAAU;;4BAAyB,eAAe,IAAI;4BAAC;;;;;;;kCAC7D,gSAAC,8LAAM;wBAAC,SAAS;wBAAwB,UAAU,eAAe,IAAI,KAAK;wBAAG,MAAK;wBAAK,WAAU;;4BAAoC;4BAC5H,eAAe,IAAI,GAAG,IAAI,CAAC,CAAC,EAAE,eAAe,IAAI,CAAC,CAAC,CAAC,GAAG;;;;;;;;;;;;;;;;;;;AAM3E"}},
    {"offset": {"line": 1536, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/course-dev-panel.tsx"],"sourcesContent":["// @ts-nocheck\n'use client'\n\n/**\n * Course Development Panel - Phase 1 Enhancements\n * Features: Quick Start Templates, Smart Defaults, Quick Assign\n */\n\nimport { useState, useEffect, useTransition, startTransition } from 'react'\nimport {\n  getLibraryTasks,\n  saveLibraryTask,\n  toggleFavoriteTask,\n  deleteLibraryTask,\n  incrementTaskUsage,\n  migrateLegacyTasks\n} from '@/app/actions/library'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport {\n  Wand2,\n  Users,\n  CheckCircle,\n  Loader2,\n  Send,\n  Save,\n  Trash2,\n  Edit3,\n  GraduationCap,\n  BookOpen,\n  FileQuestion,\n  Clock,\n  BarChart3,\n  Sparkles,\n  LayoutGrid,\n  List,\n  Zap,\n  Heart,\n  Star,\n  Stethoscope,\n  Eye,\n  Copy,\n  Square,\n  CheckSquare,\n\n  Library,\n  Search,\n  FolderHeart,\n  UploadCloud,\n  FileText,\n  FileUp,\n  X,\n  Target\n} from 'lucide-react'\nimport { AssetsPanel } from './assets-panel'\nimport { toast } from 'sonner'\nimport { MemoryService } from '@/lib/ai/memory-service'\n\ninterface CourseDevPanelProps {\n  roomId: string\n  students: {\n    id: string\n    name: string\n    userId: string\n    status?: string\n  }[]\n}\n\n// Phase 3: Library Task Interface\ninterface LibraryTask {\n  id: string\n  question: string\n  type: 'multiple_choice' | 'short_answer'\n  options?: string[]\n  correctAnswer?: string\n  explanation: string\n  difficulty: string\n  subject: string\n  topics: string[]\n  savedAt: string\n  usedCount: number\n  isFavorite: boolean\n  lastUsed?: string\n}\n\ninterface Library {\n  tasks: LibraryTask[]\n  version: number\n}\n\n// Quick Start Templates\nconst QUICK_TEMPLATES = [\n  {\n    id: 'math-algebra',\n    name: 'Math: Algebra Practice',\n    subject: 'Mathematics',\n    topics: 'Algebra, Linear Equations, Solving for Variables',\n    difficulty: 'intermediate' as const,\n    count: 5,\n    icon: 'üìê',\n  },\n  {\n    id: 'science-forces',\n    name: 'Science: Forces & Motion',\n    subject: 'Physics',\n    topics: 'Newton\\'s Laws, Force, Acceleration, Friction',\n    difficulty: 'intermediate' as const,\n    count: 8,\n    icon: '‚öõÔ∏è',\n  },\n  {\n    id: 'reading-comp',\n    name: 'Reading Comprehension',\n    subject: 'English',\n    topics: 'Main Idea, Inference, Context Clues',\n    difficulty: 'beginner' as const,\n    count: 6,\n    icon: 'üìö',\n  },\n  {\n    id: 'math-geometry',\n    name: 'Geometry Basics',\n    subject: 'Mathematics',\n    topics: 'Area, Perimeter, Circles, Triangles',\n    difficulty: 'beginner' as const,\n    count: 7,\n    icon: 'üìè',\n  },\n]\n\nexport function CourseDevPanel({ roomId, students }: CourseDevPanelProps) {\n  const [step, setStep] = useState<'generate' | 'review' | 'assign'>('generate')\n  const [isGenerating, setIsGenerating] = useState(false)\n\n  // Phase 2: Inline editing\n  const [editingTaskId, setEditingTaskId] = useState<string | null>(null)\n\n  // Phase 2: Batch operations\n  const [selectedTasks, setSelectedTasks] = useState<Set<string>>(new Set())\n  // Phase 4: Difficulty Auto-Calibration\n  // No new state needed, uses existing config.difficulty\n\n  // Phase 5: Import & Digitization\n  const [showImport, setShowImport] = useState(false)\n  const [isAnalyzing, setIsAnalyzing] = useState(false)\n  const [analysisProgress, setAnalysisProgress] = useState(0)\n  const [importedTasks, setImportedTasks] = useState<any[]>([])\n  const [importFile, setImportFile] = useState<File | null>(null)\n\n  // Phase 14: Source Selection & Assets Integration\n  const [sourceType, setSourceType] = useState<'lesson_transcript' | 'uploaded_documents' | 'all_sources'>('lesson_transcript')\n  const [showAssetsPanel, setShowAssetsPanel] = useState(false)\n  const [selectedAssets, setSelectedAssets] = useState<any[]>([])\n\n  // Phase 6: Assessment Builder\n  const [assignmentMode, setAssignmentMode] = useState<'practice' | 'exam'>('practice')\n  const [examConfig, setExamConfig] = useState({\n    title: '',\n    timeLimit: 30, // minutes\n    passingScore: 70, // percentage\n    shuffle: true\n  })\n\n  const [generatedTasks, setGeneratedTasks] = useState<any[]>([])\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid')\n\n  // Phase 3: Task Library\n  const [showLibrary, setShowLibrary] = useState(false)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [showFavoritesOnly, setShowFavoritesOnly] = useState(false)\n  const [library, setLibrary] = useState<Library>({ tasks: [], version: 1 })\n\n  const [config, setConfig] = useState({\n    subject: '',\n    topics: '',\n    difficulty: 'intermediate',\n    count: 5,\n    distributionMode: 'personalized' as 'uniform' | 'personalized' | 'clustered',\n    questionType: 'mixed' as 'mixed' | 'multiple_choice' | 'short_answer'\n  })\n\n  // Smart Defaults: Load from localStorage on mount\n  useEffect(() => {\n    const loadSmartDefaults = () => {\n      try {\n        const saved = localStorage.getItem('coursedev-preferences')\n        if (saved) {\n          const prefs = JSON.parse(saved)\n          // Apply smart defaults\n          if (prefs.recentSubject) {\n            setConfig(prev => ({\n              ...prev,\n              subject: prefs.recentSubject,\n              topics: prefs.recentTopics || '',\n              difficulty: prefs.preferredDifficulty || 'intermediate',\n            }))\n          }\n        }\n      } catch (error) {\n        console.error('Failed to load preferences:', error)\n      }\n    }\n    loadSmartDefaults()\n  }, [])\n\n  // Save preferences when generating\n  const savePreferences = () => {\n    try {\n      localStorage.setItem('coursedev-preferences', JSON.stringify({\n        recentSubject: config.subject,\n        recentTopics: config.topics,\n        preferredDifficulty: config.difficulty,\n        lastUsed: new Date().toISOString(),\n      }))\n    } catch (error) {\n      console.error('Failed to save preferences:', error)\n    }\n  }\n\n  const handleGenerate = async () => {\n    if (!config.subject || !config.topics) {\n      toast.error('Please fill in subject and topics')\n      return\n    }\n\n    // Phase 14: Validate source-specific requirements\n    if (sourceType === 'uploaded_documents' && selectedAssets.length === 0) {\n      toast.error('Please select materials', {\n        description: 'Click \"Browse & Select Materials\" to choose documents'\n      })\n      return\n    }\n\n    setIsGenerating(true)\n    savePreferences() // Save preferences for smart defaults\n\n    // Phase 14: Build context based on source type\n    let contextPrompt = ''\n\n    if (sourceType === 'lesson_transcript') {\n      contextPrompt = `Generate tasks based on today's classroom lesson about ${config.subject}. `\n      contextPrompt += `Focus on the key concepts covered: ${config.topics}. `\n\n      // Fetch actual transcript from memory\n      const transcript = MemoryService.getTranscript(roomId)\n      if (transcript.length > 0) {\n        const transcriptText = transcript.map((t: any) => `${t.speaker}: ${t.text}`).join('\\n')\n        contextPrompt += `\\nLATEST TRANSCRIPT:\\n${transcriptText}\\n`\n      } else {\n        contextPrompt += `\\n(No active transcript found for this session yet)\\n`\n      }\n\n      contextPrompt += `Use the lesson content as the primary source. `\n    } else if (sourceType === 'uploaded_documents') {\n      contextPrompt = `Generate tasks based on the following uploaded materials:\\n`\n\n      // Include selected asset content\n      selectedAssets.forEach(asset => {\n        contextPrompt += `\\n--- Document: ${asset.name} ---\\n`\n        contextPrompt += asset.content || asset.description || '(No text content available)'\n        contextPrompt += `\\n----------------\\n`\n      })\n\n      contextPrompt += `\\nSubject: ${config.subject}. Topics to cover: ${config.topics}. `\n      contextPrompt += `Use only the content from these documents. `\n    } else if (sourceType === 'all_sources') {\n      contextPrompt = `Generate comprehensive tasks for ${config.subject} covering ${config.topics}. `\n\n      // Combine Transcript\n      const transcript = MemoryService.getTranscript(roomId)\n      if (transcript.length > 0) {\n        const transcriptText = transcript.map((t: any) => `${t.speaker}: ${t.text}`).join('\\n')\n        contextPrompt += `\\nLATEST TRANSCRIPT:\\n${transcriptText}\\n`\n      }\n\n      // Combine Docs\n      if (selectedAssets.length > 0) {\n        contextPrompt += `\\nREFERENCE MATERIALS:\\n`\n        selectedAssets.forEach(asset => {\n          contextPrompt += `${asset.name}: ${asset.content || asset.description || 'No content'}\\n`\n        })\n      }\n\n      contextPrompt += `Use lesson content, provided materials, and your general knowledge. `\n    }\n\n    // Simulate generation with context\n    setTimeout(() => {\n      const mockTasks = Array.from({ length: config.count }, (_, i) => {\n        let type = config.questionType\n        if (type === 'mixed') {\n          type = i % 2 === 0 ? 'multiple_choice' : 'short_answer'\n        }\n\n        // Add source indicator to question for demo\n        const sourceIndicator = sourceType === 'lesson_transcript'\n          ? '[From Lesson]'\n          : sourceType === 'uploaded_documents'\n            ? '[From Docs]'\n            : '[All Sources]'\n\n        return {\n          id: `task-${Date.now()}-${i}`,\n          type: type === 'multiple_choice' ? 'multiple_choice' : 'short_answer',\n          question: `${sourceIndicator} Sample ${config.subject} question ${i + 1} (${type}) about ${config.topics.split(',')[0]?.trim() || 'topic'}`,\n          options: type === 'multiple_choice' ? ['Option A', 'Option B', 'Option C', 'Option D'] : undefined,\n          correctAnswer: type === 'multiple_choice' ? 'Option A' : undefined,\n          explanation: `This tests understanding of core concepts. ${contextPrompt.substring(0, 100)}...`,\n          difficulty: config.difficulty,\n        }\n      })\n      setGeneratedTasks(mockTasks)\n      setStep('review')\n      setIsGenerating(false)\n\n      // Enhanced success message showing source\n      const sourceLabel = sourceType === 'lesson_transcript'\n        ? 'lesson transcript'\n        : sourceType === 'uploaded_documents'\n          ? `${selectedAssets.length} document(s)`\n          : 'all sources'\n\n      toast.success(`Generated ${mockTasks.length} tasks from ${sourceLabel}`)\n    }, 1500)\n  }\n\n  // Quick Assign: Generate and assign in one click\n  const handleQuickAssign = async (target: 'all' | 'struggling') => {\n    if (!config.subject || !config.topics) {\n      toast.error('Please fill in subject and topics first')\n      return\n    }\n\n    setIsGenerating(true)\n    savePreferences()\n\n    // Simulate generation + assignment\n    setTimeout(() => {\n      const taskCount = config.count\n      const targetStudents = target === 'all' ? students : students.filter(s => s.status === 'struggling')\n\n      toast.success(\n        `‚úÖ Generated ${taskCount} tasks and assigned to ${targetStudents.length} student${targetStudents.length !== 1 ? 's' : ''}!`,\n        {\n          description: target === 'struggling' ? 'Helping struggling students' : 'Assigned to all students',\n          duration: 4000,\n        }\n      )\n\n      setIsGenerating(false)\n    }, 1500)\n  }\n\n  // Load template\n  const loadTemplate = (template: typeof QUICK_TEMPLATES[0]) => {\n    setConfig(prev => ({\n      ...prev,\n      subject: template.subject,\n      topics: template.topics,\n      difficulty: template.difficulty as 'beginner' | 'intermediate' | 'advanced',\n      count: template.count,\n      distributionMode: 'personalized',\n    }))\n    toast.success(`Loaded template: ${template.name}`)\n  }\n\n  // Phase 2: Update task\n  const updateTask = (taskId: string, updates: Partial<any>) => {\n    setGeneratedTasks(prev => prev.map(task =>\n      task.id === taskId ? { ...task, ...updates } : task\n    ))\n  }\n\n  // Phase 2: Duplicate task\n  const duplicateTask = (taskId: string) => {\n    const task = generatedTasks.find(t => t.id === taskId)\n    if (task) {\n      const newTask = { ...task, id: `task-${Date.now()}` }\n      setGeneratedTasks(prev => [...prev, newTask])\n      toast.success('Task duplicated')\n    }\n  }\n\n  // Phase 2: Delete task\n  const deleteTask = (taskId: string) => {\n    setGeneratedTasks(prev => prev.filter(t => t.id !== taskId))\n    setSelectedTasks(prev => {\n      const next = new Set(prev)\n      next.delete(taskId)\n      return next\n    })\n    toast.success('Task deleted')\n  }\n\n  // Phase 2: Batch operations\n  const toggleSelectAll = () => {\n    if (selectedTasks.size === generatedTasks.length) {\n      setSelectedTasks(new Set())\n    } else {\n      setSelectedTasks(new Set(generatedTasks.map(t => t.id)))\n    }\n  }\n\n  const bulkDelete = () => {\n    setGeneratedTasks(prev => prev.filter(t => !selectedTasks.has(t.id)))\n    toast.success(`Deleted ${selectedTasks.size} tasks`)\n    setSelectedTasks(new Set())\n  }\n\n  const bulkSetDifficulty = (difficulty: string) => {\n    setGeneratedTasks(prev => prev.map(task =>\n      selectedTasks.has(task.id) ? { ...task, difficulty } : task\n    ))\n    toast.success(`Updated ${selectedTasks.size} tasks to ${difficulty}`)\n    setSelectedTasks(new Set())\n  }\n\n  // Phase 2: Generate sample preview\n  const generatePreview = () => {\n    if (!config.subject || !config.topics) return null\n    const topic = config.topics.split(',')[0]?.trim() || 'topic'\n    return `Solve for x: 2x + 5 = 13 (${topic})`\n  }\n\n  // Phase 3: Library helpers\n\n\n  // Phase 3: Save to library (Server Action)\n  const saveToLibrary = async (task: any) => {\n    startTransition(async () => {\n      try {\n        const newTask = await saveLibraryTask({\n          ...task,\n          subject: config.subject,\n          topics: config.topics.split(',').map(t => t.trim())\n        })\n\n        setLibrary(prev => ({\n          ...prev,\n          tasks: [...prev.tasks, newTask as any]\n        }))\n        toast.success('Task saved to library')\n      } catch (error) {\n        toast.error('Failed to save task')\n      }\n    })\n  }\n\n  // Phase 3: Add from library (Server Action)\n  const addFromLibrary = async (libraryTask: LibraryTask) => {\n    const newTask = {\n      ...libraryTask,\n      id: `task-${Date.now()}`,\n    }\n\n    setGeneratedTasks(prev => [...prev, newTask])\n\n    // Update usage stats on server\n    startTransition(async () => {\n      await incrementTaskUsage(libraryTask.id)\n\n      // Optimistic update\n      setLibrary(prev => ({\n        ...prev,\n        tasks: prev.tasks.map(t =>\n          t.id === libraryTask.id\n            ? { ...t, usedCount: t.usedCount + 1, lastUsed: new Date().toISOString() }\n            : t\n        )\n      }))\n    })\n\n    toast.success('Task added from library')\n  }\n\n  // Phase 3: Toggle favorite (Server Action)\n  const toggleFavorite = async (taskId: string) => {\n    // Optimistic update\n    setLibrary(prev => ({\n      ...prev,\n      tasks: prev.tasks.map(t =>\n        t.id === taskId ? { ...t, isFavorite: !t.isFavorite } : t\n      )\n    }))\n\n    startTransition(async () => {\n      try {\n        await toggleFavoriteTask(taskId)\n      } catch (error) {\n        // Revert on failure\n        setLibrary(prev => ({\n          ...prev,\n          tasks: prev.tasks.map(t =>\n            t.id === taskId ? { ...t, isFavorite: !t.isFavorite } : t\n          )\n        }))\n        toast.error('Failed to update favorite')\n      }\n    })\n  }\n\n  // Phase 3: Delete from library (Server Action)\n  const deleteFromLibrary = async (taskId: string) => {\n    // Optimistic update\n    const previousLibrary = library\n    setLibrary(prev => ({\n      ...prev,\n      tasks: prev.tasks.filter(t => t.id !== taskId)\n    }))\n\n    startTransition(async () => {\n      try {\n        await deleteLibraryTask(taskId)\n        toast.success('Task removed from library')\n      } catch (error) {\n        // Revert\n        setLibrary(previousLibrary)\n        toast.error('Failed to delete task')\n      }\n    })\n  }\n\n  // Phase 3: Get filtered library tasks\n  const getFilteredLibraryTasks = () => {\n    let tasks = library.tasks\n\n    if (showFavoritesOnly) {\n      tasks = tasks.filter(t => t.isFavorite)\n    }\n\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      tasks = tasks.filter(t =>\n        t.question.toLowerCase().includes(query) ||\n        t.subject.toLowerCase().includes(query) ||\n        t.topics.some(topic => topic.toLowerCase().includes(query))\n      )\n    }\n\n    // Sort by favorites first, then by usage\n    return tasks.sort((a, b) => {\n      if (a.isFavorite !== b.isFavorite) {\n        return a.isFavorite ? -1 : 1\n      }\n      return b.usedCount - a.usedCount\n    })\n  }\n\n\n\n  // Phase 4: Auto-detect difficulty\n  const autoDetectDifficulty = () => {\n    const total = students.length\n    if (total === 0) return\n\n    const struggling = students.filter(s => s.status === 'struggling').length\n    const onTrack = students.filter(s => s.status === 'on_track').length\n\n    let suggestedDifficulty = 'intermediate'\n    let reasoning = ''\n\n    if (struggling / total > 0.3) {\n      suggestedDifficulty = 'beginner'\n      reasoning = `Detected ${Math.round((struggling / total) * 100)}% struggling students. Suggesting Beginner difficulty.`\n    } else if (onTrack / total > 0.6) {\n      suggestedDifficulty = 'advanced'\n      reasoning = `Detected ${Math.round((onTrack / total) * 100)}% on-track students. Suggesting Advanced difficulty.`\n    } else {\n      suggestedDifficulty = 'intermediate'\n      reasoning = 'Class performance is balanced. Suggesting Intermediate difficulty.'\n    }\n\n    setConfig(prev => ({ ...prev, difficulty: suggestedDifficulty }))\n    toast.success('Difficulty Adjusted', { description: reasoning })\n  }\n\n  // Phase 5: Import & Digitization Logic\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('File too large', { description: 'Please upload a file smaller than 5MB' })\n      return\n    }\n\n    setImportFile(file)\n    simulateOCR(file)\n  }\n\n  const simulateOCR = async (file: File) => {\n    setIsAnalyzing(true)\n    setAnalysisProgress(0)\n\n    // Simulate progress\n    const interval = setInterval(() => {\n      setAnalysisProgress(prev => {\n        if (prev >= 90) {\n          clearInterval(interval)\n          return 90\n        }\n        return prev + 10\n      })\n    }, 200)\n\n    // Simulate analysis time (2s)\n    await new Promise(resolve => setTimeout(resolve, 2000))\n    clearInterval(interval)\n    setAnalysisProgress(100)\n\n    // Mock results based on filename\n    const mockTasks = [\n      {\n        id: `imported-${Date.now()}-1`,\n        question: \"What is the primary function of the mitochondria?\",\n        type: \"multiple_choice\",\n        options: [\"Energy production\", \"Protein synthesis\", \"Waste disposal\", \"Cell division\"],\n        correctAnswer: \"Energy production\",\n        subject: \"Biology\",\n        topics: [\"Cell Biology\"],\n        difficulty: \"intermediate\"\n      },\n      {\n        id: `imported-${Date.now()}-2`,\n        question: \"Describe the process of osmosis.\",\n        type: \"short_answer\",\n        subject: \"Biology\",\n        topics: [\"Cell Biology\"],\n        difficulty: \"intermediate\"\n      },\n      {\n        id: `imported-${Date.now()}-3`,\n        question: \"Which organelle is known as the 'brain' of the cell?\",\n        type: \"multiple_choice\",\n        options: [\"Nucleus\", \"Ribosome\", \"Golgi apparatus\", \"Endoplasmic reticulum\"],\n        correctAnswer: \"Nucleus\",\n        subject: \"Biology\",\n        topics: [\"Cell Biology\"],\n        difficulty: \"beginner\"\n      }\n    ]\n\n    setImportedTasks(mockTasks)\n    setIsAnalyzing(false)\n    toast.success('Analysis Complete', { description: `Extracted ${mockTasks.length} questions from ${file.name}` })\n  }\n\n  const importExtractedTasks = () => {\n    setGeneratedTasks(prev => [...prev, ...importedTasks])\n    setShowImport(false)\n    setImportedTasks([])\n    setImportFile(null)\n    setStep('review')\n    toast.success('Import Successful', { description: `Added ${importedTasks.length} tasks to your set` })\n  }\n\n  const getStatusCounts = () => ({\n    total: students.length,\n    onTrack: students.filter(s => s.status === 'on_track').length,\n    needHelp: students.filter(s => s.status === 'needs_help').length,\n    struggling: students.filter(s => s.status === 'struggling').length,\n  })\n\n  const counts = getStatusCounts()\n\n  // Phase 14: Handle Assets Selection\n  const handleAssetsSelect = (assets: any[]) => {\n    setSelectedAssets(assets)\n    setShowAssetsPanel(false)\n    toast.success(`Selected ${assets.length} material(s)`, {\n      description: 'Assets ready for AI task generation'\n    })\n  }\n\n  return (\n    <div className=\"h-full flex flex-col bg-gray-900 text-white\">\n      {/* Progress Steps */}\n      <div className=\"px-6 py-4 border-b border-gray-700 bg-gray-800\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => setStep('generate')}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${step === 'generate' ? 'bg-blue-600 text-white' : 'text-gray-400 hover:text-white'\n              }`}\n          >\n            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-sm ${step === 'generate' ? 'bg-white text-blue-600' : 'bg-gray-700'\n              }`}>1</div>\n            <span className=\"font-medium\">Configure</span>\n          </button>\n          <div className=\"w-8 h-px bg-gray-700\" />\n          <button\n            onClick={() => generatedTasks.length > 0 && setStep('review')}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${step === 'review' ? 'bg-blue-600 text-white' : generatedTasks.length > 0 ? 'text-gray-400 hover:text-white' : 'text-gray-600 cursor-not-allowed'\n              }`}\n          >\n            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-sm ${step === 'review' ? 'bg-white text-blue-600' : generatedTasks.length > 0 ? 'bg-gray-700' : 'bg-gray-800'\n              }`}>2</div>\n            <span className=\"font-medium\">Review</span>\n            {generatedTasks.length > 0 && (\n              <Badge className=\"bg-blue-500\">{generatedTasks.length}</Badge>\n            )}\n          </button>\n          <div className=\"w-8 h-px bg-gray-700\" />\n          <button\n            onClick={() => generatedTasks.length > 0 && setStep('assign')}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${step === 'assign' ? 'bg-blue-600 text-white' : generatedTasks.length > 0 ? 'text-gray-400 hover:text-white' : 'text-gray-600 cursor-not-allowed'\n              }`}\n          >\n            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-sm ${step === 'assign' ? 'bg-white text-blue-600' : generatedTasks.length > 0 ? 'bg-gray-700' : 'bg-gray-800'\n              }`}>3</div>\n            <span className=\"font-medium\">Assign</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        {step === 'generate' && (\n          <div className=\"h-full flex\">\n            {/* Configuration Form */}\n            <div className=\"flex-1 p-6 overflow-auto\">\n              <div className=\"max-w-3xl mx-auto space-y-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold mb-2\">Task Configuration</h2>\n                  <p className=\"text-gray-400\">Configure AI to generate personalized learning tasks</p>\n                </div>\n\n                {/* Quick Start Templates */}\n                <Card className=\"bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-700\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white text-base flex items-center gap-2\">\n                      <Sparkles className=\"h-5 w-5 text-yellow-400\" />\n                      Quick Start Templates\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-300\">\n                      Load pre-configured templates to get started instantly\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"grid grid-cols-2 gap-3\">\n                      {QUICK_TEMPLATES.map((template) => (\n                        <button\n                          key={template.id}\n                          onClick={() => loadTemplate(template)}\n                          className=\"p-4 rounded-lg border-2 border-gray-600 bg-gray-800 hover:border-blue-500 hover:bg-gray-700 transition-all text-left group\"\n                        >\n                          <div className=\"flex items-center gap-3 mb-2\">\n                            <span className=\"text-2xl\">{template.icon}</span>\n                            <div className=\"flex-1\">\n                              <div className=\"font-semibold text-sm group-hover:text-blue-400 transition-colors\">\n                                {template.name}\n                              </div>\n                              <div className=\"text-xs text-gray-400\">\n                                {template.count} tasks ‚Ä¢ {template.difficulty}\n                              </div>\n                            </div>\n                          </div>\n                        </button>\n                      ))}\n\n                      {/* Phase 14: Browse Assets Card */}\n                      <button\n                        onClick={() => setShowAssetsPanel(true)}\n                        className=\"p-4 rounded-lg border-2 border-dashed border-gray-600 bg-gray-800/50 hover:border-purple-500 hover:bg-gray-800 transition-all text-left group flex flex-col justify-center items-center gap-2\"\n                      >\n                        <div className=\"w-12 h-12 rounded-full bg-purple-900/30 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                          <Library className=\"h-6 w-6 text-purple-400\" />\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"font-semibold text-sm group-hover:text-purple-400 transition-colors\">\n                            Browse & Select Materials\n                          </div>\n                          <div className=\"text-xs text-gray-400\">\n                            From Assets Panel\n                          </div>\n                        </div>\n                      </button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Divider */}\n                <div className=\"relative\">\n                  <div className=\"absolute inset-0 flex items-center\">\n                    <div className=\"w-full border-t border-gray-700\"></div>\n                  </div>\n                  <div className=\"relative flex justify-center text-sm\">\n                    <span className=\"px-4 bg-gray-900 text-gray-400\">OR BUILD CUSTOM</span>\n                  </div>\n                </div>\n\n                {/* Phase 14: AI Source Selection */}\n                <Card className=\"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border-purple-700/50\">\n                  <CardHeader>\n                    <CardTitle className=\"text-white text-base flex items-center gap-2\">\n                      <Target className=\"h-5 w-5 text-purple-400\" />\n                      AI Source Selection\n                    </CardTitle>\n                    <CardDescription className=\"text-gray-300\">\n                      Choose where AI should generate tasks from\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"space-y-3\">\n                      {/* Lesson Transcript Option */}\n                      <button\n                        onClick={() => setSourceType('lesson_transcript')}\n                        className={`w-full p-4 rounded-lg border-2 transition-all text-left ${sourceType === 'lesson_transcript'\n                          ? 'border-purple-500 bg-purple-900/30'\n                          : 'border-gray-600 bg-gray-800 hover:border-gray-500'\n                          }`}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${sourceType === 'lesson_transcript'\n                            ? 'border-purple-500'\n                            : 'border-gray-500'\n                            }`}>\n                            {sourceType === 'lesson_transcript' && (\n                              <div className=\"w-3 h-3 rounded-full bg-purple-500\"></div>\n                            )}\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"font-semibold text-white\">Lesson Transcript</div>\n                            <div className=\"text-sm text-gray-400\">Generate from today's classroom session</div>\n                          </div>\n                        </div>\n                      </button>\n\n                      {/* Uploaded Documents Option */}\n                      <button\n                        onClick={() => setSourceType('uploaded_documents')}\n                        className={`w-full p-4 rounded-lg border-2 transition-all text-left ${sourceType === 'uploaded_documents'\n                          ? 'border-purple-500 bg-purple-900/30'\n                          : 'border-gray-600 bg-gray-800 hover:border-gray-500'\n                          }`}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${sourceType === 'uploaded_documents'\n                            ? 'border-purple-500'\n                            : 'border-gray-500'\n                            }`}>\n                            {sourceType === 'uploaded_documents' && (\n                              <div className=\"w-3 h-3 rounded-full bg-purple-500\"></div>\n                            )}\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"font-semibold text-white\">Uploaded Documents</div>\n                            <div className=\"text-sm text-gray-400\">\n                              Generate from selected materials\n                              {selectedAssets.length > 0 && ` (${selectedAssets.length} selected)`}\n                            </div>\n                          </div>\n                        </div>\n                      </button>\n\n                      {/* All Sources Option */}\n                      <button\n                        onClick={() => setSourceType('all_sources')}\n                        className={`w-full p-4 rounded-lg border-2 transition-all text-left ${sourceType === 'all_sources'\n                          ? 'border-purple-500 bg-purple-900/30'\n                          : 'border-gray-600 bg-gray-800 hover:border-gray-500'\n                          }`}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${sourceType === 'all_sources'\n                            ? 'border-purple-500'\n                            : 'border-gray-500'\n                            }`}>\n                            {sourceType === 'all_sources' && (\n                              <div className=\"w-3 h-3 rounded-full bg-purple-500\"></div>\n                            )}\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"font-semibold text-white\">All Sources</div>\n                            <div className=\"text-sm text-gray-400\">Lesson + Documents + General Knowledge</div>\n                          </div>\n                        </div>\n                      </button>\n                    </div>\n\n                    {/* Selected Materials Display */}\n                    {selectedAssets.length > 0 && (\n                      <div className=\"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <FileText className=\"h-4 w-4 text-purple-400\" />\n                          <span className=\"text-sm font-medium text-gray-300\">Selected Materials:</span>\n                        </div>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {selectedAssets.map((asset, idx) => (\n                            <Badge key={idx} variant=\"outline\" className=\"bg-purple-900/30 text-purple-300 border-purple-700\">\n                              {asset.name || `Asset ${idx + 1}`}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <Card className=\"bg-gray-800 border-gray-700\">\n                    <CardHeader>\n                      <CardTitle className=\"text-white text-base flex items-center gap-2\">\n                        <BookOpen className=\"h-4 w-4 text-blue-400\" />\n                        Subject & Topics\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-gray-300\">Subject</Label>\n                        <Input\n                          placeholder=\"e.g., Mathematics\"\n                          value={config.subject}\n                          onChange={(e) => setConfig({ ...config, subject: e.target.value })}\n                          className=\"bg-gray-700 border-gray-600 text-white\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-gray-300\">Topics</Label>\n                        <Textarea\n                          placeholder=\"e.g., Algebra, Linear Equations, Quadratic Functions\"\n                          value={config.topics}\n                          onChange={(e) => setConfig({ ...config, topics: e.target.value })}\n                          className=\"bg-gray-700 border-gray-600 text-white min-h-[100px]\"\n                        />\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  <Card className=\"bg-gray-800 border-gray-700\">\n                    <CardHeader>\n                      <CardTitle className=\"text-white text-base flex items-center gap-2\">\n                        <BarChart3 className=\"h-4 w-4 text-green-400\" />\n                        Settings\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <Label className=\"text-gray-300\">Difficulty</Label>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={autoDetectDifficulty}\n                            className=\"h-6 text-xs text-blue-400 hover:text-blue-300 px-2\"\n                          >\n                            <Sparkles className=\"h-3 w-3 mr-1\" />\n                            Auto-detect\n                          </Button>\n                        </div>\n                        <Select\n                          value={config.difficulty}\n                          onValueChange={(v) => setConfig({ ...config, difficulty: v })}\n                        >\n                          <SelectTrigger className=\"bg-gray-700 border-gray-600 text-white\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"beginner\">Beginner</SelectItem>\n                            <SelectItem value=\"intermediate\">Intermediate</SelectItem>\n                            <SelectItem value=\"advanced\">Advanced</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-gray-300\">Distribution Mode</Label>\n                        <div className=\"grid grid-cols-1 gap-2\">\n                          {[\n                            { key: 'uniform', label: 'Same for all students' },\n                            { key: 'personalized', label: 'Personalized to each student' },\n                            { key: 'clustered', label: 'By performance cluster' },\n                          ].map(({ key, label }) => (\n                            <button\n                              key={key}\n                              onClick={() => setConfig({ ...config, distributionMode: key as any })}\n                              className={`p-3 rounded-lg border text-left transition-colors ${config.distributionMode === key\n                                ? 'border-blue-500 bg-blue-500/20'\n                                : 'border-gray-600 bg-gray-700 hover:bg-gray-600'\n                                }`}\n                            >\n                              <div className=\"flex items-center gap-2\">\n                                {config.distributionMode === key && (\n                                  <CheckCircle className=\"h-4 w-4 text-blue-400\" />\n                                )}\n                                <span className=\"text-sm\">{label}</span>\n                              </div>\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-gray-300\">Number of Tasks: {config.count}</Label>\n                        <input\n                          type=\"range\"\n                          min={1}\n                          max={20}\n                          value={config.count}\n                          onChange={(e) => setConfig({ ...config, count: parseInt(e.target.value) })}\n                          className=\"w-full\"\n                        />\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n\n                {/* Phase 2: Live Preview */}\n                {(config.subject || config.topics) && (\n                  <Card className=\"bg-gray-800 border-blue-600 border-2\">\n                    <CardHeader>\n                      <CardTitle className=\"text-white text-sm flex items-center gap-2\">\n                        <Eye className=\"h-4 w-4 text-blue-400\" />\n                        Live Preview\n                      </CardTitle>\n                      <CardDescription className=\"text-gray-400 text-xs\">\n                        Sample question based on your configuration\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"bg-gray-700 p-4 rounded-lg\">\n                        <p className=\"text-sm text-gray-300 mb-3\">\n                          {generatePreview()}\n                        </p>\n                        <div className=\"space-y-1.5\">\n                          <div className=\"text-xs px-3 py-2 rounded bg-gray-600 text-gray-300\">A. x = 3</div>\n                          <div className=\"text-xs px-3 py-2 rounded bg-green-900/50 border border-green-700 text-green-300\">B. x = 4 ‚úì</div>\n                          <div className=\"text-xs px-3 py-2 rounded bg-gray-600 text-gray-300\">C. x = 8</div>\n                          <div className=\"text-xs px-3 py-2 rounded bg-gray-600 text-gray-300\">D. x = 9</div>\n                        </div>\n                        <p className=\"text-xs text-gray-500 mt-3\">\n                          üí° This is a sample. Actual questions will vary.\n                        </p>\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n\n                <Button\n                  onClick={handleGenerate}\n                  disabled={isGenerating || !config.subject || !config.topics}\n                  className=\"w-full h-12 text-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\"\n                >\n                  {isGenerating ? (\n                    <>\n                      <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />\n                      Generating Tasks...\n                    </>\n                  ) : (\n                    <>\n                      <Sparkles className=\"h-5 w-5 mr-2\" />\n                      Generate {config.count} Tasks\n                    </>\n                  )}\n                </Button>\n\n                {/* Quick Assign Shortcuts - Phase 1 Feature */}\n                <div className=\"space-y-2\">\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => handleQuickAssign('all')}\n                      disabled={isGenerating || !config.subject || !config.topics}\n                      className=\"h-10 border-blue-600 text-blue-400 hover:bg-blue-600/20\"\n                    >\n                      <Zap className=\"h-4 w-4 mr-2\" />\n                      Quick Assign to All\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => handleQuickAssign('struggling')}\n                      disabled={isGenerating || !config.subject || !config.topics || counts.struggling === 0}\n                      className=\"h-10 border-red-600 text-red-400 hover:bg-red-600/20\"\n                    >\n                      <Heart className=\"h-4 w-4 mr-2\" />\n                      Help Struggling {counts.struggling > 0 && `(${counts.struggling})`}\n                    </Button>\n                  </div>\n                  <p className=\"text-xs text-center text-gray-500\">\n                    ‚ö° Quick Assign skips review and assigns tasks immediately\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Student Summary Sidebar */}\n            <div className=\"w-72 border-l border-gray-700 bg-gray-800 p-6\">\n              <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\n                <Users className=\"h-4 w-4\" />\n                Students ({counts.total})\n              </h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between p-3 bg-green-900/30 rounded-lg\">\n                  <span className=\"text-green-400\">On Track</span>\n                  <span className=\"font-bold text-green-400\">{counts.onTrack}</span>\n                </div>\n                <div className=\"flex items-center justify-between p-3 bg-yellow-900/30 rounded-lg\">\n                  <span className=\"text-yellow-400\">Need Help</span>\n                  <span className=\"font-bold text-yellow-400\">{counts.needHelp}</span>\n                </div>\n                <div className=\"flex items-center justify-between p-3 bg-red-900/30 rounded-lg\">\n                  <span className=\"text-red-400\">Struggling</span>\n                  <span className=\"font-bold text-red-400\">{counts.struggling}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {step === 'review' && (\n          <div className=\"h-full flex flex-col\">\n            {/* Toolbar */}\n            <div className=\"px-6 py-3 border-b border-gray-700 bg-gray-800 flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                {/* Phase 2: Batch Selection */}\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={toggleSelectAll}\n                    className=\"p-1 hover:bg-gray-700 rounded\"\n                  >\n                    {selectedTasks.size === generatedTasks.length ? (\n                      <CheckSquare className=\"h-4 w-4 text-blue-400\" />\n                    ) : (\n                      <Square className=\"h-4 w-4 text-gray-400\" />\n                    )}\n                  </button>\n                  <h3 className=\"font-semibold\">\n                    {selectedTasks.size > 0 ? (\n                      <span>{selectedTasks.size} of {generatedTasks.length} Selected</span>\n                    ) : (\n                      <span>{generatedTasks.length} Tasks Generated</span>\n                    )}\n                  </h3>\n                </div>\n\n                {/* Phase 2: Bulk Actions */}\n                {selectedTasks.size > 0 && (\n                  <div className=\"flex items-center gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={bulkDelete}\n                      className=\"h-8 border-red-600 text-red-400\"\n                    >\n                      <Trash2 className=\"h-3 w-3 mr-1\" />\n                      Delete\n                    </Button>\n                    <Select onValueChange={bulkSetDifficulty}>\n                      <SelectTrigger className=\"h-8 w-32 bg-gray-700\">\n                        <SelectValue placeholder=\"Difficulty\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"beginner\">Set Easy</SelectItem>\n                        <SelectItem value=\"intermediate\">Set Medium</SelectItem>\n                        <SelectItem value=\"advanced\">Set Hard</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                )}\n\n                {/* Phase 3: Library Button */}\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setShowLibrary(true)}\n                  className=\"h-8 border-blue-500 text-blue-400 bg-blue-500/10 hover:bg-blue-500/20\"\n                >\n                  <Library className=\"h-4 w-4 mr-2\" />\n                  Library\n                </Button>\n\n                <div className=\"flex items-center gap-2 bg-gray-700 rounded-lg p-1\">\n                  <button\n                    onClick={() => setViewMode('grid')}\n                    className={`p-1.5 rounded ${viewMode === 'grid' ? 'bg-gray-600' : ''}`}\n                  >\n                    <LayoutGrid className=\"h-4 w-4\" />\n                  </button>\n                  <button\n                    onClick={() => setViewMode('list')}\n                    className={`p-1.5 rounded ${viewMode === 'list' ? 'bg-gray-600' : ''}`}\n                  >\n                    <List className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Button variant=\"outline\" onClick={() => setStep('generate')}>\n                  Back\n                </Button>\n                <Button onClick={() => setStep('assign')}>\n                  Continue to Assign\n                  <Send className=\"h-4 w-4 ml-2\" />\n                </Button>\n              </div>\n            </div>\n\n            {/* Tasks Grid */}\n            <ScrollArea className=\"flex-1 p-6\">\n              <div className={viewMode === 'grid'\n                ? \"grid grid-cols-2 lg:grid-cols-3 gap-4\"\n                : \"space-y-3\"\n              }>\n                {generatedTasks.map((task, index) => (\n                  <Card key={task.id} className=\"bg-gray-800 border-gray-700\">\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"flex items-start justify-between\">\n                        {/* Phase 2: Checkbox */}\n                        <button\n                          onClick={() => {\n                            const next = new Set(selectedTasks)\n                            if (next.has(task.id)) {\n                              next.delete(task.id)\n                            } else {\n                              next.add(task.id)\n                            }\n                            setSelectedTasks(next)\n                          }}\n                          className=\"mr-3 mt-1\"\n                        >\n                          {selectedTasks.has(task.id) ? (\n                            <CheckSquare className=\"h-5 w-5 text-blue-400\" />\n                          ) : (\n                            <Square className=\"h-5 w-5 text-gray-500\" />\n                          )}\n                        </button>\n                        <div className=\"flex-1\">\n                          <Badge className=\"mb-2\" variant={task.type === 'multiple_choice' ? 'default' : 'secondary'}>\n                            {task.type === 'multiple_choice' ? 'Multiple Choice' : 'Short Answer'}\n                          </Badge>\n                          <CardTitle className=\"text-white text-sm\">\n                            Task {index + 1}\n                          </CardTitle>\n                        </div>\n                        <div className=\"flex gap-1 shrink-0\">\n                          {/* Phase 3: Save Button */}\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-8 w-8 text-yellow-500 hover:text-yellow-400 hover:bg-yellow-500/10\"\n                            onClick={() => saveToLibrary(task)}\n                            title=\"Save to Library\"\n                          >\n                            <Star className=\"h-4 w-4\" />\n                          </Button>\n                          {/* Phase 2: Duplicate Button */}\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-8 w-8\"\n                            onClick={() => duplicateTask(task.id)}\n                            title=\"Duplicate\"\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-8 w-8 text-red-400\"\n                            onClick={() => deleteTask(task.id)}\n                            title=\"Delete\"\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      {/* Phase 2: Editable Question */}\n                      {editingTaskId === task.id ? (\n                        <Input\n                          value={task.question}\n                          onChange={(e) => updateTask(task.id, { question: e.target.value })}\n                          onBlur={() => setEditingTaskId(null)}\n                          autoFocus\n                          className=\"bg-gray-700 border-blue-600 text-white\"\n                        />\n                      ) : (\n                        <p\n                          className=\"text-sm text-gray-300 cursor-pointer hover:text-blue-400 transition-colors\"\n                          onClick={() => setEditingTaskId(task.id)}\n                          title=\"Click to edit\"\n                        >\n                          {task.question}\n                        </p>\n                      )}\n                      {task.options && (\n                        <div className=\"space-y-1\">\n                          {task.options.map((opt: string, i: number) => (\n                            <div\n                              key={i}\n                              className={`text-sm px-3 py-1.5 rounded ${opt === task.correctAnswer\n                                ? 'bg-green-900/50 text-green-300 border border-green-700'\n                                : 'bg-gray-700 text-gray-400'\n                                }`}\n                            >\n                              {String.fromCharCode(65 + i)}. {opt}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </ScrollArea>\n          </div>\n        )}\n\n        {step === 'assign' && (\n          <div className=\"h-full flex\">\n            {/* Assignment Options */}\n            <div className=\"flex-1 p-6 overflow-auto\">\n              <div className=\"max-w-3xl mx-auto space-y-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold mb-2\">Assign Tasks</h2>\n                  <p className=\"text-gray-400\">Choose how students will receive this content</p>\n                </div>\n\n                {/* Phase 6: Assignment Mode Toggle */}\n                <Tabs value={assignmentMode} onValueChange={(v) => setAssignmentMode(v as any)} className=\"w-full\">\n                  <TabsList className=\"grid w-full grid-cols-2 bg-gray-800\">\n                    <TabsTrigger value=\"practice\">Practice Assignment</TabsTrigger>\n                    <TabsTrigger value=\"exam\">Formal Assessment (Exam)</TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"practice\" className=\"mt-6 space-y-6\">\n                    <div className=\"grid gap-4\">\n                      <Card className=\"bg-gray-800 border-gray-700 hover:border-blue-500 transition-colors cursor-pointer\">\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-4\">\n                              <div className=\"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center\">\n                                <GraduationCap className=\"h-6 w-6\" />\n                              </div>\n                              <div>\n                                <h3 className=\"font-semibold text-lg\">All Students</h3>\n                                <p className=\"text-gray-400\">Assign to everyone in the session</p>\n                              </div>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-2xl font-bold\">{counts.total}</p>\n                              <p className=\"text-sm text-gray-400\">students</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <Card className=\"bg-gray-800 border-gray-700 hover:border-green-500 transition-colors cursor-pointer\">\n                          <CardContent className=\"p-6\">\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center\">\n                                <CheckCircle className=\"h-5 w-5\" />\n                              </div>\n                              <div>\n                                <h3 className=\"font-semibold\">On Track</h3>\n                                <p className=\"text-sm text-gray-400\">{counts.onTrack} students</p>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n\n                        <Card className=\"bg-gray-800 border-gray-700 hover:border-yellow-500 transition-colors cursor-pointer\">\n                          <CardContent className=\"p-6\">\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"w-10 h-10 rounded-full bg-yellow-600 flex items-center justify-center\">\n                                <Clock className=\"h-5 w-5\" />\n                              </div>\n                              <div>\n                                <h3 className=\"font-semibold\">Need Help</h3>\n                                <p className=\"text-sm text-gray-400\">{counts.needHelp} students</p>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      </div>\n\n                      <Card className=\"bg-gray-800 border-gray-700 hover:border-red-500 transition-colors cursor-pointer\">\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center\">\n                              <FileQuestion className=\"h-5 w-5\" />\n                            </div>\n                            <div>\n                              <h3 className=\"font-semibold\">Struggling Students</h3>\n                              <p className=\"text-sm text-gray-400\">{counts.struggling} students need extra support</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  </TabsContent>\n\n                  <TabsContent value=\"exam\" className=\"mt-6 space-y-6\">\n                    <Card className=\"bg-gray-800 border-gray-700\">\n                      <CardHeader>\n                        <CardTitle className=\"flex items-center gap-2\">\n                          <Target className=\"h-5 w-5 text-red-500\" />\n                          Exam Configuration\n                        </CardTitle>\n                        <CardDescription>Configure settings for this formal assessment</CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                          <Label>Assessment Title</Label>\n                          <Input\n                            placeholder=\"e.g., Unit 4 Mid-Term Exam\"\n                            value={examConfig.title}\n                            onChange={(e) => setExamConfig({ ...examConfig, title: e.target.value })}\n                            className=\"bg-gray-900 border-gray-600\"\n                          />\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Time Limit (minutes)</Label>\n                            <Input\n                              type=\"number\"\n                              value={examConfig.timeLimit}\n                              onChange={(e) => setExamConfig({ ...examConfig, timeLimit: parseInt(e.target.value) })}\n                              className=\"bg-gray-900 border-gray-600\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Passing Score (%)</Label>\n                            <div className=\"flex items-center gap-4\">\n                              <input\n                                type=\"range\"\n                                min=\"50\"\n                                max=\"100\"\n                                step=\"5\"\n                                value={examConfig.passingScore}\n                                onChange={(e) => setExamConfig({ ...examConfig, passingScore: parseInt(e.target.value) })}\n                                className=\"flex-1\"\n                              />\n                              <span className=\"font-bold w-12 text-right\">{examConfig.passingScore}%</span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-2 pt-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={examConfig.shuffle}\n                            onChange={(e) => setExamConfig({ ...examConfig, shuffle: e.target.checked })}\n                            id=\"shuffle\"\n                            className=\"w-4 h-4 rounded border-gray-600 bg-gray-900 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <Label htmlFor=\"shuffle\" className=\"cursor-pointer\">Randomize question order for each student</Label>\n                        </div>\n                      </CardContent>\n                    </Card>\n\n                    <div className=\"bg-blue-900/20 border border-blue-800 rounded-lg p-4 flex gap-3\">\n                      <div className=\"p-2 bg-blue-900/50 rounded h-fit\">\n                        <Target className=\"h-5 w-5 text-blue-400\" />\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-blue-300\">Exam Mode Active</h4>\n                        <p className=\"text-sm text-blue-200/70 mt-1\">\n                          Students will see a timer and receive a grade upon completion.\n                          Answers will be hidden until the exam is closed.\n                        </p>\n                      </div>\n                    </div>\n                  </TabsContent>\n                </Tabs>\n\n                <div className=\"flex gap-3\">\n                  <Button variant=\"outline\" className=\"flex-1\" onClick={() => setStep('review')}>\n                    Back\n                  </Button>\n                  <Button\n                    className={`flex-1 ${assignmentMode === 'exam' ? 'bg-red-600 hover:bg-red-700' : 'bg-blue-600 hover:bg-blue-700'}`}\n                    onClick={() => {\n                      if (assignmentMode === 'exam' && !examConfig.title) {\n                        toast.error('Missing Title', { description: 'Please provide a title for the exam' })\n                        return\n                      }\n                      const message = assignmentMode === 'exam'\n                        ? `Exam \"${examConfig.title}\" Published!`\n                        : 'Practice tasks assigned successfully!'\n\n                      const description = assignmentMode === 'exam'\n                        ? `Time limit: ${examConfig.timeLimit} mins ‚Ä¢ Passing: ${examConfig.passingScore}%`\n                        : `Assigned to ${counts.total} students`\n\n                      toast.success(message, { description })\n                    }}\n                  >\n                    {assignmentMode === 'exam' ? (\n                      <>\n                        <Target className=\"h-4 w-4 mr-2\" />\n                        Publish Assessment\n                      </>\n                    ) : (\n                      <>\n                        <Send className=\"h-4 w-4 mr-2\" />\n                        Assign Tasks\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </div>\n            </div>\n\n            {/* Summary */}\n            <div className=\"w-72 border-l border-gray-700 bg-gray-800 p-6\">\n              <h3 className=\"font-semibold mb-4\">Assignment Summary</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-400\">Tasks:</span>\n                  <span className=\"font-medium\">{generatedTasks.length}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-400\">Subject:</span>\n                  <span className=\"font-medium\">{config.subject || 'Not set'}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-400\">Difficulty:</span>\n                  <span className=\"font-medium capitalize\">{config.difficulty}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-400\">Mode:</span>\n                  <span className=\"font-medium capitalize\">{config.distributionMode}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Phase 3: Library Dialog */}\n      <Dialog open={showLibrary} onOpenChange={setShowLibrary}>\n        <DialogContent className=\"max-w-4xl h-[600px] bg-gray-900 text-white border-gray-700 flex flex-col\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Library className=\"h-5 w-5 text-blue-400\" />\n              Task Library\n            </DialogTitle>\n          </DialogHeader>\n\n          <div className=\"flex gap-4 py-4 border-b border-gray-800\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input\n                placeholder=\"Search saved tasks...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 bg-gray-800 border-gray-700 text-white focus:border-blue-500\"\n              />\n            </div>\n            <Button\n              variant={showFavoritesOnly ? 'default' : 'outline'}\n              onClick={() => setShowFavoritesOnly(!showFavoritesOnly)}\n              className={showFavoritesOnly ? \"bg-yellow-600 hover:bg-yellow-700\" : \"border-gray-700\"}\n            >\n              <Star className={`h-4 w-4 mr-2 ${showFavoritesOnly ? 'fill-current' : ''}`} />\n              Favorites\n            </Button>\n          </div>\n\n          <ScrollArea className=\"flex-1 -mx-6 px-6\">\n            <div className=\"grid gap-3 py-4\">\n              {getFilteredLibraryTasks().length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500\">\n                  <FolderHeart className=\"h-12 w-12 mx-auto mb-3 opacity-20\" />\n                  <p>No tasks found in library</p>\n                  <p className=\"text-sm\">Save tasks from the Review step to build your collection</p>\n                </div>\n              ) : (\n                getFilteredLibraryTasks().map(task => (\n                  <Card key={task.id} className=\"bg-gray-800 border-gray-700 hover:border-gray-600 transition-colors\">\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"flex-1 space-y-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <Badge variant=\"outline\" className=\"bg-gray-900 border-gray-700 text-gray-400\">\n                              {task.subject}\n                            </Badge>\n                            <Badge variant=\"secondary\">\n                              {task.type === 'multiple_choice' ? 'MC' : 'SA'}\n                            </Badge>\n                            {task.topics.map((t, i) => (\n                              <span key={i} className=\"text-xs text-gray-500\">{t}</span>\n                            ))}\n                          </div>\n                          <p className=\"font-medium text-white\">{task.question}</p>\n                          <div className=\"text-xs text-gray-500 flex items-center gap-3\">\n                            <span>Used {task.usedCount} times</span>\n                            <span>‚Ä¢</span>\n                            <span>Saved {new Date(task.savedAt).toLocaleDateString()}</span>\n                          </div>\n                        </div>\n                        <div className=\"flex flex-col gap-2\">\n                          <Button size=\"sm\" onClick={() => addFromLibrary(task)}>\n                            Add to Set\n                          </Button>\n                          <div className=\"flex gap-1 justify-end\">\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"h-8 w-8\"\n                              onClick={() => toggleFavorite(task.id)}\n                            >\n                              <Star className={`h-4 w-4 ${task.isFavorite ? 'text-yellow-400 fill-current' : 'text-gray-500'}`} />\n                            </Button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"h-8 w-8 text-red-400 hover:text-red-300\"\n                              onClick={() => deleteFromLibrary(task.id)}\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              )}\n            </div>\n          </ScrollArea>\n        </DialogContent>\n      </Dialog>\n\n      {/* Phase 5: Import Dialog */}\n      <Dialog open={showImport} onOpenChange={(open) => {\n        if (!isAnalyzing) {\n          setShowImport(open)\n          if (!open) {\n            setImportedTasks([])\n            setImportFile(null)\n          }\n        }\n      }}>\n        <DialogContent className=\"max-w-3xl bg-gray-900 text-white border-gray-700\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <FileUp className=\"h-5 w-5 text-blue-400\" />\n              Import Content\n            </DialogTitle>\n          </DialogHeader>\n\n          <div className=\"min-h-[400px] flex flex-col\">\n            {!importFile ? (\n              <div className=\"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-700 rounded-lg m-4 bg-gray-800/50 hover:bg-gray-800/80 transition-colors relative\">\n                <input\n                  type=\"file\"\n                  accept=\".pdf,.png,.jpg,.jpeg\"\n                  onChange={handleFileUpload}\n                  className=\"absolute inset-0 opacity-0 cursor-pointer\"\n                />\n                <div className=\"w-20 h-20 rounded-full bg-gray-800 flex items-center justify-center mb-4\">\n                  <UploadCloud className=\"h-10 w-10 text-gray-400\" />\n                </div>\n                <h3 className=\"text-xl font-medium mb-2\">Upload Worksheet</h3>\n                <p className=\"text-gray-400 text-center max-w-sm mb-6\">\n                  Drag and drop your PDF or Image file here,<br />or click to browse\n                </p>\n                <div className=\"flex gap-4 text-sm text-gray-500\">\n                  <span className=\"flex items-center gap-1\"><FileText className=\"h-4 w-4\" /> PDF</span>\n                  <span className=\"flex items-center gap-1\"><FileText className=\"h-4 w-4\" /> PNG</span>\n                  <span className=\"flex items-center gap-1\"><FileText className=\"h-4 w-4\" /> JPG</span>\n                </div>\n              </div>\n            ) : isAnalyzing ? (\n              <div className=\"flex-1 flex flex-col items-center justify-center p-8\">\n                <div className=\"w-24 h-24 relative mb-6\">\n                  <div className=\"absolute inset-0 rounded-full border-4 border-gray-700\"></div>\n                  <div\n                    className=\"absolute inset-0 rounded-full border-4 border-blue-500 border-t-transparent animate-spin\"\n                  ></div>\n                  <div className=\"absolute inset-0 flex items-center justify-center font-bold text-lg\">\n                    {analysisProgress}%\n                  </div>\n                </div>\n                <h3 className=\"text-xl font-medium mb-2\">Analyzing Document...</h3>\n                <p className=\"text-gray-400 animate-pulse\">Running OCR and extracting questions</p>\n                <div className=\"mt-8 text-sm text-gray-500 flex items-center gap-2\">\n                  <FileText className=\"h-4 w-4\" />\n                  {importFile.name}\n                </div>\n              </div>\n            ) : (\n              <div className=\"flex-1 flex flex-col\">\n                <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-800\">\n                  <div>\n                    <h3 className=\"font-medium\">Detected Questions</h3>\n                    <p className=\"text-sm text-gray-400\">{importedTasks.length} items found in {importFile.name}</p>\n                  </div>\n                  <Button variant=\"ghost\" size=\"sm\" onClick={() => setImportFile(null)}>\n                    <X className=\"h-4 w-4 mr-2\" />\n                    Cancel\n                  </Button>\n                </div>\n                <ScrollArea className=\"flex-1 px-6\">\n                  <div className=\"space-y-4 py-4\">\n                    {importedTasks.map((task, i) => (\n                      <Card key={i} className=\"bg-gray-800 border-gray-700\">\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex gap-3\">\n                            <div className=\"w-6 h-6 rounded-full bg-blue-900/50 flex items-center justify-center text-xs font-bold text-blue-400 shrink-0\">\n                              {i + 1}\n                            </div>\n                            <div className=\"flex-1 space-y-2\">\n                              <Input\n                                value={task.question}\n                                onChange={(e) => {\n                                  const newTasks = [...importedTasks]\n                                  newTasks[i].question = e.target.value\n                                  setImportedTasks(newTasks)\n                                }}\n                                className=\"bg-gray-900 border-gray-600\"\n                              />\n                              <div className=\"flex gap-2\">\n                                <Badge variant=\"outline\">{task.type}</Badge>\n                                <Badge variant=\"secondary\">{task.difficulty}</Badge>\n                              </div>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                </ScrollArea>\n                <div className=\"p-4 border-t border-gray-800 flex justify-end gap-3\">\n                  <Button variant=\"outline\" onClick={() => setImportFile(null)}>\n                    Back\n                  </Button>\n                  <Button onClick={importExtractedTasks}>\n                    Import {importedTasks.length} Tasks\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Phase 14: Assets Panel Side Drawer */}\n      {/* Assets Selection Drawer */}\n      <div\n        className={`fixed inset-y-0 right-0 w-[600px] bg-gray-900 border-l border-gray-800 shadow-2xl transform transition-transform duration-300 z-50 ${showAssetsPanel ? 'translate-x-0' : 'translate-x-full'}`}\n      >\n        <AssetsPanel\n          roomId={roomId}\n          students={students.map(s => ({\n            id: s.id,\n            name: s.name,\n            status: (s.status === 'on_track' ? 'active' : s.status || 'active') as 'active' | 'struggling' | 'idle' | 'needs_help'\n          }))}\n          selectionMode={true}\n          onAssetsSelect={handleAssetsSelect}\n          onClose={() => setShowAssetsPanel(false)}\n        />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5594, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/engagement/engagement-dashboard.tsx"],"sourcesContent":["/**\n * Real-Time Student Engagement Analytics Dashboard\n * Provides live visibility into student engagement, attention, and participation\n */\n\n'use client'\n\nimport { useState, useEffect, useMemo } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Progress } from '@/components/ui/progress'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Button } from '@/components/ui/button'\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip'\nimport { \n  Activity, \n  AlertTriangle, \n  Brain, \n  Eye, \n  MessageCircle, \n  Hand, \n  TrendingUp,\n  TrendingDown,\n  Minimize2,\n  Maximize2,\n  Filter,\n  ChevronDown,\n  ChevronUp\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nexport interface EngagementMetrics {\n  studentId: string\n  name: string\n  avatar?: string\n  engagementScore: number      // 0-100 overall engagement\n  attentionLevel: 'focused' | 'distracted' | 'away' | 'inactive'\n  participationCount: number   // interactions in last 5 min\n  comprehensionEstimate: number // 0-100 AI-derived understanding\n  lastActivity: Date\n  raisedHand: boolean\n  chatMessages: number         // messages in session\n  whiteboardInteractions: number // drawings/contributions\n  timeInSession: number        // minutes\n  struggleIndicators: number   // AI-detected confusion signals\n}\n\ninterface EngagementDashboardProps {\n  students: EngagementMetrics[]\n  isOpen: boolean\n  onToggle: () => void\n  onSelectStudent?: (studentId: string) => void\n  onSendNudge?: (studentId: string) => void\n  onInviteToBreakout?: (studentId: string) => void\n}\n\nexport function EngagementDashboard({ \n  students, \n  isOpen, \n  onToggle,\n  onSelectStudent,\n  onSendNudge,\n  onInviteToBreakout\n}: EngagementDashboardProps) {\n  const [filter, setFilter] = useState<'all' | 'struggling' | 'inactive' | 'engaged'>('all')\n  const [sortBy, setSortBy] = useState<'engagement' | 'attention' | 'comprehension'>('engagement')\n  const [expanded, setExpanded] = useState(true)\n\n  // Calculate aggregate metrics\n  const aggregateStats = useMemo(() => {\n    if (students.length === 0) return null\n    \n    const avgEngagement = Math.round(students.reduce((acc, s) => acc + s.engagementScore, 0) / students.length)\n    const avgComprehension = Math.round(students.reduce((acc, s) => acc + s.comprehensionEstimate, 0) / students.length)\n    const strugglingCount = students.filter(s => s.engagementScore < 50 || s.comprehensionEstimate < 50).length\n    const inactiveCount = students.filter(s => s.attentionLevel === 'away' || s.attentionLevel === 'inactive').length\n    const totalHandsRaised = students.filter(s => s.raisedHand).length\n    const totalMessages = students.reduce((acc, s) => acc + s.chatMessages, 0)\n    \n    return {\n      avgEngagement,\n      avgComprehension,\n      strugglingCount,\n      inactiveCount,\n      totalHandsRaised,\n      totalMessages,\n      classEnergy: avgEngagement > 75 ? 'high' : avgEngagement > 50 ? 'moderate' : 'low'\n    }\n  }, [students])\n\n  // Filter and sort students\n  const filteredStudents = useMemo(() => {\n    let result = [...students]\n    \n    switch (filter) {\n      case 'struggling':\n        result = result.filter(s => s.engagementScore < 50 || s.comprehensionEstimate < 50)\n        break\n      case 'inactive':\n        result = result.filter(s => s.attentionLevel === 'away' || s.attentionLevel === 'inactive')\n        break\n      case 'engaged':\n        result = result.filter(s => s.engagementScore >= 75 && s.attentionLevel === 'focused')\n        break\n    }\n    \n    result.sort((a, b) => {\n      switch (sortBy) {\n        case 'engagement':\n          return b.engagementScore - a.engagementScore\n        case 'attention':\n          const attentionOrder = { focused: 3, distracted: 2, away: 1, inactive: 0 }\n          return attentionOrder[b.attentionLevel] - attentionOrder[a.attentionLevel]\n        case 'comprehension':\n          return b.comprehensionEstimate - a.comprehensionEstimate\n        default:\n          return 0\n      }\n    })\n    \n    return result\n  }, [students, filter, sortBy])\n\n  const getAttentionColor = (level: string) => {\n    switch (level) {\n      case 'focused': return 'bg-green-500'\n      case 'distracted': return 'bg-yellow-500'\n      case 'away': return 'bg-orange-500'\n      case 'inactive': return 'bg-gray-500'\n      default: return 'bg-gray-500'\n    }\n  }\n\n  const getEngagementColor = (score: number) => {\n    if (score >= 75) return 'text-green-500'\n    if (score >= 50) return 'text-yellow-500'\n    return 'text-red-500'\n  }\n\n  const getProgressColor = (score: number) => {\n    if (score >= 75) return 'bg-green-500'\n    if (score >= 50) return 'bg-yellow-500'\n    return 'bg-red-500'\n  }\n\n  if (!isOpen) {\n    return (\n      <TooltipProvider>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={onToggle}\n              className=\"fixed right-4 top-20 z-40 bg-slate-800 border-slate-700 hover:bg-slate-700\"\n            >\n              <Activity className=\"h-4 w-4 text-blue-400\" />\n              {aggregateStats && aggregateStats.strugglingCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center\">\n                  {aggregateStats.strugglingCount}\n                </span>\n              )}\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>Open Engagement Dashboard</p>\n          </TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n    )\n  }\n\n  return (\n    <div className=\"w-[400px] bg-slate-900 border-l border-slate-700 flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-slate-700 bg-slate-800\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"bg-blue-600 p-2 rounded-lg\">\n              <Activity className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">Live Engagement</h2>\n              <p className=\"text-xs text-slate-400\">Real-time student analytics</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => setExpanded(!expanded)} className=\"h-8 w-8\">\n              {expanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronUp className=\"h-4 w-4\" />}\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={onToggle} className=\"h-8 w-8\">\n              <Minimize2 className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {aggregateStats && expanded && (\n          <div className=\"grid grid-cols-3 gap-2\">\n            <Card className=\"bg-slate-700 border-slate-600\">\n              <CardContent className=\"p-2 text-center\">\n                <p className={cn(\"text-xl font-bold\", getEngagementColor(aggregateStats.avgEngagement))}>\n                  {aggregateStats.avgEngagement}%\n                </p>\n                <p className=\"text-[10px] text-slate-400\">Avg Engagement</p>\n              </CardContent>\n            </Card>\n            <Card className=\"bg-slate-700 border-slate-600\">\n              <CardContent className=\"p-2 text-center\">\n                <p className=\"text-xl font-bold text-blue-400\">{aggregateStats.totalHandsRaised}</p>\n                <p className=\"text-[10px] text-slate-400\">Hands Raised</p>\n              </CardContent>\n            </Card>\n            <Card className=\"bg-slate-700 border-slate-600\">\n              <CardContent className=\"p-2 text-center\">\n                <p className={cn(\"text-xl font-bold\", aggregateStats.strugglingCount > 0 ? 'text-red-400' : 'text-green-400')}>\n                  {aggregateStats.strugglingCount}\n                </p>\n                <p className=\"text-[10px] text-slate-400\">Need Help</p>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n\n      {/* Filters */}\n      <div className=\"px-4 py-2 border-b border-slate-700 bg-slate-800/50\">\n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-3 w-3 text-slate-400\" />\n          <div className=\"flex gap-1 flex-wrap\">\n            {(['all', 'struggling', 'inactive', 'engaged'] as const).map((f) => (\n              <button\n                key={f}\n                onClick={() => setFilter(f)}\n                className={cn(\n                  \"px-2 py-0.5 text-[10px] rounded-full transition-colors capitalize\",\n                  filter === f \n                    ? 'bg-blue-600 text-white' \n                    : 'bg-slate-700 text-slate-400 hover:bg-slate-600'\n                )}\n              >\n                {f}\n              </button>\n            ))}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2 mt-2\">\n          <span className=\"text-[10px] text-slate-500\">Sort:</span>\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value as any)}\n            className=\"text-[10px] bg-slate-700 border border-slate-600 rounded px-2 py-0.5 text-slate-300\"\n          >\n            <option value=\"engagement\">Engagement</option>\n            <option value=\"attention\">Attention</option>\n            <option value=\"comprehension\">Comprehension</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Student List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-4 space-y-3\">\n          {filteredStudents.length === 0 ? (\n            <p className=\"text-center text-slate-500 text-sm py-8\">\n              No students match the current filter\n            </p>\n          ) : (\n            filteredStudents.map((student) => (\n              <StudentEngagementCard\n                key={student.studentId}\n                student={student}\n                onSelect={() => onSelectStudent?.(student.studentId)}\n                onNudge={() => onSendNudge?.(student.studentId)}\n                onInviteToBreakout={() => onInviteToBreakout?.(student.studentId)}\n                getAttentionColor={getAttentionColor}\n                getEngagementColor={getEngagementColor}\n                getProgressColor={getProgressColor}\n              />\n            ))\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Footer Stats */}\n      <div className=\"p-3 border-t border-slate-700 bg-slate-800\">\n        <div className=\"flex items-center justify-between text-xs text-slate-400\">\n          <span>{students.length} students</span>\n          <span>{aggregateStats?.totalMessages || 0} messages</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Individual Student Card\ninterface StudentEngagementCardProps {\n  student: EngagementMetrics\n  onSelect: () => void\n  onNudge: () => void\n  onInviteToBreakout: () => void\n  getAttentionColor: (level: string) => string\n  getEngagementColor: (score: number) => string\n  getProgressColor: (score: number) => string\n}\n\nfunction StudentEngagementCard({\n  student,\n  onSelect,\n  onNudge,\n  onInviteToBreakout,\n  getAttentionColor,\n  getEngagementColor,\n  getProgressColor\n}: StudentEngagementCardProps) {\n  const [showActions, setShowActions] = useState(false)\n\n  const isStruggling = student.engagementScore < 50 || student.comprehensionEstimate < 50\n  const isInactive = student.attentionLevel === 'away' || student.attentionLevel === 'inactive'\n\n  return (\n    <Card \n      className={cn(\n        \"bg-slate-800 border-slate-700 cursor-pointer transition-all hover:border-slate-600\",\n        isStruggling && \"border-red-800/50 bg-red-900/10\",\n        isInactive && \"opacity-70\"\n      )}\n      onClick={onSelect}\n      onMouseEnter={() => setShowActions(true)}\n      onMouseLeave={() => setShowActions(false)}\n    >\n      <CardContent className=\"p-3\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"relative\">\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-medium\">\n                {student.name.charAt(0).toUpperCase()}\n              </div>\n              <div className={cn(\"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-slate-800\", getAttentionColor(student.attentionLevel))} />\n            </div>\n            <div>\n              <p className=\"text-sm font-medium text-white\">{student.name}</p>\n              <div className=\"flex items-center gap-1 text-[10px] text-slate-400\">\n                <span className=\"capitalize\">{student.attentionLevel}</span>\n                <span>‚Ä¢</span>\n                <span>{student.timeInSession}m in session</span>\n              </div>\n            </div>\n          </div>\n          {student.raisedHand && (\n            <Badge className=\"bg-yellow-600 text-[10px] px-1.5 py-0\">\n              <Hand className=\"h-3 w-3 mr-0.5\" />\n              Raised\n            </Badge>\n          )}\n        </div>\n\n        {/* Metrics */}\n        <div className=\"space-y-2\">\n          {/* Engagement Score */}\n          <div>\n            <div className=\"flex items-center justify-between text-[10px] mb-1\">\n              <span className=\"text-slate-400 flex items-center gap-1\">\n                <Activity className=\"h-3 w-3\" />\n                Engagement\n              </span>\n              <span className={cn(\"font-medium\", getEngagementColor(student.engagementScore))}>\n                {student.engagementScore}%\n              </span>\n            </div>\n            <Progress value={student.engagementScore} className=\"h-1 bg-slate-700\">\n              <div className={cn(\"h-full transition-all\", getProgressColor(student.engagementScore))} \n                   style={{ width: `${student.engagementScore}%` }} />\n            </Progress>\n          </div>\n\n          {/* Comprehension Score */}\n          <div>\n            <div className=\"flex items-center justify-between text-[10px] mb-1\">\n              <span className=\"text-slate-400 flex items-center gap-1\">\n                <Brain className=\"h-3 w-3\" />\n                Comprehension\n              </span>\n              <span className={cn(\"font-medium\", getEngagementColor(student.comprehensionEstimate))}>\n                {student.comprehensionEstimate}%\n              </span>\n            </div>\n            <Progress value={student.comprehensionEstimate} className=\"h-1 bg-slate-700\">\n              <div className={cn(\"h-full transition-all\", getProgressColor(student.comprehensionEstimate))} \n                   style={{ width: `${student.comprehensionEstimate}%` }} />\n            </Progress>\n          </div>\n\n          {/* Activity Stats */}\n          <div className=\"flex items-center justify-between pt-1\">\n            <div className=\"flex items-center gap-3\">\n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <div className=\"flex items-center gap-1 text-[10px] text-slate-400\">\n                      <MessageCircle className=\"h-3 w-3\" />\n                      {student.chatMessages}\n                    </div>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>Chat messages</p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n              \n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <div className=\"flex items-center gap-1 text-[10px] text-slate-400\">\n                      <Eye className=\"h-3 w-3\" />\n                      {student.participationCount}\n                    </div>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>Recent interactions (5m)</p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n\n              {student.struggleIndicators > 0 && (\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <div className=\"flex items-center gap-1 text-[10px] text-red-400\">\n                        <AlertTriangle className=\"h-3 w-3\" />\n                        {student.struggleIndicators}\n                      </div>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                      <p>Struggle indicators detected</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              )}\n            </div>\n\n            {/* Last Activity */}\n            <span className=\"text-[10px] text-slate-500\">\n              {formatLastActivity(student.lastActivity)}\n            </span>\n          </div>\n        </div>\n\n        {/* Quick Actions */}\n        {showActions && (isStruggling || student.raisedHand) && (\n          <div className=\"flex gap-2 mt-3 pt-2 border-t border-slate-700\">\n            {isStruggling && (\n              <Button \n                size=\"sm\" \n                variant=\"outline\" \n                className=\"flex-1 h-7 text-[10px] border-yellow-600/50 text-yellow-400 hover:bg-yellow-600/10\"\n                onClick={(e) => { e.stopPropagation(); onNudge(); }}\n              >\n                Send Nudge\n              </Button>\n            )}\n            <Button \n              size=\"sm\" \n              variant=\"outline\" \n              className=\"flex-1 h-7 text-[10px] border-blue-600/50 text-blue-400 hover:bg-blue-600/10\"\n              onClick={(e) => { e.stopPropagation(); onInviteToBreakout(); }}\n            >\n              1:1 Session\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\nfunction formatLastActivity(date: Date): string {\n  const seconds = Math.floor((Date.now() - new Date(date).getTime()) / 1000)\n  if (seconds < 60) return 'Just now'\n  if (seconds < 120) return '1m ago'\n  if (seconds < 300) return `${Math.floor(seconds / 60)}m ago`\n  return '>5m ago'\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6678, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/engagement/index.ts"],"sourcesContent":["export { EngagementDashboard, type EngagementMetrics } from './engagement-dashboard'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 6685, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/command-palette/command-palette.tsx"],"sourcesContent":["/**\n * Quick Action Command Palette\n * Universal search and action launcher with keyboard shortcuts\n */\n\n'use client'\n\nimport { useState, useEffect, useCallback, useMemo } from 'react'\nimport { CommandDialog, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList, CommandSeparator } from '@/components/ui/command'\nimport { DialogTitle } from '@/components/ui/dialog'\nimport { Badge } from '@/components/ui/badge'\nimport { \n  Search,\n  Mic,\n  MicOff,\n  Video,\n  VideoOff,\n  MonitorUp,\n  MonitorOff,\n  MessageSquare,\n  Users,\n  LayoutGrid,\n  Presentation,\n  Hand,\n  Bell,\n  Settings,\n  LogOut,\n  Plus,\n  Clock,\n  Play,\n  Pause,\n  SkipForward,\n  RotateCcw,\n  BarChart3,\n  Send,\n  Sparkles,\n  FileText,\n  HelpCircle,\n  Keyboard,\n  Volume2,\n  VolumeX\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nexport interface CommandAction {\n  id: string\n  title: string\n  description?: string\n  icon: React.ReactNode\n  shortcut?: string\n  keywords?: string[]\n  category: 'media' | 'classroom' | 'engagement' | 'session' | 'navigation' | 'system'\n  action: () => void\n  disabled?: boolean\n  badge?: string\n}\n\ninterface CommandPaletteProps {\n  isOpen: boolean\n  onClose: () => void\n  actions: CommandAction[]\n  recentActions?: string[]  // IDs of recently used actions\n  placeholder?: string\n}\n\nexport function CommandPalette({ \n  isOpen, \n  onClose, \n  actions,\n  recentActions = [],\n  placeholder = \"Type a command or search...\"\n}: CommandPaletteProps) {\n  const [search, setSearch] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null)\n\n  // Reset search when opened\n  useEffect(() => {\n    if (isOpen) {\n      setSearch('')\n      setSelectedCategory(null)\n    }\n  }, [isOpen])\n\n  // Filter actions based on search and category\n  const filteredActions = useMemo(() => {\n    let result = actions\n\n    if (selectedCategory) {\n      result = result.filter(a => a.category === selectedCategory)\n    }\n\n    if (search) {\n      const searchLower = search.toLowerCase()\n      result = result.filter(action => {\n        const titleMatch = action.title.toLowerCase().includes(searchLower)\n        const descMatch = action.description?.toLowerCase().includes(searchLower)\n        const keywordMatch = action.keywords?.some(k => k.toLowerCase().includes(searchLower))\n        return titleMatch || descMatch || keywordMatch\n      })\n    }\n\n    return result\n  }, [actions, search, selectedCategory])\n\n  // Group actions by category\n  const groupedActions = useMemo(() => {\n    const groups: Record<string, CommandAction[]> = {}\n    \n    filteredActions.forEach(action => {\n      if (!groups[action.category]) {\n        groups[action.category] = []\n      }\n      groups[action.category].push(action)\n    })\n\n    return groups\n  }, [filteredActions])\n\n  // Get recent actions\n  const recentCommandActions = useMemo(() => {\n    return recentActions\n      .map(id => actions.find(a => a.id === id))\n      .filter(Boolean) as CommandAction[]\n  }, [recentActions, actions])\n\n  const categoryLabels: Record<string, { label: string; icon: React.ReactNode }> = {\n    media: { label: 'Media Controls', icon: <Mic className=\"h-4 w-4\" /> },\n    classroom: { label: 'Classroom Tools', icon: <LayoutGrid className=\"h-4 w-4\" /> },\n    engagement: { label: 'Student Engagement', icon: <Users className=\"h-4 w-4\" /> },\n    session: { label: 'Session Management', icon: <Clock className=\"h-4 w-4\" /> },\n    navigation: { label: 'Navigation', icon: <Presentation className=\"h-4 w-4\" /> },\n    system: { label: 'System', icon: <Settings className=\"h-4 w-4\" /> },\n  }\n\n  const handleAction = useCallback((action: CommandAction) => {\n    action.action()\n    onClose()\n  }, [onClose])\n\n  return (\n    <CommandDialog open={isOpen} onOpenChange={onClose}>\n      <DialogTitle className=\"sr-only\">Command Palette</DialogTitle>\n      <CommandInput \n        placeholder={placeholder} \n        value={search}\n        onValueChange={setSearch}\n      />\n      <CommandList>\n        <CommandEmpty className=\"py-6 text-center text-sm text-slate-500\">\n          <div className=\"flex flex-col items-center gap-2\">\n            <Search className=\"h-8 w-8 text-slate-400\" />\n            <p>No commands found</p>\n            <p className=\"text-xs text-slate-400\">Try a different search term</p>\n          </div>\n        </CommandEmpty>\n\n        {/* Recent Actions */}\n        {recentCommandActions.length > 0 && !search && !selectedCategory && (\n          <CommandGroup heading=\"Recently Used\">\n            {recentCommandActions.slice(0, 5).map(action => (\n              <CommandItem\n                key={action.id}\n                onSelect={() => handleAction(action)}\n                disabled={action.disabled}\n                className={cn(action.disabled && \"opacity-50 cursor-not-allowed\")}\n              >\n                <div className=\"flex items-center gap-3 flex-1\">\n                  <div className=\"text-slate-400\">{action.icon}</div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{action.title}</span>\n                      {action.badge && (\n                        <Badge variant=\"secondary\" className=\"text-[10px] px-1 py-0\">\n                          {action.badge}\n                        </Badge>\n                      )}\n                    </div>\n                    {action.description && (\n                      <p className=\"text-xs text-slate-500\">{action.description}</p>\n                    )}\n                  </div>\n                  {action.shortcut && (\n                    <kbd className=\"text-xs bg-slate-700 px-2 py-0.5 rounded text-slate-300\">\n                      {action.shortcut}\n                    </kbd>\n                  )}\n                </div>\n              </CommandItem>\n            ))}\n          </CommandGroup>\n        )}\n\n        {/* Category Filters (when no search) */}\n        {!search && !selectedCategory && (\n          <CommandGroup heading=\"Categories\">\n            <div className=\"flex flex-wrap gap-2 p-2\">\n              {Object.entries(categoryLabels).map(([key, { label, icon }]) => {\n                const count = actions.filter(a => a.category === key).length\n                return (\n                  <button\n                    key={key}\n                    onClick={() => setSelectedCategory(key)}\n                    className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm transition-colors\"\n                  >\n                    {icon}\n                    <span className=\"capitalize\">{label}</span>\n                    <span className=\"text-xs text-slate-500\">({count})</span>\n                  </button>\n                )\n              })}\n            </div>\n          </CommandGroup>\n        )}\n\n        {/* Selected Category Header */}\n        {selectedCategory && (\n          <CommandGroup>\n            <div className=\"flex items-center justify-between px-2 py-1\">\n              <button\n                onClick={() => setSelectedCategory(null)}\n                className=\"text-xs text-blue-400 hover:text-blue-300\"\n              >\n                ‚Üê Back to all\n              </button>\n              <span className=\"text-xs text-slate-500\">\n                {categoryLabels[selectedCategory]?.label}\n              </span>\n            </div>\n          </CommandGroup>\n        )}\n\n        <CommandSeparator />\n\n        {/* Grouped Actions */}\n        {Object.entries(groupedActions).map(([category, categoryActions]) => (\n          <CommandGroup key={category} heading={categoryLabels[category]?.label || category}>\n            {categoryActions.map(action => (\n              <CommandItem\n                key={action.id}\n                onSelect={() => handleAction(action)}\n                disabled={action.disabled}\n                className={cn(action.disabled && \"opacity-50 cursor-not-allowed\")}\n              >\n                <div className=\"flex items-center gap-3 flex-1\">\n                  <div className=\"text-slate-400\">{action.icon}</div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{action.title}</span>\n                      {action.badge && (\n                        <Badge variant=\"secondary\" className=\"text-[10px] px-1 py-0\">\n                          {action.badge}\n                        </Badge>\n                      )}\n                    </div>\n                    {action.description && (\n                      <p className=\"text-xs text-slate-500\">{action.description}</p>\n                    )}\n                  </div>\n                  {action.shortcut && (\n                    <kbd className=\"text-xs bg-slate-700 px-2 py-0.5 rounded text-slate-300\">\n                      {action.shortcut}\n                    </kbd>\n                  )}\n                </div>\n              </CommandItem>\n            ))}\n          </CommandGroup>\n        ))}\n\n        <CommandSeparator />\n\n        {/* Help Footer */}\n        <div className=\"px-3 py-2 text-xs text-slate-500 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"bg-slate-700 px-1.5 rounded\">‚Üë‚Üì</kbd>\n              <span>Navigate</span>\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"bg-slate-700 px-1.5 rounded\">‚Üµ</kbd>\n              <span>Select</span>\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"bg-slate-700 px-1.5 rounded\">esc</kbd>\n              <span>Close</span>\n            </span>\n          </div>\n          <span>{filteredActions.length} commands</span>\n        </div>\n      </CommandList>\n    </CommandDialog>\n  )\n}\n\n// Hook for keyboard shortcut\nexport function useCommandPalette(shortcut: string = 'cmd+k') {\n  const [isOpen, setIsOpen] = useState(false)\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0\n      const modifier = isMac ? e.metaKey : e.ctrlKey\n      \n      if (modifier && e.key.toLowerCase() === 'k') {\n        e.preventDefault()\n        setIsOpen(prev => !prev)\n      }\n      \n      if (e.key === 'Escape') {\n        setIsOpen(false)\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [])\n\n  return { isOpen, setIsOpen }\n}\n\n// Predefined action creators for common classroom actions\nexport function createClassroomActions(options: {\n  isAudioEnabled: boolean\n  isVideoEnabled: boolean\n  isScreenSharing: boolean\n  isRecording: boolean\n  studentsRaisingHands: number\n  onToggleAudio: () => void\n  onToggleVideo: () => void\n  onToggleScreenShare: () => void\n  onToggleRecording: () => void\n  onMuteAll: () => void\n  onCallAttention: () => void\n  onOpenWhiteboard: () => void\n  onOpenPolls?: () => void\n  onOpenBreakouts: () => void\n  onOpenEngagement: () => void\n  onSendBroadcast: () => void\n  onLeaveClass: () => void\n}): CommandAction[] {\n  return [\n    // Media Controls\n    {\n      id: 'toggle-audio',\n      title: options.isAudioEnabled ? 'Mute Microphone' : 'Unmute Microphone',\n      description: options.isAudioEnabled ? 'Turn off your microphone' : 'Turn on your microphone',\n      icon: options.isAudioEnabled ? <Mic className=\"h-4 w-4\" /> : <MicOff className=\"h-4 w-4\" />,\n      shortcut: '‚åòM',\n      keywords: ['mute', 'unmute', 'mic', 'audio'],\n      category: 'media',\n      action: options.onToggleAudio\n    },\n    {\n      id: 'toggle-video',\n      title: options.isVideoEnabled ? 'Stop Video' : 'Start Video',\n      description: options.isVideoEnabled ? 'Turn off your camera' : 'Turn on your camera',\n      icon: options.isVideoEnabled ? <Video className=\"h-4 w-4\" /> : <VideoOff className=\"h-4 w-4\" />,\n      shortcut: '‚åòV',\n      keywords: ['camera', 'video', 'on', 'off'],\n      category: 'media',\n      action: options.onToggleVideo\n    },\n    {\n      id: 'toggle-screen',\n      title: options.isScreenSharing ? 'Stop Screen Share' : 'Share Screen',\n      description: options.isScreenSharing ? 'Stop sharing your screen' : 'Share your screen with students',\n      icon: options.isScreenSharing ? <MonitorOff className=\"h-4 w-4\" /> : <MonitorUp className=\"h-4 w-4\" />,\n      shortcut: '‚åòS',\n      keywords: ['screen', 'share', 'present', 'display'],\n      category: 'media',\n      action: options.onToggleScreenShare\n    },\n    \n    // Classroom Tools\n    {\n      id: 'open-whiteboard',\n      title: 'Open Whiteboard',\n      description: 'Launch the collaborative whiteboard',\n      icon: <LayoutGrid className=\"h-4 w-4\" />,\n      keywords: ['whiteboard', 'draw', 'sketch', 'board'],\n      category: 'classroom',\n      action: options.onOpenWhiteboard\n    },\n    ...(options.onOpenPolls ? [{\n      id: 'open-polls' as const,\n      title: 'Create Quick Poll',\n      description: 'Launch an interactive poll for students',\n      icon: <BarChart3 className=\"h-4 w-4\" />,\n      shortcut: '‚åòP' as const,\n      keywords: ['poll', 'quiz', 'vote', 'question'],\n      category: 'classroom' as const,\n      action: options.onOpenPolls!,\n      badge: 'New' as const\n    }] : []),\n    {\n      id: 'open-breakouts',\n      title: 'Manage Breakout Rooms',\n      description: 'Create and manage breakout sessions',\n      icon: <Users className=\"h-4 w-4\" />,\n      keywords: ['breakout', 'groups', 'rooms', 'small group'],\n      category: 'classroom',\n      action: options.onOpenBreakouts\n    },\n\n    // Engagement\n    {\n      id: 'view-engagement',\n      title: 'View Engagement Dashboard',\n      description: 'See real-time student engagement analytics',\n      icon: <BarChart3 className=\"h-4 w-4\" />,\n      keywords: ['engagement', 'analytics', 'students', 'attention'],\n      category: 'engagement',\n      action: options.onOpenEngagement\n    },\n    {\n      id: 'call-attention',\n      title: 'Call for Attention',\n      description: 'Send notification to all students to focus',\n      icon: <Bell className=\"h-4 w-4\" />,\n      keywords: ['attention', 'focus', 'alert', 'notify'],\n      category: 'engagement',\n      action: options.onCallAttention\n    },\n    {\n      id: 'mute-all',\n      title: 'Mute All Students',\n      description: 'Mute all student microphones',\n      icon: <VolumeX className=\"h-4 w-4\" />,\n      keywords: ['mute', 'all', 'students', 'quiet'],\n      category: 'engagement',\n      action: options.onMuteAll\n    },\n    {\n      id: 'send-broadcast',\n      title: 'Send Broadcast Message',\n      description: 'Send a message to all students',\n      icon: <Send className=\"h-4 w-4\" />,\n      shortcut: '‚åòB',\n      keywords: ['broadcast', 'message', 'announce', 'chat'],\n      category: 'engagement',\n      action: options.onSendBroadcast\n    },\n\n    // Session Management\n    {\n      id: 'toggle-recording',\n      title: options.isRecording ? 'Stop Recording' : 'Start Recording',\n      description: options.isRecording ? 'Stop session recording' : 'Record this session',\n      icon: options.isRecording ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />,\n      keywords: ['record', 'save', 'capture', 'video'],\n      category: 'session',\n      action: options.onToggleRecording\n    },\n\n    // System\n    {\n      id: 'leave-class',\n      title: 'Leave Classroom',\n      description: 'Exit the current session',\n      icon: <LogOut className=\"h-4 w-4\" />,\n      shortcut: '‚åòQ',\n      keywords: ['leave', 'exit', 'quit', 'end'],\n      category: 'system',\n      action: options.onLeaveClass\n    },\n  ]\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7590, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/command-palette/index.ts"],"sourcesContent":["export { \n  CommandPalette, \n  useCommandPalette, \n  createClassroomActions,\n  type CommandAction \n} from './command-palette'\n"],"names":[],"mappings":";AAAA"}}]
}