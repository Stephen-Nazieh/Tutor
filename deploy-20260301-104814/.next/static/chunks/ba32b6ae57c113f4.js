;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="0a5783db-6ba0-a887-1dc1-8e4b64396afb")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,462423,e=>{"use strict";let t=(0,e.i(879191).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>t],462423)},383918,e=>{"use strict";let t=(0,e.i(879191).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],383918)},196415,e=>{"use strict";var t=e.i(251474),s=e.i(800592),r=e.i(390553);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let o=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let d=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s}));d.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>n,"CardFooter",()=>d,"CardHeader",()=>i,"CardTitle",()=>l])},785784,e=>{"use strict";var t=e.i(251474),s=e.i(383753),r=e.i(390553);let a=(0,s.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...i}){return(0,t.jsx)("div",{className:(0,r.cn)(a({variant:s}),e),...i})}e.s(["Badge",()=>i])},752137,e=>{"use strict";var t=e.i(800592);e.i(312515);var s=e.i(298121),r=e.i(251474),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),l=t.forwardRef((e,t)=>{let{asChild:s,...l}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?i:a,{...l,ref:t})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{});e.s(["Primitive",()=>a])},102955,e=>{"use strict";let t=(0,e.i(879191).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],102955)},163696,e=>{"use strict";let t=(0,e.i(879191).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],163696)},505595,e=>{"use strict";let t=(0,e.i(879191).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],505595)},587604,e=>{"use strict";var t=e.i(251474),s=e.i(800592),r=e.i(390553);let a=s.forwardRef(({className:e,type:s,...a},i)=>(0,t.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 min-h-[44px] sm:min-h-0 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...a}));a.displayName="Input",e.s(["Input",()=>a])},538998,e=>{"use strict";var t=e.i(251474),s=e.i(800592),r=e.i(752137),a=s.forwardRef((e,s)=>(0,t.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var i=e.i(383753),l=e.i(390553);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a,{ref:r,className:(0,l.cn)(n(),e),...s}));o.displayName=a.displayName,e.s(["Label",()=>o],538998)},53169,e=>{"use strict";let t=(0,e.i(879191).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],53169)},725399,536085,e=>{"use strict";let t,s;var r,a=e.i(251474),i=e.i(800592),l=e.i(518696),n=e.i(894878),o=e.i(462835),d=e.i(67343),c=e.i(396507),u=e.i(240863),m=e.i(194221),p=e.i(895067);function f(e){var t;let s,r=(t=e,(s=i.forwardRef((e,t)=>{let{children:s,...r}=e;if(i.isValidElement(s)){var a;let e,l,o=(a=s,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),d=function(e,t){let s={...t};for(let r in t){let a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...i}:"className"===r&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}(r,s.props);return s.type!==i.Fragment&&(d.ref=t?(0,n.composeRefs)(t,o):o),i.cloneElement(s,d)}return i.Children.count(s)>1?i.Children.only(null):null})).displayName=`${t}.SlotClone`,s),l=i.forwardRef((e,t)=>{let{children:s,...l}=e,n=i.Children.toArray(s),o=n.find(g);if(o){let e=o.props.children,s=n.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...l,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,a.jsx)(r,{...l,ref:t,children:s})});return l.displayName=`${e}.Slot`,l}e.i(312515);var x=Symbol("radix.slottable");function g(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===x}var h=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=f(`Primitive.${t}`),r=i.forwardRef((e,r)=>{let{asChild:i,...l}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?s:t,{...l,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),y=e.i(792634),j=e.i(723064),v=e.i(689819),b="Dialog",[N,C]=function(e,t=[]){let s=[],r=()=>{let t=s.map(e=>i.createContext(e));return function(s){let r=s?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return r.scopeName=e,[function(t,r){let l=i.createContext(r),n=s.length;s=[...s,r];let o=t=>{let{scope:s,children:r,...o}=t,d=s?.[e]?.[n]||l,c=i.useMemo(()=>o,Object.values(o));return(0,a.jsx)(d.Provider,{value:c,children:r})};return o.displayName=t+"Provider",[o,function(s,a){let o=a?.[e]?.[n]||l,d=i.useContext(o);if(d)return d;if(void 0!==r)return r;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(r,...t)]}(b),[w,D]=N(b),S=e=>{let{__scopeDialog:t,children:s,open:r,defaultOpen:l,onOpenChange:n,modal:c=!0}=e,u=i.useRef(null),m=i.useRef(null),[p,f]=(0,d.useControllableState)({prop:r,defaultProp:l??!1,onChange:n,caller:b});return(0,a.jsx)(w,{scope:t,triggerRef:u,contentRef:m,contentId:(0,o.useId)(),titleId:(0,o.useId)(),descriptionId:(0,o.useId)(),open:p,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(e=>!e),[f]),modal:c,children:s})};S.displayName=b;var R="DialogTrigger",k=i.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=D(R,s),o=(0,n.useComposedRefs)(t,i.triggerRef);return(0,a.jsx)(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q(i.open),...r,ref:o,onClick:(0,l.composeEventHandlers)(e.onClick,i.onOpenToggle)})});k.displayName=R;var I="DialogPortal",[P,M]=N(I,{forceMount:void 0}),F=e=>{let{__scopeDialog:t,forceMount:s,children:r,container:l}=e,n=D(I,t);return(0,a.jsx)(P,{scope:t,forceMount:s,children:i.Children.map(r,e=>(0,a.jsx)(p.Presence,{present:s||n.open,children:(0,a.jsx)(m.Portal,{asChild:!0,container:l,children:e})}))})};F.displayName=I;var T="DialogOverlay",E=i.forwardRef((e,t)=>{let s=M(T,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,l=D(T,e.__scopeDialog);return l.modal?(0,a.jsx)(p.Presence,{present:r||l.open,children:(0,a.jsx)(B,{...i,ref:t})}):null});E.displayName=T;var O=f("DialogOverlay.RemoveScroll"),B=i.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=D(T,s);return(0,a.jsx)(j.RemoveScroll,{as:O,allowPinchZoom:!0,shards:[i.contentRef],children:(0,a.jsx)(h.div,{"data-state":q(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),L="DialogContent",_=i.forwardRef((e,t)=>{let s=M(L,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,l=D(L,e.__scopeDialog);return(0,a.jsx)(p.Presence,{present:r||l.open,children:l.modal?(0,a.jsx)(H,{...i,ref:t}):(0,a.jsx)($,{...i,ref:t})})});_.displayName=L;var H=i.forwardRef((e,t)=>{let s=D(L,e.__scopeDialog),r=i.useRef(null),o=(0,n.useComposedRefs)(t,s.contentRef,r);return i.useEffect(()=>{let e=r.current;if(e)return(0,v.hideOthers)(e)},[]),(0,a.jsx)(A,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,l.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,l.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,l.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),$=i.forwardRef((e,t)=>{let s=D(L,e.__scopeDialog),r=i.useRef(!1),l=i.useRef(!1);return(0,a.jsx)(A,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||s.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),A=i.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:o,...d}=e,m=D(L,s),p=i.useRef(null),f=(0,n.useComposedRefs)(t,p);return(0,y.useFocusGuards)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:o,children:(0,a.jsx)(c.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...d,ref:f,onDismiss:()=>m.onOpenChange(!1)})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Q,{titleId:m.titleId}),(0,a.jsx)(Y,{contentRef:p,descriptionId:m.descriptionId})]})]})}),G="DialogTitle",V=i.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=D(G,s);return(0,a.jsx)(h.h2,{id:i.titleId,...r,ref:t})});V.displayName=G;var U="DialogDescription",z=i.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=D(U,s);return(0,a.jsx)(h.p,{id:i.descriptionId,...r,ref:t})});z.displayName=U;var W="DialogClose",J=i.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=D(W,s);return(0,a.jsx)(h.button,{type:"button",...r,ref:t,onClick:(0,l.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function q(e){return e?"open":"closed"}J.displayName=W;var K="DialogTitleWarning",[Z,X]=(r={contentName:L,titleName:G,docsSlug:"dialog"},t=i.createContext(r),(s=e=>{let{children:s,...r}=e,l=i.useMemo(()=>r,Object.values(r));return(0,a.jsx)(t.Provider,{value:l,children:s})}).displayName=K+"Provider",[s,function(e){let s=i.useContext(t);if(s)return s;if(void 0!==r)return r;throw Error(`\`${e}\` must be used within \`${K}\``)}]),Q=({titleId:e})=>{let t=X(K),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Y=({contentRef:e,descriptionId:t})=>{let s=X("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return i.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};e.s(["Close",()=>J,"Content",()=>_,"Description",()=>z,"Dialog",()=>S,"DialogClose",()=>J,"DialogContent",()=>_,"DialogDescription",()=>z,"DialogOverlay",()=>E,"DialogPortal",()=>F,"DialogTitle",()=>V,"DialogTrigger",()=>k,"Overlay",()=>E,"Portal",()=>F,"Root",()=>S,"Title",()=>V,"Trigger",()=>k,"WarningProvider",()=>Z,"createDialogScope",()=>C],536085);var ee=e.i(828977),et=e.i(390553);let es=i.forwardRef(({className:e,...t},s)=>(0,a.jsx)(E,{ref:s,className:(0,et.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));es.displayName=E.displayName;let er=i.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(F,{children:[(0,a.jsx)(es,{}),(0,a.jsxs)(_,{ref:r,className:(0,et.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(J,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(ee.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=_.displayName;let ea=({className:e,...t})=>(0,a.jsx)("div",{className:(0,et.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ea.displayName="DialogHeader";let ei=({className:e,...t})=>(0,a.jsx)("div",{className:(0,et.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ei.displayName="DialogFooter";let el=i.forwardRef(({className:e,...t},s)=>(0,a.jsx)(V,{ref:s,className:(0,et.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));el.displayName=V.displayName;let en=i.forwardRef(({className:e,...t},s)=>(0,a.jsx)(z,{ref:s,className:(0,et.cn)("text-sm text-muted-foreground",e),...t}));en.displayName=z.displayName,e.s(["Dialog",()=>S,"DialogContent",()=>er,"DialogDescription",()=>en,"DialogFooter",()=>ei,"DialogHeader",()=>ea,"DialogTitle",()=>el,"DialogTrigger",()=>k],725399)},315726,e=>{"use strict";let t=(0,e.i(879191).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",()=>t],315726)},703594,e=>{"use strict";let t=(0,e.i(879191).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],703594)},36023,e=>{"use strict";var t=e.i(251474),s=e.i(800592),r=e.i(624842),a=e.i(536105),i=e.i(151651),l=e.i(196415),n=e.i(870368),o=e.i(256288),d=e.i(598320),c=e.i(396233),u=e.i(505595),m=e.i(383918),p=e.i(962825),f=e.i(462423),x=e.i(53169),g=e.i(315726),h=e.i(703594),y=e.i(102955),j=e.i(163696),v=e.i(785784),b=e.i(156155),N=e.i(587604),C=e.i(725399),w=e.i(538998),D=e.i(230645);function S(){(0,a.useRouter)();let{data:e,status:S}=(0,r.useSession)(),[R,k]=(0,s.useState)([]),[I,P]=(0,s.useState)([]),[M,F]=(0,s.useState)(!0),[T,E]=(0,s.useState)(null),[O,B]=(0,s.useState)(null),[L,_]=(0,s.useState)(""),[H,$]=(0,s.useState)("all"),[A,G]=(0,s.useState)(!1),[V,U]=(0,s.useState)(!1),[z,W]=(0,s.useState)({name:"",subject:"",description:"",maxMembers:20});(0,s.useEffect)(()=>{"authenticated"===S&&(J(),q())},[S]);let J=async()=>{try{let e="all"!==H?`/api/study-groups?limit=50&subject=${H}`:"/api/study-groups?limit=50",t=await fetch(e),s=await t.json();s.groups&&k(s.groups)}catch(e){d.toast.error("Error",{description:"Failed to load study groups"})}finally{F(!1)}},q=async()=>{try{let e=await fetch("/api/study-groups?myGroups=true"),t=await e.json();t.groups&&P(t.groups)}catch(e){console.error("Failed to fetch my groups")}},K=async e=>{E(e);try{let t=await fetch("/api/study-groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:e})}),s=await t.json();s.success?(d.toast.success(`Joined Group! ðŸ‘¥`,{description:s.message}),J(),q()):d.toast.error("Join Failed",{description:s.error||"Failed to join group"})}catch(e){d.toast.error("Error",{description:"Failed to join group. Please try again."})}finally{E(null)}},Z=async e=>{B(e);try{let t=await fetch("/api/study-groups",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:e})}),s=await t.json();s.success?(d.toast.success("Left Group",{description:s.message}),J(),q()):d.toast.error("Failed to Leave",{description:s.error||"Failed to leave group"})}catch(e){d.toast.error("Error",{description:"Failed to leave group. Please try again."})}finally{B(null)}},X=async()=>{if(!z.name||!z.subject)return void d.toast.error("Missing Fields",{description:"Please fill in all required fields"});U(!0);try{let e=await fetch("/api/study-groups",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)}),t=await e.json();t.success?(d.toast.success(`Group Created! ðŸŽ‰`,{description:`"${z.name}" has been created`}),G(!1),W({name:"",subject:"",description:"",maxMembers:20}),J(),q()):d.toast.error("Create Failed",{description:t.error||"Failed to create group"})}catch(e){d.toast.error("Error",{description:"Failed to create group. Please try again."})}finally{U(!1)}},Q=R.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.subject.toLowerCase().includes(L.toLowerCase())).filter(e=>!e.isMember);return"loading"===S||M?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading study groups..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(i.default,{href:"/student/dashboard",children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",children:[(0,t.jsx)(p.ArrowLeft,{className:"w-4 h-4 mr-1"}),"Back"]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"TutorMe"})]}),(0,t.jsx)(o.UserNav,{})]})}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold",children:"Study Groups"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Join groups to learn together with peers"})]}),(0,t.jsxs)(C.Dialog,{open:A,onOpenChange:G,children:[(0,t.jsx)(C.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{children:[(0,t.jsx)(x.Plus,{className:"w-4 h-4 mr-2"}),"Create Group"]})}),(0,t.jsxs)(C.DialogContent,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(C.DialogHeader,{children:[(0,t.jsx)(C.DialogTitle,{children:"Create Study Group"}),(0,t.jsx)(C.DialogDescription,{children:"Start a new study group for a subject you're interested in."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(w.Label,{htmlFor:"name",children:"Group Name *"}),(0,t.jsx)(N.Input,{id:"name",value:z.name,onChange:e=>W({...z,name:e.target.value}),placeholder:"e.g., Calculus Study Squad"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(w.Label,{htmlFor:"subject",children:"Subject *"}),(0,t.jsxs)(D.Select,{value:z.subject,onValueChange:e=>W({...z,subject:e}),children:[(0,t.jsx)(D.SelectTrigger,{children:(0,t.jsx)(D.SelectValue,{placeholder:"Select a subject"})}),(0,t.jsxs)(D.SelectContent,{children:[(0,t.jsx)(D.SelectItem,{value:"Mathematics",children:"Mathematics"}),(0,t.jsx)(D.SelectItem,{value:"Physics",children:"Physics"}),(0,t.jsx)(D.SelectItem,{value:"Chemistry",children:"Chemistry"}),(0,t.jsx)(D.SelectItem,{value:"Biology",children:"Biology"}),(0,t.jsx)(D.SelectItem,{value:"English",children:"English"}),(0,t.jsx)(D.SelectItem,{value:"History",children:"History"}),(0,t.jsx)(D.SelectItem,{value:"Computer Science",children:"Computer Science"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(w.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(N.Input,{id:"description",value:z.description,onChange:e=>W({...z,description:e.target.value}),placeholder:"What will you study?"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(w.Label,{htmlFor:"maxMembers",children:"Max Members"}),(0,t.jsx)(N.Input,{id:"maxMembers",type:"number",min:2,max:50,value:z.maxMembers,onChange:e=>W({...z,maxMembers:parseInt(e.target.value)||20})})]})]}),(0,t.jsxs)(C.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),(0,t.jsxs)(n.Button,{onClick:X,disabled:V,children:[V&&(0,t.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Group"]})]})]})]})]}),(0,t.jsxs)(b.Tabs,{defaultValue:"browse",className:"space-y-6",children:[(0,t.jsxs)(b.TabsList,{children:[(0,t.jsxs)(b.TabsTrigger,{value:"browse",children:["Browse (",Q.length,")"]}),(0,t.jsxs)(b.TabsTrigger,{value:"my-groups",children:["My Groups (",I.length,")"]})]}),(0,t.jsxs)(b.TabsContent,{value:"browse",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(y.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(N.Input,{placeholder:"Search groups...",value:L,onChange:e=>_(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(D.Select,{value:H,onValueChange:$,children:[(0,t.jsx)(D.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(D.SelectValue,{placeholder:"Filter by subject"})}),(0,t.jsxs)(D.SelectContent,{children:[(0,t.jsx)(D.SelectItem,{value:"all",children:"All Subjects"}),(0,t.jsx)(D.SelectItem,{value:"Mathematics",children:"Mathematics"}),(0,t.jsx)(D.SelectItem,{value:"Physics",children:"Physics"}),(0,t.jsx)(D.SelectItem,{value:"Chemistry",children:"Chemistry"}),(0,t.jsx)(D.SelectItem,{value:"Biology",children:"Biology"}),(0,t.jsx)(D.SelectItem,{value:"English",children:"English"}),(0,t.jsx)(D.SelectItem,{value:"History",children:"History"})]})]})]}),Q.length>0?(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map(e=>(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Badge,{variant:"secondary",className:"mb-2",children:e.subject}),(0,t.jsx)(l.CardTitle,{className:"text-lg",children:e.name})]})})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Users,{className:"w-4 h-4"}),e.currentMembers,"/",e.maxMembers," members"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.User,{className:"w-4 h-4"}),"Created by ",e.creator.profile?.name||"Anonymous"]})]}),(0,t.jsxs)(n.Button,{className:"w-full",disabled:T===e.id||e.isFull,onClick:()=>K(e.id),children:[T===e.id?(0,t.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):null,e.isFull?"Full":"Join Group"]})]})]},e.id))}):(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"pt-12 pb-12 text-center",children:[(0,t.jsx)(c.Users,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:L||"all"!==H?"No groups match your search":"No available groups"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:L||"all"!==H?"Try different search terms":"Create the first study group!"}),!L&&"all"===H&&(0,t.jsxs)(n.Button,{className:"mt-4",onClick:()=>G(!0),children:[(0,t.jsx)(x.Plus,{className:"w-4 h-4 mr-2"}),"Create Group"]})]})})]}),(0,t.jsx)(b.TabsContent,{value:"my-groups",children:I.length>0?(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>(0,t.jsxs)(l.Card,{className:"admin"===e.memberRole?"border-yellow-300":"border-green-300",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(v.Badge,{variant:"secondary",children:e.subject}),"admin"===e.memberRole&&(0,t.jsxs)(v.Badge,{className:"bg-yellow-100 text-yellow-800",children:[(0,t.jsx)(g.Crown,{className:"w-3 h-3 mr-1"}),"Admin"]})]}),(0,t.jsx)(l.CardTitle,{className:"text-lg",children:e.name})]}),(0,t.jsx)(u.CheckCircle,{className:"w-5 h-5 text-green-500"})]})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,t.jsx)("div",{className:"space-y-2 text-sm text-gray-600",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Users,{className:"w-4 h-4"}),e.currentMembers,"/",e.maxMembers," members"]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.Button,{className:"flex-1",variant:"outline",children:[(0,t.jsx)(f.BookOpen,{className:"w-4 h-4 mr-2"}),"Open"]}),"admin"!==e.memberRole&&(0,t.jsx)(n.Button,{variant:"outline",size:"icon",onClick:()=>Z(e.id),disabled:O===e.id,children:O===e.id?(0,t.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(h.LogOut,{className:"w-4 h-4 text-red-500"})})]})]})]},e.id))}):(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"pt-12 pb-12 text-center",children:[(0,t.jsx)(c.Users,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:"Not in any groups yet"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Join a study group to start collaborating"}),(0,t.jsx)(n.Button,{className:"mt-4",onClick:()=>{if(document.querySelector('[data-state="active"]')){let e=document.querySelector('[value="browse"]');e?.click()}},children:"Browse Groups"})]})})})]})]})]})}e.s(["default",()=>S])}]);

//# debugId=0a5783db-6ba0-a887-1dc1-8e4b64396afb
//# sourceMappingURL=d897dc6ef477037f.js.map