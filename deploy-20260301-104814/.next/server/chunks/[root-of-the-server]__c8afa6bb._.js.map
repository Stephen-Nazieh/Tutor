{
  "version": 3,
  "sources": [],
  "debugId": "9a491acc-1ea8-f0b1-7cc5-e8890e33b44c",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/api/params.ts","../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/node_modules/src/sql/functions/aggregate.ts"],"sourcesContent":["/**\n * Normalize Next.js dynamic route params to a single string.\n * Next.js 15+ may expose params as Record<string, string | string[]> or Promise<...>.\n * Use this so Drizzle eq(column, id) receives string, not string | string[].\n */\nexport function getParam(\n  params: Record<string, string | string[] | undefined> | undefined,\n  key: string\n): string | undefined {\n  if (!params || typeof params !== 'object') return undefined\n  const value = params[key]\n  if (value == null) return undefined\n  return Array.isArray(value) ? value[0] : value\n}\n\n/**\n * Await params if it's a Promise, then get a single string param.\n */\nexport async function getParamAsync(\n  params: Promise<Record<string, string | string[]>> | Record<string, string | string[]> | undefined,\n  key: string\n): Promise<string | undefined> {\n  const resolved = params instanceof Promise ? await params : params\n  return getParam(resolved as Record<string, string | string[] | undefined>, key)\n}\n","import { type AnyColumn, Column } from '~/column.ts';\nimport { is } from '~/entity.ts';\nimport { type SQL, sql, type SQLWrapper } from '../sql.ts';\n\n/**\n * Returns the number of values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Number employees with null values\n * db.select({ value: count() }).from(employees)\n * // Number of employees where `name` is not null\n * db.select({ value: count(employees.name) }).from(employees)\n * ```\n *\n * @see countDistinct to get the number of non-duplicate values in `expression`\n */\nexport function count(expression?: SQLWrapper): SQL<number> {\n\treturn sql`count(${expression || sql.raw('*')})`.mapWith(Number);\n}\n\n/**\n * Returns the number of non-duplicate values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Number of employees where `name` is distinct\n * db.select({ value: countDistinct(employees.name) }).from(employees)\n * ```\n *\n * @see count to get the number of values in `expression`, including duplicates\n */\nexport function countDistinct(expression: SQLWrapper): SQL<number> {\n\treturn sql`count(distinct ${expression})`.mapWith(Number);\n}\n\n/**\n * Returns the average (arithmetic mean) of all non-null values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Average salary of an employee\n * db.select({ value: avg(employees.salary) }).from(employees)\n * ```\n *\n * @see avgDistinct to get the average of all non-null and non-duplicate values in `expression`\n */\nexport function avg(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`avg(${expression})`.mapWith(String);\n}\n\n/**\n * Returns the average (arithmetic mean) of all non-null and non-duplicate values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Average salary of an employee where `salary` is distinct\n * db.select({ value: avgDistinct(employees.salary) }).from(employees)\n * ```\n *\n * @see avg to get the average of all non-null values in `expression`, including duplicates\n */\nexport function avgDistinct(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`avg(distinct ${expression})`.mapWith(String);\n}\n\n/**\n * Returns the sum of all non-null values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Sum of every employee's salary\n * db.select({ value: sum(employees.salary) }).from(employees)\n * ```\n *\n * @see sumDistinct to get the sum of all non-null and non-duplicate values in `expression`\n */\nexport function sum(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`sum(${expression})`.mapWith(String);\n}\n\n/**\n * Returns the sum of all non-null and non-duplicate values in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // Sum of every employee's salary where `salary` is distinct (no duplicates)\n * db.select({ value: sumDistinct(employees.salary) }).from(employees)\n * ```\n *\n * @see sum to get the sum of all non-null values in `expression`, including duplicates\n */\nexport function sumDistinct(expression: SQLWrapper): SQL<string | null> {\n\treturn sql`sum(distinct ${expression})`.mapWith(String);\n}\n\n/**\n * Returns the maximum value in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // The employee with the highest salary\n * db.select({ value: max(employees.salary) }).from(employees)\n * ```\n */\nexport function max<T extends SQLWrapper>(expression: T): SQL<(T extends AnyColumn ? T['_']['data'] : string) | null> {\n\treturn sql`max(${expression})`.mapWith(is(expression, Column) ? expression : String) as any;\n}\n\n/**\n * Returns the minimum value in `expression`.\n *\n * ## Examples\n *\n * ```ts\n * // The employee with the lowest salary\n * db.select({ value: min(employees.salary) }).from(employees)\n * ```\n */\nexport function min<T extends SQLWrapper>(expression: T): SQL<(T extends AnyColumn ? T['_']['data'] : string) | null> {\n\treturn sql`min(${expression})`.mapWith(is(expression, Column) ? expression : String) as any;\n}\n"],"names":[],"mappings":"wCAkBO,eAAe,EACpB,CAAkG,CAClG,CAAW,MAdX,EAgBiB,IAhBgD,EACjE,GAAW,IAewB,QAAU,MAAM,EAAS,EAb5D,GAAI,CAAC,GAA4B,UAAlB,OAAO,EAAqB,OAAO,AAClD,IAAM,EAAQ,CAAM,CAAC,AAasD,EAblD,QACZ,AAAb,MAAmB,AAAf,EACG,KADmB,CACb,OAAO,CAAC,GAAS,CAAK,CAAC,EAAE,CAAG,QAY3C,uDCxBA,IAAA,EAAuC,EAAA,CAAA,AAAd,CAAc,QACvC,EAAmB,EAAA,CAAV,AAAU,AADoB,CACpB,QACnB,CADmB,CAC4B,EAAA,CAAA,AAA5B,CAA4B,QAgBxC,EAhBwC,OAgB/B,EAAM,CAAA,EAAsC,AAC3D,OAAO,EAAA,GAAA,CAAA,MAAA,EAAY,GAAc,EAAA,GAAA,CAAI,GAAA,CAAI,GAAG,CAAC,CAAA,CAAA,CAAA,CAAI,OAAA,CAAQ,MAAM,CAChE,CAcO,SAAS,EAAc,CAAA,EAC7B,AADkE,OAC3D,EAAA,GAAA,CAAA,eAAA,EAAqB,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAQ,MAAM,CACzD,CAcO,SAAS,EAAI,CAAA,EACnB,AAD+D,OACxD,EAAA,GAAA,CAAA,IAAA,EAAU,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAQ,MAAM,CAC9C,CAcO,SAAS,EAAY,CAAA,EAA4C,AACvE,OAAO,EAAA,GAAA,CAAA,aAAA,EAAmB,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAQ,MAAM,CACvD,CAcO,SAAS,EAAI,CAAA,EAA4C,AAC/D,OAAO,EAAA,GAAA,CAAA,IAAA,EAAU,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAQ,MAAM,CAC9C,CAcO,SAAS,EAAY,CAAA,EAA4C,AACvE,OAAO,EAAA,GAAA,CAAA,aAAA,EAAmB,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAQ,MAAM,CACvD,CAYO,SAAS,EAA0B,CAAA,EAA4E,AACrH,OAAO,EAAA,GAAA,CAAA,IAAA,EAAU,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAA,CAAA,EAAQ,EAAA,EAAA,EAAG,EAAY,EAAA,MAAM,EAAI,EAAa,MAAM,CACpF,CAYO,SAAS,EAA0B,CAAA,EACzC,AADqH,OAC9G,EAAA,GAAA,CAAA,IAAA,EAAU,EAAU,CAAA,CAAA,CAAI,KAAJ,EAAI,CAAA,CAAA,EAAQ,EAAA,EAAA,EAAG,EAAY,EAAA,MAAM,EAAI,EAAa,MAAM,CACpF"}}]
}