{
  "version": 3,
  "sources": [],
  "debugId": "3a422b13-f205-ccf6-c482-410a13983cd6",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/lib/messaging/permissions.ts"],"sourcesContent":["type AppRole = 'STUDENT' | 'TUTOR' | 'PARENT' | 'ADMIN'\n\nconst MESSAGING_ALLOWED_TARGETS: Record<AppRole, AppRole[]> = {\n  STUDENT: ['TUTOR', 'PARENT', 'ADMIN'],\n  TUTOR: ['STUDENT', 'PARENT', 'ADMIN'],\n  PARENT: ['STUDENT', 'TUTOR', 'ADMIN'],\n  ADMIN: ['STUDENT', 'TUTOR', 'PARENT', 'ADMIN'],\n}\n\nexport function canSendDirectMessage(senderRole: AppRole, recipientRole: AppRole): boolean {\n  return MESSAGING_ALLOWED_TARGETS[senderRole].includes(recipientRole)\n}\n\nexport function isConversationAllowedByRoles(roleA: AppRole, roleB: AppRole): boolean {\n  return canSendDirectMessage(roleA, roleB) && canSendDirectMessage(roleB, roleA)\n}\n\nexport function getInboxPathByRole(role: AppRole): string {\n  switch (role) {\n    case 'TUTOR':\n      return '/tutor/messages'\n    case 'STUDENT':\n      return '/student/messages'\n    case 'PARENT':\n      return '/parent/messages'\n    default:\n      return '/admin'\n  }\n}\n\n"],"names":[],"mappings":"wCAEA,IAAM,EAAwD,CAC5D,QAAS,CAAC,QAAS,SAAU,QAAQ,CACrC,MAAO,CAAC,UAAW,SAAU,QAAQ,CACrC,OAAQ,CAAC,UAAW,QAAS,QAAQ,CACrC,MAAO,CAAC,UAAW,QAAS,SAAU,QAAQ,AAChD,EAEO,SAAS,EAAqB,CAAmB,CAAE,CAAsB,EAC9E,OAAO,CAAyB,CAAC,EAAW,CAAC,QAAQ,CAAC,EACxD,CAEO,SAAS,EAA6B,CAAc,CAAE,CAAc,EACzE,OAAO,EAAqB,EAAO,IAAU,EAAqB,EAAO,EAC3E,CAEO,SAAS,EAAmB,CAAa,EAC9C,OAAQ,GACN,IAAK,QACH,MAAO,iBACT,KAAK,UACH,MAAO,mBACT,KAAK,SACH,MAAO,kBACT,SACE,MAAO,QACX,CACF"}}]
}