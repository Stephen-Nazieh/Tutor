{
  "version": 3,
  "sources": [],
  "debugId": "eeac545b-045d-6b43-5ed9-efa908247724",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/live-class/components/LiveClassHub.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useMemo, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useSession } from 'next-auth/react'\nimport { useSocket } from '@/hooks/use-socket'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport { toast } from 'sonner'\nimport { StudentList } from './StudentList'\nimport { UnifiedBreakoutManager, UnifiedBreakoutModal } from './breakout'\nimport { HandRaiseQueue } from './HandRaiseQueue'\nimport { ChatMonitor } from './ChatMonitor'\nimport { LiveAnalytics } from './LiveAnalytics'\nimport { CourseDevPanel } from '@/components/class/course-dev-panel'\nimport { AITeachingAssistant } from './AITeachingAssistant'\nimport { StudentProgressPanel } from './StudentProgressPanel'\nimport { MultiLayerWhiteboardInterface } from './MultiLayerWhiteboardInterface'\nimport { MathBoardHost } from '@/components/whiteboard/MathBoardHost'\nimport { QuickPollPanel } from '@/components/polls'\nimport { \n  EngagementDashboard,\n  EngagementMetrics as EngagementMetricType\n} from '@/components/class/engagement'\nimport { \n  CommandPalette, \n  useCommandPalette, \n  createClassroomActions,\n  CommandAction \n} from '@/components/class/command-palette'\nimport type { LiveStudent, BreakoutRoom, HandRaise, ChatMessage, EngagementMetrics, Alert } from '../types'\nimport { \n  Users,\n  LayoutGrid,\n  BarChart3,\n  Radio,\n  Mic,\n  MicOff,\n  Video,\n  VideoOff,\n  MonitorUp,\n  Hand,\n  ArrowLeft,\n  TrendingUp,\n  GraduationCap,\n  BarChart2,\n  Wrench,\n  Command,\n  ChevronRight,\n  LogOut,\n  Calculator\n} from 'lucide-react'\n\ninterface LiveClassHubProps {\n  sessionId: string\n}\n\ninterface LiveClassBootstrapResponse {\n  session: {\n    id: string\n    title: string\n    subject: string\n    status: string\n    roomId: string | null\n    roomUrl: string | null\n    scheduledAt: string | null\n    startedAt: string | null\n    maxStudents: number\n    linkedCourseId?: string | null\n  }\n  students: LiveStudent[]\n  messages: ChatMessage[]\n  metrics: EngagementMetrics\n  alerts: Alert[]\n}\n\nconst buildFallbackMetrics = (students: LiveStudent[]): EngagementMetrics => ({\n  totalStudents: students.length,\n  activeStudents: students.filter(s => s.status === 'online').length,\n  averageEngagement: Math.round(students.filter(s => s.status === 'online').reduce((sum, s) => sum + s.engagementScore, 0) / Math.max(1, students.filter(s => s.status === 'online').length)),\n  participationRate: 0,\n  totalChatMessages: students.reduce((sum, s) => sum + s.chatMessages, 0),\n  classDuration: 0,\n  classStartTime: new Date().toISOString(),\n  veryEngaged: students.filter(s => s.engagementScore >= 85).length,\n  engaged: students.filter(s => s.engagementScore >= 60 && s.engagementScore < 85).length,\n  passive: students.filter(s => s.engagementScore >= 30 && s.engagementScore < 60).length,\n  disengaged: students.filter(s => s.engagementScore < 30).length,\n  engagementTrend: 'stable'\n})\n\nconst deriveHandRaisesFromStudents = (students: LiveStudent[]): HandRaise[] => {\n  return students\n    .filter((s) => s.handRaised)\n    .map((s) => ({\n      id: `hand-${s.id}`,\n      studentId: s.id,\n      studentName: s.name,\n      priority: 'normal' as const,\n      raisedAt: s.lastActive || new Date().toISOString(),\n      status: 'pending' as const,\n    }))\n}\n\nexport function LiveClassHub({ sessionId }: LiveClassHubProps) {\n  const router = useRouter()\n  const { data: session } = useSession()\n  const [renderNow] = useState(() => Date.now())\n  // When a student joins via socket, add/update local state so the tutor UI updates without a full reload\n  const handleStudentJoined = useCallback((state: { userId: string; name: string; status: string; engagement: number; lastActivity: number; joinedAt: number }) => {\n    setStudents((prev) => {\n      if (prev.some((s) => s.id === state.userId)) return prev\n      const live: LiveStudent = {\n        id: state.userId,\n        name: state.name,\n        status: 'online',\n        engagementScore: state.engagement ?? 80,\n        handRaised: false,\n        attentionLevel: state.engagement >= 70 ? 'high' : state.engagement >= 40 ? 'medium' : 'low',\n        lastActive: new Date(state.lastActivity ?? Date.now()).toISOString(),\n        joinedAt: new Date(state.joinedAt ?? Date.now()).toISOString(),\n        reactions: 0,\n        chatMessages: 0,\n      }\n      return [...prev, live]\n    })\n  }, [])\n  const handleStudentLeft = useCallback((userId: string) => {\n    setStudents((prev) => prev.filter((s) => s.id !== userId))\n  }, [])\n\n  const socketOptions = session?.user?.id\n    ? {\n        roomId: sessionId,\n        userId: session.user.id,\n        name: session.user?.name || 'Tutor',\n        role: 'tutor' as const,\n        tutorId: session.user.id,\n        onStudentJoined: handleStudentJoined,\n        onStudentLeft: handleStudentLeft,\n      }\n    : undefined\n  const { socket } = useSocket(socketOptions)\n  const [isLoading, setIsLoading] = useState(true)\n  \n  // State\n  const [students, setStudents] = useState<LiveStudent[]>([])\n  const [breakoutRooms, setBreakoutRooms] = useState<BreakoutRoom[]>([])\n  const [handRaises, setHandRaises] = useState<HandRaise[]>([])\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n  const [metrics, setMetrics] = useState<EngagementMetrics | null>(null)\n  const [alerts, setAlerts] = useState<Alert[]>([])\n  const [classTitle, setClassTitle] = useState('Live Class')\n  const [classSubject, setClassSubject] = useState('General')\n  const [classRoomId, setClassRoomId] = useState<string | null>(null)\n  const [linkedCourseId, setLinkedCourseId] = useState<string | null>(null)\n  \n  // Media controls\n  const [isMuted, setIsMuted] = useState(false)\n  const [isVideoOff, setIsVideoOff] = useState(false)\n  const [isScreenSharing, setIsScreenSharing] = useState(false)\n  const [isRecording, setIsRecording] = useState(false)\n  const [recordingDurationSeconds, setRecordingDurationSeconds] = useState(0)\n  \n  // UI State\n  const [showEngagementPanel, setShowEngagementPanel] = useState(false)\n  const [showEndClassDialog, setShowEndClassDialog] = useState(false)\n  const [showRecordingNotice, setShowRecordingNotice] = useState(false)\n  const [activeTab, setActiveTab] = useState('students')\n  const [activeBreakoutRoom, setActiveBreakoutRoom] = useState<BreakoutRoom | null>(null)\n  const [isBreakoutModalOpen, setIsBreakoutModalOpen] = useState(false)\n  const autoRecordingStartedRef = useRef(false)\n  const recordingNoticeStorageKey = `live-class-recording-notice:${sessionId}`\n  // Prevent full reload when session object reference changes (e.g. refetch); only load once per sessionId + userId.\n  const loadedForRef = useRef<{ sessionId: string; userId: string } | null>(null)\n\n  useEffect(() => {\n    if (!isRecording) {\n      setRecordingDurationSeconds(0)\n      return\n    }\n    const interval = setInterval(() => {\n      setRecordingDurationSeconds((prev) => prev + 1)\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [isRecording])\n\n  // Command Palette\n  const { isOpen: isCommandPaletteOpen, setIsOpen: setCommandPaletteOpen } = useCommandPalette('cmd+k')\n\n  // Load and start class session — only once per (sessionId, userId) to avoid refresh when session reference flickers or student joins\n  useEffect(() => {\n    if (!session?.user?.id) return\n    const userId = session.user.id\n    const alreadyLoaded = loadedForRef.current?.sessionId === sessionId && loadedForRef.current?.userId === userId\n    if (alreadyLoaded) return\n\n    let cancelled = false\n    loadedForRef.current = { sessionId, userId }\n    const load = async () => {\n      setIsLoading(true)\n      try {\n        const csrfRes = await fetch('/api/csrf', { credentials: 'include' })\n        const csrfData = await csrfRes.json().catch(() => ({}))\n        const csrfToken = csrfData?.token ?? null\n\n        // Start class if not already active.\n        await fetch(`/api/tutor/classes/${sessionId}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            ...(csrfToken && { 'X-CSRF-Token': csrfToken }),\n          },\n          credentials: 'include',\n        })\n\n        const res = await fetch(`/api/tutor/classes/${sessionId}`, { credentials: 'include' })\n        if (!res.ok) {\n          const raw = await res.text().catch(() => '')\n          throw new Error(raw || `Failed to load class (${res.status})`)\n        }\n\n        const data = (await res.json()) as LiveClassBootstrapResponse\n        if (cancelled) return\n\n        setClassTitle(data.session.title || 'Live Class')\n        setClassSubject(data.session.subject || 'General')\n        setClassRoomId(data.session.roomId || null)\n        setLinkedCourseId(data.session.linkedCourseId || null)\n        setStudents(data.students || [])\n        setBreakoutRooms([])\n        setHandRaises(deriveHandRaisesFromStudents(data.students || []))\n        setMessages(data.messages || [])\n        setMetrics(data.metrics || buildFallbackMetrics(data.students || []))\n        setAlerts(data.alerts || [])\n      } catch (error) {\n        loadedForRef.current = null\n        if (!cancelled) {\n          toast.error(error instanceof Error ? error.message : 'Failed to load live class session')\n          router.push('/tutor/live-class')\n        }\n      } finally {\n        if (!cancelled) setIsLoading(false)\n      }\n    }\n\n    load()\n    return () => {\n      cancelled = true\n    }\n  }, [session?.user?.id, sessionId, router])\n\n  // Convert LiveStudent to EngagementMetrics format\n  const engagementMetrics: EngagementMetricType[] = useMemo(() => {\n    return students.map(s => {\n      let attentionLevel: 'focused' | 'distracted' | 'away' | 'inactive'\n      switch (s.attentionLevel) {\n        case 'high':\n          attentionLevel = 'focused'\n          break\n        case 'medium':\n          attentionLevel = 'distracted'\n          break\n        case 'low':\n        default:\n          attentionLevel = s.status === 'idle' ? 'away' : 'inactive'\n      }\n      \n      return {\n        studentId: s.id,\n        name: s.name,\n        engagementScore: s.engagementScore,\n        attentionLevel,\n        participationCount: s.reactions + s.chatMessages,\n        comprehensionEstimate: s.engagementScore,\n        lastActivity: new Date(s.lastActive),\n        raisedHand: s.handRaised,\n        chatMessages: s.chatMessages,\n        whiteboardInteractions: 0,\n        timeInSession: Math.floor((renderNow - new Date(s.joinedAt).getTime()) / 60000),\n        struggleIndicators: s.engagementScore < 50 ? 2 : 0\n      }\n    })\n  }, [students, renderNow])\n\n  // Create command palette actions\n  const persistRecordingState = useCallback(async (recording: boolean) => {\n    const fallbackRecordingUrl = recording ? null : classRoomId\n    await fetch(`/api/tutor/live-sessions/${sessionId}/recording`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      credentials: 'include',\n      body: JSON.stringify({\n        isRecording: recording,\n        recordingUrl: fallbackRecordingUrl,\n      }),\n    })\n  }, [classRoomId, sessionId])\n\n  const generateReplayArtifact = useCallback(async () => {\n    const response = await fetch(`/api/tutor/live-sessions/${sessionId}/replay-artifact/generate`, {\n      method: 'POST',\n      credentials: 'include',\n    })\n    if (!response.ok) {\n      throw new Error('Replay artifact generation failed')\n    }\n  }, [sessionId])\n\n  const handleToggleRecording = useCallback(async () => {\n    try {\n      if (isRecording) {\n        setIsRecording(false)\n        await persistRecordingState(false)\n        toast.success('Recording stopped. Building transcript and AI lesson summary...')\n        await generateReplayArtifact()\n        toast.success('Replay artifact ready')\n        return\n      }\n\n      setIsRecording(true)\n      setRecordingDurationSeconds(0)\n      await persistRecordingState(true)\n      toast.success('Recording started')\n    } catch (error) {\n      setIsRecording(false)\n      setRecordingDurationSeconds(0)\n      toast.error(error instanceof Error ? error.message : 'Recording action failed')\n    }\n  }, [generateReplayArtifact, isRecording, persistRecordingState])\n\n  const commandActions: CommandAction[] = useMemo(() => {\n    return createClassroomActions({\n      isAudioEnabled: !isMuted,\n      isVideoEnabled: !isVideoOff,\n      isScreenSharing,\n      isRecording,\n      studentsRaisingHands: handRaises.filter(h => h.status === 'pending').length,\n      onToggleAudio: () => {\n        setIsMuted(!isMuted)\n        toast.success(isMuted ? 'Microphone unmuted' : 'Microphone muted')\n      },\n      onToggleVideo: () => {\n        setIsVideoOff(!isVideoOff)\n        toast.success(isVideoOff ? 'Video started' : 'Video stopped')\n      },\n      onToggleScreenShare: () => {\n        setIsScreenSharing(!isScreenSharing)\n        toast.success(isScreenSharing ? 'Screen sharing stopped' : 'Screen sharing started')\n      },\n      onToggleRecording: () => {\n        void handleToggleRecording()\n      },\n      onMuteAll: () => {\n        toast.success('All students muted')\n      },\n      onCallAttention: () => {\n        toast.success('Attention request sent to all students')\n      },\n      onOpenWhiteboard: () => {\n        toast.info('Whiteboard opened')\n      },\n      onOpenBreakouts: () => {\n        toast.info('Navigate to Rooms tab for breakout management')\n      },\n      onOpenEngagement: () => {\n        setShowEngagementPanel(true)\n        toast.success('Engagement Dashboard opened')\n      },\n      onOpenPolls: () => {\n        toast.info('Navigate to Polls tab to create polls')\n      },\n      onSendBroadcast: () => {\n        toast.info('Use Chat Monitor to send messages')\n      },\n      onLeaveClass: () => {\n        setShowEndClassDialog(true)\n      }\n    })\n  }, [isMuted, isVideoOff, isScreenSharing, isRecording, handRaises, handleToggleRecording])\n\n  // Handlers\n  const handleCallOn = useCallback((studentId: string) => {\n    setStudents(prev => prev.map(s => s.id === studentId ? { ...s, handRaised: false } : s))\n    setHandRaises(prev => prev.map(h => h.studentId === studentId ? { ...h, status: 'answered' } : h))\n  }, [])\n\n  const handleAcknowledgeHand = useCallback((handId: string) => {\n    setHandRaises(prev => prev.map(h => h.id === handId ? { ...h, status: 'acknowledged' } : h))\n  }, [])\n\n  // Student Management - Push hint to student\n  const handlePushHint = useCallback((studentId: string, hint: string, type: 'socratic' | 'encouragement' = 'socratic') => {\n    const student = students.find(s => s.id === studentId)\n    if (student) {\n      toast.success(`Hint sent to ${student.name}`, {\n        description: type === 'socratic' ? 'Socratic hint delivered' : 'Encouragement sent'\n      })\n    }\n  }, [students])\n\n  // Student Management - Nudge student\n  const handleSendNudge = useCallback((studentId: string) => {\n    const student = students.find(s => s.id === studentId)\n    if (student) {\n      toast.success(`Nudge sent to ${student.name}`, {\n        description: 'Remember to ask questions if you need help!'\n      })\n    }\n  }, [students])\n\n  // Student Management - Invite to breakout\n  const handleInviteToBreakout = useCallback((studentId: string) => {\n    const student = students.find(s => s.id === studentId)\n    if (student) {\n      toast.success(`${student.name} invited to breakout room`)\n    }\n  }, [students])\n\n  const handleAssignToRoom = useCallback((studentId: string, roomId: string) => {\n    setStudents(prev => prev.map(s => s.id === studentId ? { ...s, breakoutRoomId: roomId } : s))\n    setBreakoutRooms(prev => prev.map(room => {\n      if (room.id === roomId) {\n        const student = students.find(s => s.id === studentId)\n        if (student && !room.participants.find(p => p.userId === studentId)) {\n          const participant = {\n            id: student.id,\n            userId: student.id,\n            name: student.name,\n            role: 'student' as const,\n            joinedAt: new Date().toISOString(),\n            isOnline: student.status === 'online',\n            isMuted: false,\n            isVideoOff: false,\n            isScreenSharing: false,\n            engagementScore: student.engagementScore,\n            attentionLevel: student.attentionLevel,\n            handRaised: student.handRaised\n          }\n          return { ...room, participants: [...room.participants, participant] }\n        }\n      }\n      return room\n    }))\n  }, [students])\n\n  const handleRemoveFromRoom = useCallback((studentId: string) => {\n    setStudents(prev => prev.map(s => s.id === studentId ? { ...s, breakoutRoomId: undefined } : s))\n    setBreakoutRooms(prev => prev.map(room => ({\n      ...room,\n      participants: room.participants.filter(p => p.userId !== studentId)\n    })))\n  }, [])\n\n  const handleJoinRoom = useCallback((room: BreakoutRoom) => {\n    setActiveBreakoutRoom(room)\n    setIsBreakoutModalOpen(true)\n  }, [])\n\n  const handleCloseBreakoutModal = useCallback(() => {\n    setIsBreakoutModalOpen(false)\n    setActiveBreakoutRoom(null)\n  }, [])\n\n  const handleEndBreakoutRoom = useCallback((roomId: string) => {\n    setBreakoutRooms(prev => prev.map(r => r.id === roomId ? { ...r, status: 'closed' as const } : r))\n    setStudents(prev => prev.map(s => s.breakoutRoomId === roomId ? { ...s, breakoutRoomId: undefined } : s))\n    toast.success('Breakout room ended')\n  }, [])\n\n  const handleExtendTime = useCallback((roomId: string, minutes: number) => {\n    toast.success(`Extended room time by ${minutes} minutes`)\n  }, [])\n\n  const handlePinMessage = useCallback((messageId: string) => {\n    setMessages(prev => prev.map(m => m.id === messageId ? { ...m, isPinned: !m.isPinned } : m))\n  }, [])\n\n  const handleEndClass = useCallback(async () => {\n    if (isRecording) {\n      try {\n        await persistRecordingState(false)\n        await generateReplayArtifact()\n      } catch {\n        // Non-fatal: class should still end.\n      }\n    }\n    router.push('/tutor/dashboard')\n  }, [generateReplayArtifact, isRecording, persistRecordingState, router])\n\n  const dismissRecordingNotice = useCallback(() => {\n    setShowRecordingNotice(false)\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem(recordingNoticeStorageKey, '1')\n    }\n  }, [recordingNoticeStorageKey])\n\n  useEffect(() => {\n    if (isLoading) return\n    if (autoRecordingStartedRef.current) return\n    autoRecordingStartedRef.current = true\n    const seenNotice = typeof window !== 'undefined'\n      ? window.localStorage.getItem(recordingNoticeStorageKey) === '1'\n      : false\n    if (!seenNotice) {\n      setShowRecordingNotice(true)\n    }\n    void handleToggleRecording()\n  }, [handleToggleRecording, isLoading, recordingNoticeStorageKey])\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading live session...</p>\n        </div>\n      </div>\n    )\n  }\n\n  const onlineCount = students.filter(s => s.status === 'online').length\n  const pendingHands = handRaises.filter(h => h.status === 'pending').length\n  const strugglingCount = students.filter(s => s.engagementScore < 50).length\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b px-4 py-3 flex items-center justify-between shrink-0\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div>\n            <h1 className=\"font-semibold text-lg\">{classTitle}</h1>\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <span className=\"flex items-center gap-1\">\n                <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n                Live\n              </span>\n              <span>•</span>\n              <span>Session ID: {sessionId}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex items-center gap-2\">\n            <Badge variant=\"secondary\" className=\"gap-1\">\n              <Users className=\"w-3 h-3\" />\n              {onlineCount}/{students.length}\n            </Badge>\n            {pendingHands > 0 && (\n              <Badge variant=\"destructive\" className=\"gap-1\">\n                <Hand className=\"w-3 h-3\" />\n                {pendingHands}\n              </Badge>\n            )}\n            {strugglingCount > 0 && (\n              <Badge variant=\"outline\" className=\"gap-1 border-orange-400 text-orange-600\">\n                <TrendingUp className=\"w-3 h-3\" />\n                {strugglingCount} struggling\n              </Badge>\n            )}\n          </div>\n\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n\n          {/* Tools Dropdown */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"gap-1\"\n              >\n                <Wrench className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">Tools</span>\n                <ChevronRight className=\"h-3 w-3 opacity-80 rotate-90\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-48\">\n              <DropdownMenuItem\n                onClick={() => setCommandPaletteOpen(true)}\n                className=\"gap-2\"\n              >\n                <Command className=\"h-4 w-4\" />\n                Command Palette\n                <kbd className=\"ml-auto text-[10px] bg-muted px-1 rounded\">⌘K</kbd>\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                onClick={() => setShowEngagementPanel(!showEngagementPanel)}\n                className=\"gap-2\"\n              >\n                <BarChart3 className=\"h-4 w-4\" />\n                Engagement Dashboard\n                {showEngagementPanel && <span className=\"ml-auto text-green-600\">✓</span>}\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n\n          {/* Media Controls */}\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant={isMuted ? 'destructive' : 'outline'}\n              size=\"icon\"\n              onClick={() => setIsMuted(!isMuted)}\n            >\n              {isMuted ? <MicOff className=\"w-4 h-4\" /> : <Mic className=\"w-4 h-4\" />}\n            </Button>\n            <Button\n              variant={isVideoOff ? 'destructive' : 'outline'}\n              size=\"icon\"\n              onClick={() => setIsVideoOff(!isVideoOff)}\n            >\n              {isVideoOff ? <VideoOff className=\"w-4 h-4\" /> : <Video className=\"w-4 h-4\" />}\n            </Button>\n            <Button\n              variant={isScreenSharing ? 'default' : 'outline'}\n              size=\"icon\"\n              onClick={() => setIsScreenSharing(!isScreenSharing)}\n            >\n              <MonitorUp className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant={isRecording ? 'destructive' : 'outline'}\n              size=\"sm\"\n              className=\"gap-2\"\n              onClick={() => void handleToggleRecording()}\n            >\n              <Radio className={isRecording ? 'w-4 h-4 animate-pulse' : 'w-4 h-4'} />\n              {isRecording ? 'Stop Recording' : 'Start Recording'}\n            </Button>\n            {isRecording && (\n              <Badge variant=\"destructive\" className=\"gap-1\">\n                REC {Math.floor(recordingDurationSeconds / 60)}m {String(recordingDurationSeconds % 60).padStart(2, '0')}s\n              </Badge>\n            )}\n          </div>\n\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n\n          <Button \n            variant=\"destructive\" \n            className=\"gap-2\"\n            onClick={() => setShowEndClassDialog(true)}\n          >\n            <LogOut className=\"w-4 h-4\" />\n            End Class\n          </Button>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Left Panel - Tabs */}\n        <div className=\"flex-1 p-4 overflow-hidden\">\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"h-full flex flex-col\">\n            <div className=\"w-full overflow-x-auto pb-1\">\n              <TabsList className=\"inline-flex min-w-max bg-muted p-1 rounded-lg gap-1\">\n              <TabsTrigger value=\"students\" onClick={() => setActiveTab('students')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <Users className=\"w-3 h-3\" />\n                Students\n              </TabsTrigger>\n              <TabsTrigger value=\"progress\" onClick={() => setActiveTab('progress')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <TrendingUp className=\"w-3 h-3\" />\n                Progress\n              </TabsTrigger>\n              <TabsTrigger value=\"rooms\" onClick={() => setActiveTab('rooms')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <LayoutGrid className=\"w-3 h-3\" />\n                Rooms\n              </TabsTrigger>\n              <TabsTrigger value=\"polls\" onClick={() => setActiveTab('polls')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <BarChart2 className=\"w-3 h-3\" />\n                Polls\n              </TabsTrigger>\n              <TabsTrigger value=\"whiteboard\" onClick={() => setActiveTab('whiteboard')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <Wrench className=\"w-3 h-3\" />\n                Whiteboard\n              </TabsTrigger>\n              <TabsTrigger value=\"math\" onClick={() => setActiveTab('math')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <Calculator className=\"w-3 h-3\" />\n                Math\n              </TabsTrigger>\n              <TabsTrigger value=\"course-dev\" onClick={() => setActiveTab('course-dev')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <GraduationCap className=\"w-3 h-3\" />\n                Course Dev\n              </TabsTrigger>\n              <TabsTrigger value=\"analytics\" onClick={() => setActiveTab('analytics')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <BarChart3 className=\"w-3 h-3\" />\n                Analytics\n              </TabsTrigger>\n              </TabsList>\n            </div>\n\n            <TabsContent value=\"students\" className=\"flex-1 mt-4 overflow-hidden\">\n              <StudentList \n                students={students}\n                breakoutRooms={breakoutRooms}\n                onCallOn={handleCallOn}\n                onAssignToRoom={handleAssignToRoom}\n                onRemoveFromRoom={handleRemoveFromRoom}\n                onPushHint={handlePushHint}\n                onSendNudge={handleSendNudge}\n                onInviteToBreakout={handleInviteToBreakout}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"progress\" className=\"flex-1 mt-4 overflow-hidden\">\n              <StudentProgressPanel \n                students={students}\n                classDuration={metrics?.classDuration || 0}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"rooms\" className=\"flex-1 mt-4 overflow-hidden\">\n              <UnifiedBreakoutManager\n                sessionId={sessionId}\n                tutorId={session?.user?.id || 'tutor-1'}\n                tutorName={session?.user?.name || 'Tutor'}\n                students={students}\n                onRoomsChange={setBreakoutRooms}\n                onJoinRoom={handleJoinRoom}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"polls\" className=\"flex-1 mt-4 overflow-hidden\">\n              <QuickPollPanel\n                sessionId={sessionId}\n                tutorId={session?.user?.id || 'tutor-1'}\n                totalStudents={students.length}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"whiteboard\" className=\"flex-1 mt-4 overflow-hidden\">\n              <MultiLayerWhiteboardInterface\n                sessionId={sessionId}\n                roomId={classRoomId || sessionId}\n                initialCourseId={linkedCourseId}\n                classSubject={classSubject}\n                students={students.map((student) => ({\n                  id: student.id,\n                  name: student.name,\n                  status: student.status,\n                  engagement: student.engagementScore,\n                }))}\n                isSocketConnected={Boolean(socket)}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"math\" className=\"flex-1 mt-4 overflow-hidden\">\n              <MathBoardHost\n                sessionId={`math-${sessionId}`}\n                socket={socket}\n                userId={session?.user?.id}\n                userName={session?.user?.name || 'Tutor'}\n                role=\"tutor\"\n                className=\"h-full\"\n              />\n            </TabsContent>\n\n            <TabsContent value=\"analytics\" className=\"flex-1 mt-4 overflow-hidden\">\n              <div className=\"h-full overflow-auto\">\n                {metrics && <LiveAnalytics metrics={metrics} alerts={alerts} />}\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"course-dev\" className=\"flex-1 mt-4 overflow-hidden\">\n              <CourseDevPanel\n                roomId={sessionId}\n                students={students.map(s => ({\n                  id: s.id,\n                  name: s.name,\n                  userId: s.id,\n                  status: s.status\n                }))}\n              />\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Right Panel - Sidebar */}\n        <div className=\"w-[400px] p-4 pl-0 flex flex-col gap-4 overflow-hidden\">\n          {/* AI Teaching Assistant - Top Priority */}\n          <div className=\"h-[40%] min-h-0\">\n            <AITeachingAssistant \n              students={students}\n              metrics={metrics}\n              classDuration={metrics?.classDuration || 0}\n              currentTopic={classSubject}\n            />\n          </div>\n          \n          {/* Hand Raise Queue */}\n          <div className=\"flex-1 min-h-0\">\n            <HandRaiseQueue \n              handRaises={handRaises}\n              onAcknowledge={handleAcknowledgeHand}\n              onAnswer={(handId) => {\n                const hand = handRaises.find(h => h.id === handId)\n                if (hand) handleCallOn(hand.studentId)\n              }}\n            />\n          </div>\n\n          {/* Chat Monitor */}\n          <div className=\"flex-1 min-h-0\">\n            <ChatMonitor \n              messages={messages}\n              students={students}\n              socket={socket}\n              roomId={sessionId}\n              onPinMessage={handlePinMessage}\n            />\n          </div>\n        </div>\n\n        {/* Engagement Dashboard - Overlay Panel */}\n        {showEngagementPanel && (\n          <div className=\"absolute right-4 top-20 w-96 z-50\">\n            <EngagementDashboard\n              students={engagementMetrics}\n              isOpen={showEngagementPanel}\n              onToggle={() => setShowEngagementPanel(false)}\n              onSelectStudent={(studentId) => {\n                toast.info(`Selected student: ${studentId}`)\n              }}\n              onSendNudge={handleSendNudge}\n              onInviteToBreakout={handleInviteToBreakout}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Breakout Room Modal */}\n      <UnifiedBreakoutModal\n        room={activeBreakoutRoom}\n        isOpen={isBreakoutModalOpen}\n        onClose={handleCloseBreakoutModal}\n        userId={session?.user?.id || 'tutor-1'}\n        userName={session?.user?.name || 'Tutor'}\n        role=\"tutor\"\n        onEndRoom={handleEndBreakoutRoom}\n        onExtendTime={handleExtendTime}\n      />\n\n      {/* Command Palette */}\n      <CommandPalette\n        isOpen={isCommandPaletteOpen}\n        onClose={() => setCommandPaletteOpen(false)}\n        actions={commandActions}\n      />\n\n      {/* End Class Dialog */}\n      <Dialog open={showEndClassDialog} onOpenChange={setShowEndClassDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>End Class?</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to end this live session? All students will be disconnected.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter className=\"gap-2\">\n            <Button variant=\"outline\" onClick={() => setShowEndClassDialog(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"destructive\" onClick={handleEndClass}>\n              End Class\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog\n        modal={false}\n        open={showRecordingNotice}\n        onOpenChange={(open) => {\n          if (!open) dismissRecordingNotice()\n        }}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Class Recording Is On By Default</DialogTitle>\n            <DialogDescription>\n              This session is being recorded to generate a transcript, AI lesson summary, and replay artifact for quality review, student revision, and attendance/missed-lesson continuity.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button onClick={dismissRecordingNotice}>Understood</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}