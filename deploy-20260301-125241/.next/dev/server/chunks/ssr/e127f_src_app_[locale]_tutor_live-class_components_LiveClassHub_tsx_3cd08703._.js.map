{
  "version": 3,
  "sources": [],
  "debugId": "2b8fd816-f5d3-152a-9d52-5c66d4b3224d",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/live-class/components/LiveClassHub.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useMemo, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useSession } from 'next-auth/react'\nimport { useSocket } from '@/hooks/use-socket'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport { toast } from 'sonner'\nimport { StudentList } from './StudentList'\nimport { UnifiedBreakoutManager, UnifiedBreakoutModal } from './breakout'\nimport { HandRaiseQueue } from './HandRaiseQueue'\nimport { ChatMonitor } from './ChatMonitor'\nimport { LiveAnalytics } from './LiveAnalytics'\nimport { CourseDevPanel } from '@/components/class/course-dev-panel'\nimport { AITeachingAssistant } from './AITeachingAssistant'\nimport { StudentProgressPanel } from './StudentProgressPanel'\nimport { MultiLayerWhiteboardInterface } from './MultiLayerWhiteboardInterface'\nimport { MathBoardHost } from '@/components/whiteboard/MathBoardHost'\nimport { QuickPollPanel } from '@/components/polls'\nimport { \n  EngagementDashboard,\n  EngagementMetrics as EngagementMetricType\n} from '@/components/class/engagement'\nimport { \n  CommandPalette, \n  useCommandPalette, \n  createClassroomActions,\n  CommandAction \n} from '@/components/class/command-palette'\nimport type { LiveStudent, BreakoutRoom, HandRaise, ChatMessage, EngagementMetrics, Alert } from '../types'\nimport { \n  Users,\n  LayoutGrid,\n  BarChart3,\n  Radio,\n  Mic,\n  MicOff,\n  Video,\n  VideoOff,\n  MonitorUp,\n  Hand,\n  ArrowLeft,\n  TrendingUp,\n  GraduationCap,\n  BarChart2,\n  Wrench,\n  Command,\n  ChevronRight,\n  LogOut,\n  Calculator\n} from 'lucide-react'\n\ninterface LiveClassHubProps {\n  sessionId: string\n}\n\ninterface LiveClassBootstrapResponse {\n  session: {\n    id: string\n    title: string\n    subject: string\n    status: string\n    roomId: string | null\n    roomUrl: string | null\n    scheduledAt: string | null\n    startedAt: string | null\n    maxStudents: number\n    linkedCourseId?: string | null\n  }\n  students: LiveStudent[]\n  messages: ChatMessage[]\n  metrics: EngagementMetrics\n  alerts: Alert[]\n}\n\nconst buildFallbackMetrics = (students: LiveStudent[]): EngagementMetrics => ({\n  totalStudents: students.length,\n  activeStudents: students.filter(s => s.status === 'online').length,\n  averageEngagement: Math.round(students.filter(s => s.status === 'online').reduce((sum, s) => sum + s.engagementScore, 0) / Math.max(1, students.filter(s => s.status === 'online').length)),\n  participationRate: 0,\n  totalChatMessages: students.reduce((sum, s) => sum + s.chatMessages, 0),\n  classDuration: 0,\n  classStartTime: new Date().toISOString(),\n  veryEngaged: students.filter(s => s.engagementScore >= 85).length,\n  engaged: students.filter(s => s.engagementScore >= 60 && s.engagementScore < 85).length,\n  passive: students.filter(s => s.engagementScore >= 30 && s.engagementScore < 60).length,\n  disengaged: students.filter(s => s.engagementScore < 30).length,\n  engagementTrend: 'stable'\n})\n\nconst deriveHandRaisesFromStudents = (students: LiveStudent[]): HandRaise[] => {\n  return students\n    .filter((s) => s.handRaised)\n    .map((s) => ({\n      id: `hand-${s.id}`,\n      studentId: s.id,\n      studentName: s.name,\n      priority: 'normal' as const,\n      raisedAt: s.lastActive || new Date().toISOString(),\n      status: 'pending' as const,\n    }))\n}\n\nexport function LiveClassHub({ sessionId }: LiveClassHubProps) {\n  const router = useRouter()\n  const { data: session } = useSession()\n  const [renderNow] = useState(() => Date.now())\n  // When a student joins via socket, add/update local state so the tutor UI updates without a full reload\n  const handleStudentJoined = useCallback((state: { userId: string; name: string; status: string; engagement: number; lastActivity: number; joinedAt: number }) => {\n    setStudents((prev) => {\n      if (prev.some((s) => s.id === state.userId)) return prev\n      const live: LiveStudent = {\n        id: state.userId,\n        name: state.name,\n        status: 'online',\n        engagementScore: state.engagement ?? 80,\n        handRaised: false,\n        attentionLevel: state.engagement >= 70 ? 'high' : state.engagement >= 40 ? 'medium' : 'low',\n        lastActive: new Date(state.lastActivity ?? Date.now()).toISOString(),\n        joinedAt: new Date(state.joinedAt ?? Date.now()).toISOString(),\n        reactions: 0,\n        chatMessages: 0,\n      }\n      return [...prev, live]\n    })\n  }, [])\n  const handleStudentLeft = useCallback((userId: string) => {\n    setStudents((prev) => prev.filter((s) => s.id !== userId))\n  }, [])\n\n  const socketOptions = session?.user?.id\n    ? {\n        roomId: sessionId,\n        userId: session.user.id,\n        name: session.user?.name || 'Tutor',\n        role: 'tutor' as const,\n        tutorId: session.user.id,\n        onStudentJoined: handleStudentJoined,\n        onStudentLeft: handleStudentLeft,\n      }\n    : undefined\n  const { socket } = useSocket(socketOptions)\n  const [isLoading, setIsLoading] = useState(true)\n  \n  // State\n  const [students, setStudents] = useState<LiveStudent[]>([])\n  const [breakoutRooms, setBreakoutRooms] = useState<BreakoutRoom[]>([])\n  const [handRaises, setHandRaises] = useState<HandRaise[]>([])\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n  const [metrics, setMetrics] = useState<EngagementMetrics | null>(null)\n  const [alerts, setAlerts] = useState<Alert[]>([])\n  const [classTitle, setClassTitle] = useState('Live Class')\n  const [classSubject, setClassSubject] = useState('General')\n  const [classRoomId, setClassRoomId] = useState<string | null>(null)\n  const [linkedCourseId, setLinkedCourseId] = useState<string | null>(null)\n  \n  // Media controls\n  const [isMuted, setIsMuted] = useState(false)\n  const [isVideoOff, setIsVideoOff] = useState(false)\n  const [isScreenSharing, setIsScreenSharing] = useState(false)\n  const [isRecording, setIsRecording] = useState(false)\n  const [recordingDurationSeconds, setRecordingDurationSeconds] = useState(0)\n  \n  // UI State\n  const [showEngagementPanel, setShowEngagementPanel] = useState(false)\n  const [showEndClassDialog, setShowEndClassDialog] = useState(false)\n  const [showRecordingNotice, setShowRecordingNotice] = useState(false)\n  const [activeTab, setActiveTab] = useState('students')\n  const [activeBreakoutRoom, setActiveBreakoutRoom] = useState<BreakoutRoom | null>(null)\n  const [isBreakoutModalOpen, setIsBreakoutModalOpen] = useState(false)\n  const autoRecordingStartedRef = useRef(false)\n  const recordingNoticeStorageKey = `live-class-recording-notice:${sessionId}`\n  // Prevent full reload when session object reference changes (e.g. refetch); only load once per sessionId + userId.\n  const loadedForRef = useRef<{ sessionId: string; userId: string } | null>(null)\n\n  useEffect(() => {\n    if (!isRecording) {\n      setRecordingDurationSeconds(0)\n      return\n    }\n    const interval = setInterval(() => {\n      setRecordingDurationSeconds((prev) => prev + 1)\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [isRecording])\n\n  // Command Palette\n  const { isOpen: isCommandPaletteOpen, setIsOpen: setCommandPaletteOpen } = useCommandPalette('cmd+k')\n\n  // Load and start class session — only once per (sessionId, userId) to avoid refresh when session reference flickers or student joins\n  useEffect(() => {\n    if (!session?.user?.id) return\n    const userId = session.user.id\n    const alreadyLoaded = loadedForRef.current?.sessionId === sessionId && loadedForRef.current?.userId === userId\n    if (alreadyLoaded) return\n\n    let cancelled = false\n    loadedForRef.current = { sessionId, userId }\n    const load = async () => {\n      setIsLoading(true)\n      try {\n        const csrfRes = await fetch('/api/csrf', { credentials: 'include' })\n        const csrfData = await csrfRes.json().catch(() => ({}))\n        const csrfToken = csrfData?.token ?? null\n\n        // Start class if not already active.\n        await fetch(`/api/tutor/classes/${sessionId}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            ...(csrfToken && { 'X-CSRF-Token': csrfToken }),\n          },\n          credentials: 'include',\n        })\n\n        const res = await fetch(`/api/tutor/classes/${sessionId}`, { credentials: 'include' })\n        if (!res.ok) {\n          const raw = await res.text().catch(() => '')\n          throw new Error(raw || `Failed to load class (${res.status})`)\n        }\n\n        const data = (await res.json()) as LiveClassBootstrapResponse\n        if (cancelled) return\n\n        setClassTitle(data.session.title || 'Live Class')\n        setClassSubject(data.session.subject || 'General')\n        setClassRoomId(data.session.roomId || null)\n        setLinkedCourseId(data.session.linkedCourseId || null)\n        setStudents(data.students || [])\n        setBreakoutRooms([])\n        setHandRaises(deriveHandRaisesFromStudents(data.students || []))\n        setMessages(data.messages || [])\n        setMetrics(data.metrics || buildFallbackMetrics(data.students || []))\n        setAlerts(data.alerts || [])\n      } catch (error) {\n        loadedForRef.current = null\n        if (!cancelled) {\n          toast.error(error instanceof Error ? error.message : 'Failed to load live class session')\n          router.push('/tutor/live-class')\n        }\n      } finally {\n        if (!cancelled) setIsLoading(false)\n      }\n    }\n\n    load()\n    return () => {\n      cancelled = true\n    }\n  }, [session?.user?.id, sessionId, router])\n\n  // Convert LiveStudent to EngagementMetrics format\n  const engagementMetrics: EngagementMetricType[] = useMemo(() => {\n    return students.map(s => {\n      let attentionLevel: 'focused' | 'distracted' | 'away' | 'inactive'\n      switch (s.attentionLevel) {\n        case 'high':\n          attentionLevel = 'focused'\n          break\n        case 'medium':\n          attentionLevel = 'distracted'\n          break\n        case 'low':\n        default:\n          attentionLevel = s.status === 'idle' ? 'away' : 'inactive'\n      }\n      \n      return {\n        studentId: s.id,\n        name: s.name,\n        engagementScore: s.engagementScore,\n        attentionLevel,\n        participationCount: s.reactions + s.chatMessages,\n        comprehensionEstimate: s.engagementScore,\n        lastActivity: new Date(s.lastActive),\n        raisedHand: s.handRaised,\n        chatMessages: s.chatMessages,\n        whiteboardInteractions: 0,\n        timeInSession: Math.floor((renderNow - new Date(s.joinedAt).getTime()) / 60000),\n        struggleIndicators: s.engagementScore < 50 ? 2 : 0\n      }\n    })\n  }, [students, renderNow])\n\n  // Create command palette actions\n  const persistRecordingState = useCallback(async (recording: boolean) => {\n    const fallbackRecordingUrl = recording ? null : classRoomId\n    await fetch(`/api/tutor/live-sessions/${sessionId}/recording`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      credentials: 'include',\n      body: JSON.stringify({\n        isRecording: recording,\n        recordingUrl: fallbackRecordingUrl,\n      }),\n    })\n  }, [classRoomId, sessionId])\n\n  const generateReplayArtifact = useCallback(async () => {\n    const response = await fetch(`/api/tutor/live-sessions/${sessionId}/replay-artifact/generate`, {\n      method: 'POST',\n      credentials: 'include',\n    })\n    if (!response.ok) {\n      throw new Error('Replay artifact generation failed')\n    }\n  }, [sessionId])\n\n  const handleToggleRecording = useCallback(async () => {\n    try {\n      if (isRecording) {\n        setIsRecording(false)\n        await persistRecordingState(false)\n        toast.success('Recording stopped. Building transcript and AI lesson summary...')\n        await generateReplayArtifact()\n        toast.success('Replay artifact ready')\n        return\n      }\n\n      setIsRecording(true)\n      setRecordingDurationSeconds(0)\n      await persistRecordingState(true)\n      toast.success('Recording started')\n    } catch (error) {\n      setIsRecording(false)\n      setRecordingDurationSeconds(0)\n      toast.error(error instanceof Error ? error.message : 'Recording action failed')\n    }\n  }, [generateReplayArtifact, isRecording, persistRecordingState])\n\n  const commandActions: CommandAction[] = useMemo(() => {\n    return createClassroomActions({\n      isAudioEnabled: !isMuted,\n      isVideoEnabled: !isVideoOff,\n      isScreenSharing,\n      isRecording,\n      studentsRaisingHands: handRaises.filter(h => h.status === 'pending').length,\n      onToggleAudio: () => {\n        setIsMuted(!isMuted)\n        toast.success(isMuted ? 'Microphone unmuted' : 'Microphone muted')\n      },\n      onToggleVideo: () => {\n        setIsVideoOff(!isVideoOff)\n        toast.success(isVideoOff ? 'Video started' : 'Video stopped')\n      },\n      onToggleScreenShare: () => {\n        setIsScreenSharing(!isScreenSharing)\n        toast.success(isScreenSharing ? 'Screen sharing stopped' : 'Screen sharing started')\n      },\n      onToggleRecording: () => {\n        void handleToggleRecording()\n      },\n      onMuteAll: () => {\n        toast.success('All students muted')\n      },\n      onCallAttention: () => {\n        toast.success('Attention request sent to all students')\n      },\n      onOpenWhiteboard: () => {\n        toast.info('Whiteboard opened')\n      },\n      onOpenBreakouts: () => {\n        toast.info('Navigate to Rooms tab for breakout management')\n      },\n      onOpenEngagement: () => {\n        setShowEngagementPanel(true)\n        toast.success('Engagement Dashboard opened')\n      },\n      onOpenPolls: () => {\n        toast.info('Navigate to Polls tab to create polls')\n      },\n      onSendBroadcast: () => {\n        toast.info('Use Chat Monitor to send messages')\n      },\n      onLeaveClass: () => {\n        setShowEndClassDialog(true)\n      }\n    })\n  }, [isMuted, isVideoOff, isScreenSharing, isRecording, handRaises, handleToggleRecording])\n\n  // Handlers\n  const handleCallOn = useCallback((studentId: string) => {\n    setStudents(prev => prev.map(s => s.id === studentId ? { ...s, handRaised: false } : s))\n    setHandRaises(prev => prev.map(h => h.studentId === studentId ? { ...h, status: 'answered' } : h))\n  }, [])\n\n  const handleAcknowledgeHand = useCallback((handId: string) => {\n    setHandRaises(prev => prev.map(h => h.id === handId ? { ...h, status: 'acknowledged' } : h))\n  }, [])\n\n  // Student Management - Push hint to student\n  const handlePushHint = useCallback((studentId: string, hint: string, type: 'socratic' | 'encouragement' = 'socratic') => {\n    const student = students.find(s => s.id === studentId)\n    if (student) {\n      toast.success(`Hint sent to ${student.name}`, {\n        description: type === 'socratic' ? 'Socratic hint delivered' : 'Encouragement sent'\n      })\n    }\n  }, [students])\n\n  // Student Management - Nudge student\n  const handleSendNudge = useCallback((studentId: string) => {\n    const student = students.find(s => s.id === studentId)\n    if (student) {\n      toast.success(`Nudge sent to ${student.name}`, {\n        description: 'Remember to ask questions if you need help!'\n      })\n    }\n  }, [students])\n\n  // Student Management - Invite to breakout\n  const handleInviteToBreakout = useCallback((studentId: string) => {\n    const student = students.find(s => s.id === studentId)\n    if (student) {\n      toast.success(`${student.name} invited to breakout room`)\n    }\n  }, [students])\n\n  const handleAssignToRoom = useCallback((studentId: string, roomId: string) => {\n    setStudents(prev => prev.map(s => s.id === studentId ? { ...s, breakoutRoomId: roomId } : s))\n    setBreakoutRooms(prev => prev.map(room => {\n      if (room.id === roomId) {\n        const student = students.find(s => s.id === studentId)\n        if (student && !room.participants.find(p => p.userId === studentId)) {\n          const participant = {\n            id: student.id,\n            userId: student.id,\n            name: student.name,\n            role: 'student' as const,\n            joinedAt: new Date().toISOString(),\n            isOnline: student.status === 'online',\n            isMuted: false,\n            isVideoOff: false,\n            isScreenSharing: false,\n            engagementScore: student.engagementScore,\n            attentionLevel: student.attentionLevel,\n            handRaised: student.handRaised\n          }\n          return { ...room, participants: [...room.participants, participant] }\n        }\n      }\n      return room\n    }))\n  }, [students])\n\n  const handleRemoveFromRoom = useCallback((studentId: string) => {\n    setStudents(prev => prev.map(s => s.id === studentId ? { ...s, breakoutRoomId: undefined } : s))\n    setBreakoutRooms(prev => prev.map(room => ({\n      ...room,\n      participants: room.participants.filter(p => p.userId !== studentId)\n    })))\n  }, [])\n\n  const handleJoinRoom = useCallback((room: BreakoutRoom) => {\n    setActiveBreakoutRoom(room)\n    setIsBreakoutModalOpen(true)\n  }, [])\n\n  const handleCloseBreakoutModal = useCallback(() => {\n    setIsBreakoutModalOpen(false)\n    setActiveBreakoutRoom(null)\n  }, [])\n\n  const handleEndBreakoutRoom = useCallback((roomId: string) => {\n    setBreakoutRooms(prev => prev.map(r => r.id === roomId ? { ...r, status: 'closed' as const } : r))\n    setStudents(prev => prev.map(s => s.breakoutRoomId === roomId ? { ...s, breakoutRoomId: undefined } : s))\n    toast.success('Breakout room ended')\n  }, [])\n\n  const handleExtendTime = useCallback((roomId: string, minutes: number) => {\n    toast.success(`Extended room time by ${minutes} minutes`)\n  }, [])\n\n  const handlePinMessage = useCallback((messageId: string) => {\n    setMessages(prev => prev.map(m => m.id === messageId ? { ...m, isPinned: !m.isPinned } : m))\n  }, [])\n\n  const handleEndClass = useCallback(async () => {\n    if (isRecording) {\n      try {\n        await persistRecordingState(false)\n        await generateReplayArtifact()\n      } catch {\n        // Non-fatal: class should still end.\n      }\n    }\n    router.push('/tutor/dashboard')\n  }, [generateReplayArtifact, isRecording, persistRecordingState, router])\n\n  const dismissRecordingNotice = useCallback(() => {\n    setShowRecordingNotice(false)\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem(recordingNoticeStorageKey, '1')\n    }\n  }, [recordingNoticeStorageKey])\n\n  useEffect(() => {\n    if (isLoading) return\n    if (autoRecordingStartedRef.current) return\n    autoRecordingStartedRef.current = true\n    const seenNotice = typeof window !== 'undefined'\n      ? window.localStorage.getItem(recordingNoticeStorageKey) === '1'\n      : false\n    if (!seenNotice) {\n      setShowRecordingNotice(true)\n    }\n    void handleToggleRecording()\n  }, [handleToggleRecording, isLoading, recordingNoticeStorageKey])\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading live session...</p>\n        </div>\n      </div>\n    )\n  }\n\n  const onlineCount = students.filter(s => s.status === 'online').length\n  const pendingHands = handRaises.filter(h => h.status === 'pending').length\n  const strugglingCount = students.filter(s => s.engagementScore < 50).length\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b px-4 py-3 flex items-center justify-between shrink-0\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div>\n            <h1 className=\"font-semibold text-lg\">{classTitle}</h1>\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <span className=\"flex items-center gap-1\">\n                <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n                Live\n              </span>\n              <span>•</span>\n              <span>Session ID: {sessionId}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex items-center gap-2\">\n            <Badge variant=\"secondary\" className=\"gap-1\">\n              <Users className=\"w-3 h-3\" />\n              {onlineCount}/{students.length}\n            </Badge>\n            {pendingHands > 0 && (\n              <Badge variant=\"destructive\" className=\"gap-1\">\n                <Hand className=\"w-3 h-3\" />\n                {pendingHands}\n              </Badge>\n            )}\n            {strugglingCount > 0 && (\n              <Badge variant=\"outline\" className=\"gap-1 border-orange-400 text-orange-600\">\n                <TrendingUp className=\"w-3 h-3\" />\n                {strugglingCount} struggling\n              </Badge>\n            )}\n          </div>\n\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n\n          {/* Tools Dropdown */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"gap-1\"\n              >\n                <Wrench className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">Tools</span>\n                <ChevronRight className=\"h-3 w-3 opacity-80 rotate-90\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-48\">\n              <DropdownMenuItem\n                onClick={() => setCommandPaletteOpen(true)}\n                className=\"gap-2\"\n              >\n                <Command className=\"h-4 w-4\" />\n                Command Palette\n                <kbd className=\"ml-auto text-[10px] bg-muted px-1 rounded\">⌘K</kbd>\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                onClick={() => setShowEngagementPanel(!showEngagementPanel)}\n                className=\"gap-2\"\n              >\n                <BarChart3 className=\"h-4 w-4\" />\n                Engagement Dashboard\n                {showEngagementPanel && <span className=\"ml-auto text-green-600\">✓</span>}\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n\n          {/* Media Controls */}\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant={isMuted ? 'destructive' : 'outline'}\n              size=\"icon\"\n              onClick={() => setIsMuted(!isMuted)}\n            >\n              {isMuted ? <MicOff className=\"w-4 h-4\" /> : <Mic className=\"w-4 h-4\" />}\n            </Button>\n            <Button\n              variant={isVideoOff ? 'destructive' : 'outline'}\n              size=\"icon\"\n              onClick={() => setIsVideoOff(!isVideoOff)}\n            >\n              {isVideoOff ? <VideoOff className=\"w-4 h-4\" /> : <Video className=\"w-4 h-4\" />}\n            </Button>\n            <Button\n              variant={isScreenSharing ? 'default' : 'outline'}\n              size=\"icon\"\n              onClick={() => setIsScreenSharing(!isScreenSharing)}\n            >\n              <MonitorUp className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant={isRecording ? 'destructive' : 'outline'}\n              size=\"sm\"\n              className=\"gap-2\"\n              onClick={() => void handleToggleRecording()}\n            >\n              <Radio className={isRecording ? 'w-4 h-4 animate-pulse' : 'w-4 h-4'} />\n              {isRecording ? 'Stop Recording' : 'Start Recording'}\n            </Button>\n            {isRecording && (\n              <Badge variant=\"destructive\" className=\"gap-1\">\n                REC {Math.floor(recordingDurationSeconds / 60)}m {String(recordingDurationSeconds % 60).padStart(2, '0')}s\n              </Badge>\n            )}\n          </div>\n\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n\n          <Button \n            variant=\"destructive\" \n            className=\"gap-2\"\n            onClick={() => setShowEndClassDialog(true)}\n          >\n            <LogOut className=\"w-4 h-4\" />\n            End Class\n          </Button>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Left Panel - Tabs */}\n        <div className=\"flex-1 p-4 overflow-hidden\">\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"h-full flex flex-col\">\n            <div className=\"w-full overflow-x-auto pb-1\">\n              <TabsList className=\"inline-flex min-w-max bg-muted p-1 rounded-lg gap-1\">\n              <TabsTrigger value=\"students\" onClick={() => setActiveTab('students')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <Users className=\"w-3 h-3\" />\n                Students\n              </TabsTrigger>\n              <TabsTrigger value=\"progress\" onClick={() => setActiveTab('progress')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <TrendingUp className=\"w-3 h-3\" />\n                Progress\n              </TabsTrigger>\n              <TabsTrigger value=\"rooms\" onClick={() => setActiveTab('rooms')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <LayoutGrid className=\"w-3 h-3\" />\n                Rooms\n              </TabsTrigger>\n              <TabsTrigger value=\"polls\" onClick={() => setActiveTab('polls')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <BarChart2 className=\"w-3 h-3\" />\n                Polls\n              </TabsTrigger>\n              <TabsTrigger value=\"whiteboard\" onClick={() => setActiveTab('whiteboard')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <Wrench className=\"w-3 h-3\" />\n                Whiteboard\n              </TabsTrigger>\n              <TabsTrigger value=\"math\" onClick={() => setActiveTab('math')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <Calculator className=\"w-3 h-3\" />\n                Math\n              </TabsTrigger>\n              <TabsTrigger value=\"course-dev\" onClick={() => setActiveTab('course-dev')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <GraduationCap className=\"w-3 h-3\" />\n                Course Dev\n              </TabsTrigger>\n              <TabsTrigger value=\"analytics\" onClick={() => setActiveTab('analytics')} className=\"gap-1 data-[state=active]:bg-white data-[state=active]:shadow-sm text-xs whitespace-nowrap\">\n                <BarChart3 className=\"w-3 h-3\" />\n                Analytics\n              </TabsTrigger>\n              </TabsList>\n            </div>\n\n            <TabsContent value=\"students\" className=\"flex-1 mt-4 overflow-hidden\">\n              <StudentList \n                students={students}\n                breakoutRooms={breakoutRooms}\n                onCallOn={handleCallOn}\n                onAssignToRoom={handleAssignToRoom}\n                onRemoveFromRoom={handleRemoveFromRoom}\n                onPushHint={handlePushHint}\n                onSendNudge={handleSendNudge}\n                onInviteToBreakout={handleInviteToBreakout}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"progress\" className=\"flex-1 mt-4 overflow-hidden\">\n              <StudentProgressPanel \n                students={students}\n                classDuration={metrics?.classDuration || 0}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"rooms\" className=\"flex-1 mt-4 overflow-hidden\">\n              <UnifiedBreakoutManager\n                sessionId={sessionId}\n                tutorId={session?.user?.id || 'tutor-1'}\n                tutorName={session?.user?.name || 'Tutor'}\n                students={students}\n                onRoomsChange={setBreakoutRooms}\n                onJoinRoom={handleJoinRoom}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"polls\" className=\"flex-1 mt-4 overflow-hidden\">\n              <QuickPollPanel\n                sessionId={sessionId}\n                tutorId={session?.user?.id || 'tutor-1'}\n                totalStudents={students.length}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"whiteboard\" className=\"flex-1 mt-4 overflow-hidden\">\n              <MultiLayerWhiteboardInterface\n                sessionId={sessionId}\n                roomId={classRoomId || sessionId}\n                initialCourseId={linkedCourseId}\n                classSubject={classSubject}\n                students={students.map((student) => ({\n                  id: student.id,\n                  name: student.name,\n                  status: student.status,\n                  engagement: student.engagementScore,\n                }))}\n                isSocketConnected={Boolean(socket)}\n              />\n            </TabsContent>\n\n            <TabsContent value=\"math\" className=\"flex-1 mt-4 overflow-hidden\">\n              <MathBoardHost\n                sessionId={`math-${sessionId}`}\n                socket={socket}\n                userId={session?.user?.id}\n                userName={session?.user?.name || 'Tutor'}\n                role=\"tutor\"\n                className=\"h-full\"\n              />\n            </TabsContent>\n\n            <TabsContent value=\"analytics\" className=\"flex-1 mt-4 overflow-hidden\">\n              <div className=\"h-full overflow-auto\">\n                {metrics && <LiveAnalytics metrics={metrics} alerts={alerts} />}\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"course-dev\" className=\"flex-1 mt-4 overflow-hidden\">\n              <CourseDevPanel\n                roomId={sessionId}\n                students={students.map(s => ({\n                  id: s.id,\n                  name: s.name,\n                  userId: s.id,\n                  status: s.status\n                }))}\n              />\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Right Panel - Sidebar */}\n        <div className=\"w-[400px] p-4 pl-0 flex flex-col gap-4 overflow-hidden\">\n          {/* AI Teaching Assistant - Top Priority */}\n          <div className=\"h-[40%] min-h-0\">\n            <AITeachingAssistant \n              students={students}\n              metrics={metrics}\n              classDuration={metrics?.classDuration || 0}\n              currentTopic={classSubject}\n            />\n          </div>\n          \n          {/* Hand Raise Queue */}\n          <div className=\"flex-1 min-h-0\">\n            <HandRaiseQueue \n              handRaises={handRaises}\n              onAcknowledge={handleAcknowledgeHand}\n              onAnswer={(handId) => {\n                const hand = handRaises.find(h => h.id === handId)\n                if (hand) handleCallOn(hand.studentId)\n              }}\n            />\n          </div>\n\n          {/* Chat Monitor */}\n          <div className=\"flex-1 min-h-0\">\n            <ChatMonitor \n              messages={messages}\n              students={students}\n              socket={socket}\n              roomId={sessionId}\n              onPinMessage={handlePinMessage}\n            />\n          </div>\n        </div>\n\n        {/* Engagement Dashboard - Overlay Panel */}\n        {showEngagementPanel && (\n          <div className=\"absolute right-4 top-20 w-96 z-50\">\n            <EngagementDashboard\n              students={engagementMetrics}\n              isOpen={showEngagementPanel}\n              onToggle={() => setShowEngagementPanel(false)}\n              onSelectStudent={(studentId) => {\n                toast.info(`Selected student: ${studentId}`)\n              }}\n              onSendNudge={handleSendNudge}\n              onInviteToBreakout={handleInviteToBreakout}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Breakout Room Modal */}\n      <UnifiedBreakoutModal\n        room={activeBreakoutRoom}\n        isOpen={isBreakoutModalOpen}\n        onClose={handleCloseBreakoutModal}\n        userId={session?.user?.id || 'tutor-1'}\n        userName={session?.user?.name || 'Tutor'}\n        role=\"tutor\"\n        onEndRoom={handleEndBreakoutRoom}\n        onExtendTime={handleExtendTime}\n      />\n\n      {/* Command Palette */}\n      <CommandPalette\n        isOpen={isCommandPaletteOpen}\n        onClose={() => setCommandPaletteOpen(false)}\n        actions={commandActions}\n      />\n\n      {/* End Class Dialog */}\n      <Dialog open={showEndClassDialog} onOpenChange={setShowEndClassDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>End Class?</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to end this live session? All students will be disconnected.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter className=\"gap-2\">\n            <Button variant=\"outline\" onClick={() => setShowEndClassDialog(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"destructive\" onClick={handleEndClass}>\n              End Class\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog\n        modal={false}\n        open={showRecordingNotice}\n        onOpenChange={(open) => {\n          if (!open) dismissRecordingNotice()\n        }}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Class Recording Is On By Default</DialogTitle>\n            <DialogDescription>\n              This session is being recorded to generate a transcript, AI lesson summary, and replay artifact for quality review, student revision, and attendance/missed-lesson continuity.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button onClick={dismissRecordingNotice}>Understood</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}