{
  "version": 3,
  "sources": [],
  "debugId": "37ee6e9c-5a92-536b-4639-d4c0b943ec2f",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,4NAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,+OAAC;QAAI,WAAW,IAAA,8KAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,6NAAkB;AAE/B,MAAM,yBAAW,6NAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,6NAAkB;QACjB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,6NAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,6NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,gOAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,6NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,gOAAqB,CAAC,WAAW"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,+NAAoB;AAEnC,MAAM,gBAAgB,kOAAuB;AAE7C,MAAM,eAAe,iOAAsB;AAE3C,MAAM,cAAc,gOAAqB;AAEzC,MAAM,8BAAgB,6NAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,kOAAuB;QACtB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,kOAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,6NAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,+OAAC;;0BACC,+OAAC;;;;;0BACD,+OAAC,kOAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,8KAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,+OAAC,gOAAqB;wBAAC,WAAU;;0CAC/B,+OAAC,sPAAC;gCAAC,WAAU;;;;;;0CACb,+OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kOAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,+OAAC;QACC,WAAW,IAAA,8KAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,+OAAC;QACC,WAAW,IAAA,8KAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,6NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,gOAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,6NAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sOAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,sOAA2B,CAAC,WAAW"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface SeparatorProps extends React.HTMLAttributes<HTMLDivElement> {\n  orientation?: \"horizontal\" | \"vertical\"\n  decorative?: boolean\n}\n\nconst Separator = React.forwardRef<HTMLDivElement, SeparatorProps>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <div\n      ref={ref}\n      role={decorative ? \"none\" : \"separator\"}\n      aria-orientation={decorative ? undefined : orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = \"Separator\"\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,0BAAY,6NAAgB,MAChC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,+OAAC;QACC,KAAK;QACL,MAAM,aAAa,SAAS;QAC5B,oBAAkB,aAAa,YAAY;QAC3C,WAAW,IAAA,8KAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,6NAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QACC,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,6NAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QACC,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,6NAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QACC,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,6NAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QACC,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,6NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,8KAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,6NAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QACC,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 min-h-[44px] sm:min-h-0 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,6NAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,+OAAC;QACC,MAAM;QACN,WAAW,IAAA,8KAAE,EACX,wXACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 697, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn('aspect-square h-full w-full', className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      'flex h-full w-full items-center justify-center rounded-full bg-muted',\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,6NAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,+NAAoB;QACnB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,+NAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,6NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,gOAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,6NAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,mOAAwB;QACvB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,mOAAwB,CAAC,WAAW"}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,6NAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,+OAAC,uOAAwB;QACvB,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,+OAAC,2OAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,+OAAC;;;;;0BACD,+OAAC,yOAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,uOAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,6NAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,+OAAC,sPAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,8KAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,+OAAC,kPAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,sPAAuC,CAAC,WAAW"}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectItem,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,+NAAoB;AAEnC,MAAM,cAAc,gOAAqB;AAEzC,MAAM,cAAc,gOAAqB;AAEzC,MAAM,8BAAgB,6NAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,+OAAC,kOAAuB;QACtB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,+OAAC,+NAAoB;gBAAC,OAAO;0BAC3B,cAAA,+OAAC,wRAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,kOAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,6NAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,+OAAC,iOAAsB;kBACrB,cAAA,+OAAC,kOAAuB;YACtB,KAAK;YACL,WAAW,IAAA,8KAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;sBAET,cAAA,+OAAC,mOAAwB;gBACvB,WAAW,IAAA,8KAAE,EACX,OACA,aAAa,YACX;0BAGH;;;;;;;;;;;;;;;;;AAKT,cAAc,WAAW,GAAG,kOAAuB,CAAC,WAAW;AAE/D,MAAM,2BAAa,6NAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,+OAAC,+NAAoB;QACnB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,+OAAC;gBAAK,WAAU;0BACd,cAAA,+OAAC,wOAA6B;8BAC5B,cAAA,+OAAC,kQAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,+OAAC,mOAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,+NAAoB,CAAC,WAAW"}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,oOAAyB;AAEjD,MAAM,UAAU,gOAAqB;AAErC,MAAM,iBAAiB,mOAAwB;AAE/C,MAAM,+BAAiB,6NAAgB,MAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,+OAAC,kOAAuB;kBACtB,cAAA,+OAAC,mOAAwB;YACvB,KAAK;YACL,YAAY;YACZ,WAAW,IAAA,8KAAE,EACX,sYACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,mOAAwB,CAAC,WAAW"}},
    {"offset": {"line": 1028, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,6NAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,+OAAC,iOAAsB;QACrB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,+OAAC,sOAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,iOAAsB,CAAC,WAAW"}},
    {"offset": {"line": 1073, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/slider.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SliderPrimitive from '@radix-ui/react-slider'\n\nimport { cn } from '@/lib/utils'\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative flex w-full touch-none select-none items-center',\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,6NAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,+NAAoB;QACnB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,+OAAC,gOAAqB;gBAAC,WAAU;0BAC/B,cAAA,+OAAC,gOAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,+OAAC,gOAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,+NAAoB,CAAC,WAAW"}},
    {"offset": {"line": 1131, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,4NAAG,EACvB;AAGF,MAAM,sBAAQ,6NAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,8NAAmB;QAClB,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,8NAAmB,CAAC,WAAW"}},
    {"offset": {"line": 1169, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,6NAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,+OAAC;QACC,WAAW,IAAA,8KAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,6NAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,+NAAqB;QACpB,WAAW,IAAA,8KAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,+OAAC,gOAAsB;YACrB,WAAW,IAAA,8KAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,+NAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/pdf-tutoring/PDFCollaborativeViewer.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n'use client'\n\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { useSession } from 'next-auth/react'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Input } from '@/components/ui/input'\nimport { Lock, Unlock, Upload, RefreshCw } from 'lucide-react'\nimport { usePdfCollabSocket } from '@/hooks/use-pdf-collab-socket'\nimport { percentToPx, pxToPercent } from '@/lib/pdf-tutoring/coordinates'\nimport type { PdfCanvasEventPayload, PdfViewMode, PercentFabricObject } from '@/lib/pdf-tutoring/types'\n\nasync function loadOptionalModule(moduleName: string): Promise<any | null> {\n  try {\n    const importer = new Function('name', 'return import(name)') as (name: string) => Promise<any>\n    return await importer(moduleName)\n  } catch {\n    return null\n  }\n}\n\ninterface PDFCollaborativeViewerProps {\n  roomId: string\n  role?: 'tutor' | 'student'\n  initialPdfUrl?: string\n  forceLocked?: boolean\n  showLockControl?: boolean\n  showCollabStatus?: boolean\n  showAiActions?: boolean\n  capabilities?: {\n    draw?: boolean\n    erase?: boolean\n    select?: boolean\n    text?: boolean\n    shapes?: boolean\n    clear?: boolean\n    flatten?: boolean\n  }\n}\n\nexport function PDFCollaborativeViewer({\n  roomId,\n  role = 'tutor',\n  initialPdfUrl,\n  forceLocked,\n  showLockControl,\n  showCollabStatus = true,\n  showAiActions = true,\n  capabilities,\n}: PDFCollaborativeViewerProps) {\n  const { data: session } = useSession()\n  const pdfCanvasRef = useRef<HTMLCanvasElement>(null)\n  const fabricCanvasElementRef = useRef<HTMLCanvasElement>(null)\n  const fabricInstanceRef = useRef<any>(null)\n  const renderTaskRef = useRef<any>(null)\n  const renderSeqRef = useRef(0)\n  const suppressBroadcastRef = useRef(false)\n\n  const [mode, setMode] = useState<PdfViewMode>('original')\n  const [pdfBytes, setPdfBytes] = useState<ArrayBuffer | null>(null)\n  const [pdfDoc, setPdfDoc] = useState<any>(null)\n  const [pageNum, setPageNum] = useState(1)\n  const [pageCount, setPageCount] = useState(1)\n  const [cleanedText, setCleanedText] = useState('')\n  const [markedFeedback, setMarkedFeedback] = useState('')\n  const [fabricReady, setFabricReady] = useState(false)\n  const [tool, setTool] = useState<'draw' | 'erase' | 'select'>('draw')\n  const [strokeColor, setStrokeColor] = useState('#ef4444')\n  const [strokeWidth, setStrokeWidth] = useState(2)\n\n  const userId = session?.user?.id\n  const userName = session?.user?.name || 'Tutor'\n  const effectiveCapabilities = useMemo(() => ({\n    draw: capabilities?.draw ?? true,\n    erase: capabilities?.erase ?? true,\n    select: capabilities?.select ?? true,\n    text: capabilities?.text ?? true,\n    shapes: capabilities?.shapes ?? true,\n    clear: capabilities?.clear ?? true,\n    flatten: capabilities?.flatten ?? true,\n  }), [capabilities])\n\n  const applyObjectPercentToPx = useCallback((object: PercentFabricObject, width: number, height: number) => {\n    const next: PercentFabricObject = {\n      ...object,\n      ...(typeof object.left === 'number' ? { left: percentToPx(object.left, width) } : {}),\n      ...(typeof object.top === 'number' ? { top: percentToPx(object.top, height) } : {}),\n      ...(typeof object.width === 'number' ? { width: percentToPx(object.width, width) } : {}),\n      ...(typeof object.height === 'number' ? { height: percentToPx(object.height, height) } : {}),\n      ...(typeof object.radius === 'number' ? { radius: percentToPx(object.radius, Math.min(width, height)) } : {}),\n      ...(typeof object.strokeWidth === 'number' ? { strokeWidth: percentToPx(object.strokeWidth, Math.min(width, height)) } : {}),\n      ...(typeof object.fontSize === 'number' ? { fontSize: percentToPx(object.fontSize, height) } : {}),\n    }\n\n    if (Array.isArray(next.points)) {\n      next.points = next.points.map((p) => ({\n        x: percentToPx(p.x, width),\n        y: percentToPx(p.y, height),\n      }))\n    }\n\n    if (Array.isArray(next.path)) {\n      next.path = next.path.map((segment) => {\n        if (!Array.isArray(segment) || segment.length < 3) return segment\n        const [cmd, ...nums] = segment\n        const converted: Array<string | number> = [String(cmd)]\n        for (let i = 0; i < nums.length; i += 2) {\n          const x = Number(nums[i])\n          const y = Number(nums[i + 1])\n          converted.push(percentToPx(x, width), percentToPx(y, height))\n        }\n        return converted\n      })\n    }\n\n    return next\n  }, [])\n\n  const serializeObjectToPercent = useCallback((obj: any, width: number, height: number): PercentFabricObject => {\n    const raw = obj.toObject([\n      'id', 'type', 'left', 'top', 'width', 'height', 'radius', 'scaleX', 'scaleY', 'strokeWidth',\n      'fontSize', 'angle', 'fill', 'stroke', 'text', 'path', 'points',\n    ]) as PercentFabricObject\n\n    const next: PercentFabricObject = {\n      ...raw,\n      id: raw.id || `${Date.now()}-${Math.random().toString(16).slice(2)}`,\n      ...(typeof raw.left === 'number' ? { left: pxToPercent(raw.left, width) } : {}),\n      ...(typeof raw.top === 'number' ? { top: pxToPercent(raw.top, height) } : {}),\n      ...(typeof raw.width === 'number' ? { width: pxToPercent(raw.width, width) } : {}),\n      ...(typeof raw.height === 'number' ? { height: pxToPercent(raw.height, height) } : {}),\n      ...(typeof raw.radius === 'number' ? { radius: pxToPercent(raw.radius, Math.min(width, height)) } : {}),\n      ...(typeof raw.strokeWidth === 'number' ? { strokeWidth: pxToPercent(raw.strokeWidth, Math.min(width, height)) } : {}),\n      ...(typeof raw.fontSize === 'number' ? { fontSize: pxToPercent(raw.fontSize, height) } : {}),\n    }\n\n    if (Array.isArray(next.points)) {\n      next.points = next.points.map((p) => ({\n        x: pxToPercent(p.x, width),\n        y: pxToPercent(p.y, height),\n      }))\n    }\n\n    if (Array.isArray(next.path)) {\n      next.path = next.path.map((segment) => {\n        if (!Array.isArray(segment) || segment.length < 3) return segment\n        const [cmd, ...nums] = segment\n        const converted: Array<string | number> = [String(cmd)]\n        for (let i = 0; i < nums.length; i += 2) {\n          const x = Number(nums[i])\n          const y = Number(nums[i + 1])\n          converted.push(pxToPercent(x, width), pxToPercent(y, height))\n        }\n        return converted\n      })\n    }\n\n    return next\n  }, [])\n\n  const onCanvasEvent = useCallback(async (payload: PdfCanvasEventPayload) => {\n    if (payload.page !== pageNum) return\n    const fabricCanvas = fabricInstanceRef.current\n    if (!fabricCanvas || payload.actorId === userId) return\n\n    suppressBroadcastRef.current = true\n    try {\n      if (payload.action === 'removed' && payload.objectId) {\n        const target = fabricCanvas.getObjects().find((obj: any) => obj.id === payload.objectId)\n        if (target) {\n          fabricCanvas.remove(target)\n          fabricCanvas.renderAll()\n        }\n        return\n      }\n\n      if (!payload.object) return\n      const width = fabricCanvas.getWidth()\n      const height = fabricCanvas.getHeight()\n      const objectData = applyObjectPercentToPx(payload.object, width, height)\n\n      if (!objectData.id) return\n      const existing = fabricCanvas.getObjects().find((obj: any) => obj.id === objectData.id)\n      if (existing) {\n        existing.set(objectData)\n        existing.setCoords()\n        fabricCanvas.renderAll()\n        return\n      }\n\n      const fabricMod = await loadOptionalModule('fabric')\n      const fabricApi = fabricMod?.fabric || fabricMod\n      const enliven = fabricApi?.util?.enlivenObjects\n      if (typeof enliven === 'function') {\n        enliven([objectData], (objects: any[]) => {\n          if (!objects?.[0]) return\n          fabricCanvas.add(objects[0])\n          fabricCanvas.renderAll()\n        })\n      }\n    } finally {\n      setTimeout(() => {\n        suppressBroadcastRef.current = false\n      }, 16)\n    }\n  }, [applyObjectPercentToPx, pageNum, userId])\n\n  const onCanvasState = useCallback(async (payload: { roomId: string; events: PdfCanvasEventPayload[] }) => {\n    const fabricCanvas = fabricInstanceRef.current\n    if (!fabricCanvas) return\n\n    // Rebuild last known state from event stream for late joiners.\n    const byId = new Map<string, PdfCanvasEventPayload>()\n    for (const evt of payload.events) {\n      if (evt.page !== pageNum || !evt.objectId) continue\n      if (evt.action === 'removed') {\n        byId.delete(evt.objectId)\n        continue\n      }\n      byId.set(evt.objectId, evt)\n    }\n\n    suppressBroadcastRef.current = true\n    try {\n      fabricCanvas.clear()\n      const width = fabricCanvas.getWidth()\n      const height = fabricCanvas.getHeight()\n      const fabricMod = await loadOptionalModule('fabric')\n      const fabricApi = fabricMod?.fabric || fabricMod\n      const enliven = fabricApi?.util?.enlivenObjects\n      if (typeof enliven !== 'function') return\n      const objects = Array.from(byId.values())\n        .map((evt) => evt.object)\n        .filter((obj): obj is PercentFabricObject => Boolean(obj))\n        .map((obj) => applyObjectPercentToPx(obj, width, height))\n      enliven(objects, (liveObjects: any[]) => {\n        liveObjects.forEach((obj) => fabricCanvas.add(obj))\n        fabricCanvas.renderAll()\n      })\n    } finally {\n      setTimeout(() => {\n        suppressBroadcastRef.current = false\n      }, 16)\n    }\n  }, [applyObjectPercentToPx, pageNum])\n\n  const { isConnected, isLocked, latencyMs, participants, emitCanvasEvent, setLock } = usePdfCollabSocket({\n    roomId,\n    userId,\n    name: userName,\n    role,\n    onCanvasEvent,\n    onCanvasState,\n  })\n  const effectiveLocked = typeof forceLocked === 'boolean' ? forceLocked : isLocked\n  const canDraw = effectiveCapabilities.draw && !effectiveLocked\n  const canErase = effectiveCapabilities.erase && !effectiveLocked\n  const canSelect = effectiveCapabilities.select && !effectiveLocked\n\n  useEffect(() => {\n    if (tool === 'draw' && !effectiveCapabilities.draw) {\n      setTool(effectiveCapabilities.erase ? 'erase' : 'select')\n      return\n    }\n    if (tool === 'erase' && !effectiveCapabilities.erase) {\n      setTool(effectiveCapabilities.draw ? 'draw' : 'select')\n      return\n    }\n    if (tool === 'select' && !effectiveCapabilities.select) {\n      setTool(effectiveCapabilities.draw ? 'draw' : 'erase')\n    }\n  }, [effectiveCapabilities.draw, effectiveCapabilities.erase, effectiveCapabilities.select, tool])\n\n  const renderPdfPage = useCallback(async (doc: any, pageIndex: number) => {\n    const canvas = pdfCanvasRef.current\n    if (!canvas || !doc) return\n    const renderToken = ++renderSeqRef.current\n    if (renderTaskRef.current) {\n      try {\n        renderTaskRef.current.cancel?.()\n      } catch {\n        // Ignore cancellation failures; we'll continue with latest render request.\n      }\n      renderTaskRef.current = null\n    }\n    const page = await doc.getPage(pageIndex)\n    const viewport = page.getViewport({ scale: 1.35 })\n    canvas.width = viewport.width\n    canvas.height = viewport.height\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n    const task = page.render({ canvasContext: ctx, viewport })\n    renderTaskRef.current = task\n    try {\n      await task.promise\n    } catch (error) {\n      if ((error as { name?: string })?.name === 'RenderingCancelledException') return\n      throw error\n    } finally {\n      if (renderTaskRef.current === task) {\n        renderTaskRef.current = null\n      }\n    }\n    if (renderSeqRef.current !== renderToken) return\n\n    const overlay = fabricCanvasElementRef.current\n    if (overlay) {\n      overlay.width = viewport.width\n      overlay.height = viewport.height\n      overlay.style.width = `${viewport.width}px`\n      overlay.style.height = `${viewport.height}px`\n    }\n\n    if (fabricInstanceRef.current) {\n      fabricInstanceRef.current.setDimensions({ width: viewport.width, height: viewport.height })\n      fabricInstanceRef.current.renderAll()\n    }\n  }, [])\n\n  const initializeFabric = useCallback(async () => {\n    if (!fabricCanvasElementRef.current || fabricInstanceRef.current) return\n    try {\n      const fabricMod = await loadOptionalModule('fabric')\n      const fabricApi = fabricMod?.fabric || fabricMod\n      if (!fabricApi?.Canvas) {\n        console.error('[PDFCollaborativeViewer] fabric library not found. Please run: npm install fabric')\n        setFabricReady(false)\n        return\n      }\n\n      const fabricCanvas = new fabricApi.Canvas(fabricCanvasElementRef.current, {\n        isDrawingMode: true,\n        selection: true,\n      })\n\n      fabricCanvas.freeDrawingBrush.width = 2\n      fabricCanvas.freeDrawingBrush.color = '#ef4444'\n      fabricInstanceRef.current = fabricCanvas\n      setFabricReady(true)\n\n      const broadcast = (action: 'created' | 'modified' | 'removed', target?: any) => {\n        if (!target || suppressBroadcastRef.current) return\n        const width = fabricCanvas.getWidth()\n        const height = fabricCanvas.getHeight()\n        const objectData = serializeObjectToPercent(target, width, height)\n        target.id = objectData.id\n        emitCanvasEvent({\n          page: pageNum,\n          action,\n          object: objectData,\n          objectId: objectData.id,\n        })\n      }\n\n      fabricCanvas.on('path:created', (evt: any) => {\n        if (!evt?.path) return\n        broadcast('created', evt.path)\n      })\n      fabricCanvas.on('object:modified', (evt: any) => broadcast('modified', evt?.target))\n      fabricCanvas.on('object:removed', (evt: any) => broadcast('removed', evt?.target))\n\n      return () => {\n        fabricCanvas.dispose()\n        fabricInstanceRef.current = null\n        setFabricReady(false)\n      }\n    } catch (err) {\n      console.error('[PDFCollaborativeViewer] Error initializing fabric:', err)\n      setFabricReady(false)\n    }\n  }, [emitCanvasEvent, pageNum, serializeObjectToPercent])\n\n  useEffect(() => {\n    let dispose: (() => void) | undefined\n    initializeFabric().then((fn) => {\n      if (typeof fn === 'function') dispose = fn\n    }).catch(() => {\n      setFabricReady(false)\n    })\n    return () => {\n      if (renderTaskRef.current) {\n        try {\n          renderTaskRef.current.cancel?.()\n        } catch {\n          // no-op\n        }\n        renderTaskRef.current = null\n      }\n      dispose?.()\n    }\n  }, [initializeFabric])\n\n  useEffect(() => {\n    if (fabricInstanceRef.current) {\n      const canUseCurrentDrawTool = (tool === 'draw' && canDraw) || (tool === 'erase' && canErase)\n      fabricInstanceRef.current.isDrawingMode = canUseCurrentDrawTool\n      fabricInstanceRef.current.selection = canSelect\n      if (fabricInstanceRef.current.freeDrawingBrush) {\n        fabricInstanceRef.current.freeDrawingBrush.width = strokeWidth\n        fabricInstanceRef.current.freeDrawingBrush.color = tool === 'erase' ? '#ffffff' : strokeColor\n      }\n    }\n  }, [canDraw, canErase, canSelect, strokeColor, strokeWidth, tool])\n\n  useEffect(() => {\n    if (!pdfDoc) return\n    renderPdfPage(pdfDoc, pageNum)\n  }, [pdfDoc, pageNum, renderPdfPage])\n\n  const onFileSelected = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n    const bytes = await file.arrayBuffer()\n    setPdfBytes(bytes)\n\n    const pdfjs = await import('pdfjs-dist')\n    const opts = (pdfjs as any).GlobalWorkerOptions\n    if (opts && !opts.workerSrc) opts.workerSrc = '/pdf.worker.min.mjs'\n\n    const doc = await (pdfjs as any).getDocument({ data: bytes }).promise\n    setPdfDoc(doc)\n    setPageCount(doc.numPages)\n    setPageNum(1)\n    await renderPdfPage(doc, 1)\n  }\n\n  useEffect(() => {\n    if (!initialPdfUrl) return\n    let cancelled = false\n    const loadInitialPdf = async () => {\n      try {\n        const res = await fetch(initialPdfUrl, { credentials: 'include' })\n        if (!res.ok) return\n        const bytes = await res.arrayBuffer()\n        if (cancelled) return\n        setPdfBytes(bytes)\n        const pdfjs = await import('pdfjs-dist')\n        const opts = (pdfjs as any).GlobalWorkerOptions\n        if (opts && !opts.workerSrc) opts.workerSrc = '/pdf.worker.min.mjs'\n        const doc = await (pdfjs as any).getDocument({ data: bytes }).promise\n        if (cancelled) return\n        setPdfDoc(doc)\n        setPageCount(doc.numPages)\n        setPageNum(1)\n        await renderPdfPage(doc, 1)\n      } catch {\n        // Keep component usable even if initial URL fails to load.\n      }\n    }\n    void loadInitialPdf()\n    return () => {\n      cancelled = true\n    }\n  }, [initialPdfUrl, renderPdfPage])\n\n  const callReadService = async () => {\n    const png = pdfCanvasRef.current?.toDataURL('image/png')\n    if (!png) return\n    const res = await fetch('/api/pdf-tutoring/read', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ imageDataUrl: png }),\n    })\n    const data = await res.json()\n    setCleanedText(data.markdown || data.content || '')\n    setMode('cleaned')\n  }\n\n  const callMarkService = async () => {\n    const png = pdfCanvasRef.current?.toDataURL('image/png')\n    if (!png) return\n    const res = await fetch('/api/pdf-tutoring/mark', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        imageDataUrl: png,\n        rubric: 'Award partial credit for correct setup and intermediate algebraic transformations.',\n      }),\n    })\n    const data = await res.json()\n    setMarkedFeedback(JSON.stringify(data.result || data, null, 2))\n    setMode('marked')\n  }\n\n  const applyAiErrorCircles = async () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas || !markedFeedback) return\n\n    let parsed: any = null\n    try {\n      parsed = JSON.parse(markedFeedback)\n    } catch {\n      return\n    }\n\n    const mistakes = Array.isArray(parsed?.mistakeLocations) ? parsed.mistakeLocations : []\n    if (mistakes.length === 0) return\n\n    const fabricMod = await loadOptionalModule('fabric')\n    const fabricApi = fabricMod?.fabric || fabricMod\n    if (!fabricApi?.Circle) return\n\n    const width = canvas.getWidth()\n    const height = canvas.getHeight()\n\n    mistakes.forEach((mistake: any, idx: number) => {\n      const rawX = typeof mistake?.x === 'number' ? mistake.x : 40 + idx * 30\n      const rawY = typeof mistake?.y === 'number' ? mistake.y : 40 + idx * 22\n      const x = rawX <= 100 ? percentToPx(rawX, width) : rawX\n      const y = rawY <= 100 ? percentToPx(rawY, height) : rawY\n\n      const circle = new fabricApi.Circle({\n        id: `ai-mistake-${Date.now()}-${idx}`,\n        left: Math.max(8, x - 18),\n        top: Math.max(8, y - 18),\n        radius: 18,\n        fill: 'rgba(239,68,68,0.06)',\n        stroke: '#ef4444',\n        strokeWidth: 2,\n        selectable: true,\n      })\n      canvas.add(circle)\n    })\n\n    canvas.renderAll()\n  }\n\n  const callFlattenService = async () => {\n    if (!pdfBytes || !fabricInstanceRef.current) return\n\n    const bytes = new Uint8Array(pdfBytes)\n    let binary = ''\n    for (let i = 0; i < bytes.length; i++) binary += String.fromCharCode(bytes[i])\n    const originalPdfBase64 = btoa(binary)\n    const canvas = fabricInstanceRef.current\n    const payload = {\n      originalPdfBase64,\n      fabric: {\n        page: pageNum,\n        width: canvas.getWidth(),\n        height: canvas.getHeight(),\n        objects: canvas.getObjects().map((obj: any) => serializeObjectToPercent(obj, canvas.getWidth(), canvas.getHeight())),\n      },\n    }\n\n    const res = await fetch('/api/pdf-tutoring/flatten', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    })\n\n    if (!res.ok) return\n    const blob = await res.blob()\n    const url = URL.createObjectURL(blob)\n    window.open(url, '_blank', 'noopener,noreferrer')\n  }\n\n  const addTextBox = async () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas || effectiveLocked || !effectiveCapabilities.text) return\n    const fabricMod = await loadOptionalModule('fabric')\n    const fabricApi = fabricMod?.fabric || fabricMod\n    if (!fabricApi?.IText) return\n    const text = new fabricApi.IText('Type here', {\n      id: `text-${Date.now()}`,\n      left: 48,\n      top: 48,\n      fill: '#ef4444',\n      fontSize: 20,\n      editable: true,\n    })\n    canvas.add(text)\n    canvas.setActiveObject(text)\n    text.enterEditing?.()\n    canvas.renderAll()\n  }\n\n  const addRectangle = async () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas || effectiveLocked || !effectiveCapabilities.shapes) return\n    const fabricMod = await loadOptionalModule('fabric')\n    const fabricApi = fabricMod?.fabric || fabricMod\n    if (!fabricApi?.Rect) return\n    const rect = new fabricApi.Rect({\n      id: `rect-${Date.now()}`,\n      left: 48,\n      top: 48,\n      width: 140,\n      height: 90,\n      fill: 'transparent',\n      stroke: strokeColor,\n      strokeWidth,\n    })\n    canvas.add(rect)\n    canvas.setActiveObject(rect)\n    canvas.renderAll()\n  }\n\n  const addCircle = async () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas || effectiveLocked || !effectiveCapabilities.shapes) return\n    const fabricMod = await loadOptionalModule('fabric')\n    const fabricApi = fabricMod?.fabric || fabricMod\n    if (!fabricApi?.Circle) return\n    const circle = new fabricApi.Circle({\n      id: `circle-${Date.now()}`,\n      left: 48,\n      top: 48,\n      radius: 55,\n      fill: 'transparent',\n      stroke: strokeColor,\n      strokeWidth,\n    })\n    canvas.add(circle)\n    canvas.setActiveObject(circle)\n    canvas.renderAll()\n  }\n\n  const clearCurrentPage = () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas || effectiveLocked || !effectiveCapabilities.clear) return\n    canvas.clear()\n    canvas.renderAll()\n  }\n\n  const saveSnapshot = useCallback(async () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas) return\n    await fetch('/api/pdf-tutoring/snapshots', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        roomId,\n        page: pageNum,\n        width: canvas.getWidth(),\n        height: canvas.getHeight(),\n        objects: canvas.getObjects().map((obj: any) => serializeObjectToPercent(obj, canvas.getWidth(), canvas.getHeight())),\n      }),\n    })\n  }, [roomId, pageNum, serializeObjectToPercent])\n\n  useEffect(() => {\n    if (role !== 'tutor') return\n    const interval = setInterval(() => {\n      const canvas = fabricInstanceRef.current\n      if (!canvas) return\n      if ((canvas.getObjects?.() || []).length === 0) return\n      void saveSnapshot()\n    }, 60 * 1000)\n\n    return () => clearInterval(interval)\n  }, [role, saveSnapshot])\n\n  const loadLatestSnapshot = async () => {\n    const canvas = fabricInstanceRef.current\n    if (!canvas) return\n\n    const res = await fetch(`/api/pdf-tutoring/snapshots?roomId=${encodeURIComponent(roomId)}&limit=1`, {\n      credentials: 'include',\n    })\n    if (!res.ok) return\n    const data = await res.json()\n    const latest = data?.snapshots?.[0]\n    const payload = latest?.pages?.[0]\n    if (!payload?.objects || !Array.isArray(payload.objects)) return\n\n    canvas.clear()\n    const width = canvas.getWidth()\n    const height = canvas.getHeight()\n    const fabricMod = await loadOptionalModule('fabric')\n    const fabricApi = fabricMod?.fabric || fabricMod\n    const enliven = fabricApi?.util?.enlivenObjects\n    if (typeof enliven !== 'function') return\n\n    const mapped = payload.objects.map((obj: PercentFabricObject) => applyObjectPercentToPx(obj, width, height))\n    enliven(mapped, (objects: any[]) => {\n      objects.forEach((obj) => canvas.add(obj))\n      canvas.renderAll()\n    })\n  }\n\n  const connectionBadge = useMemo(() => {\n    if (!isConnected) return <Badge variant=\"destructive\">Offline</Badge>\n    if (latencyMs !== null && latencyMs > 50) return <Badge variant=\"secondary\">Sync {latencyMs}ms</Badge>\n    return <Badge variant=\"default\">Sync &lt;50ms</Badge>\n  }, [isConnected, latencyMs])\n  const participantSummary = useMemo(() => {\n    const total = participants.length\n    const tutors = participants.filter((participant) => participant.role === 'tutor').length\n    const students = total - tutors\n    return { total, tutors, students }\n  }, [participants])\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <Input type=\"file\" accept=\"application/pdf\" onChange={onFileSelected} className=\"max-w-sm\" />\n        {showCollabStatus && connectionBadge}\n        {showCollabStatus && (\n          <Badge variant=\"outline\">\n            Live: {participantSummary.total} ({participantSummary.tutors} tutor, {participantSummary.students} students)\n          </Badge>\n        )}\n        {showCollabStatus && (\n          <Badge variant={isLocked ? 'destructive' : 'secondary'}>\n            {effectiveLocked ? 'Canvas Locked' : 'Canvas Unlocked'}\n          </Badge>\n        )}\n        {(showLockControl ?? role === 'tutor') && (\n          <Button variant=\"outline\" size=\"sm\" onClick={() => setLock(!effectiveLocked)}>\n            {effectiveLocked ? <Unlock className=\"w-4 h-4 mr-2\" /> : <Lock className=\"w-4 h-4 mr-2\" />}\n            {effectiveLocked ? 'Unlock Canvas' : 'Lock Canvas'}\n          </Button>\n        )}\n        {showAiActions && (\n          <Button variant=\"outline\" size=\"sm\" onClick={callReadService}>\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\n            AI Cleaned Text\n          </Button>\n        )}\n        {showAiActions && <Button variant=\"outline\" size=\"sm\" onClick={callMarkService}>Run AI Marking</Button>}\n        {showAiActions && <Button variant=\"outline\" size=\"sm\" onClick={applyAiErrorCircles}>Apply AI Error Circles</Button>}\n        {effectiveCapabilities.text && (\n          <Button variant=\"outline\" size=\"sm\" onClick={addTextBox} disabled={effectiveLocked}>\n            Add Text\n          </Button>\n        )}\n        {effectiveCapabilities.shapes && (\n          <>\n            <Button variant=\"outline\" size=\"sm\" onClick={addRectangle} disabled={effectiveLocked}>\n              Rectangle\n            </Button>\n            <Button variant=\"outline\" size=\"sm\" onClick={addCircle} disabled={effectiveLocked}>\n              Circle\n            </Button>\n          </>\n        )}\n        <Button variant={tool === 'draw' ? 'default' : 'outline'} size=\"sm\" onClick={() => setTool('draw')} disabled={!canDraw}>\n          Draw\n        </Button>\n        <Button variant={tool === 'erase' ? 'default' : 'outline'} size=\"sm\" onClick={() => setTool('erase')} disabled={!canErase}>\n          Erase\n        </Button>\n        <Button variant={tool === 'select' ? 'default' : 'outline'} size=\"sm\" onClick={() => setTool('select')} disabled={!canSelect}>\n          Select\n        </Button>\n        <label className=\"flex items-center gap-1 text-xs\">\n          Color\n          <input\n            type=\"color\"\n            value={strokeColor}\n            onChange={(e) => setStrokeColor(e.target.value)}\n            disabled={effectiveLocked || (!canDraw && !canErase)}\n            className=\"h-7 w-10 rounded border\"\n          />\n        </label>\n        <label className=\"flex items-center gap-1 text-xs\">\n          Width\n          <input\n            type=\"range\"\n            min={1}\n            max={10}\n            step={1}\n            value={strokeWidth}\n            onChange={(e) => setStrokeWidth(Number(e.target.value))}\n            disabled={effectiveLocked || (!canDraw && !canErase)}\n          />\n          <span>{strokeWidth}</span>\n        </label>\n        {effectiveCapabilities.clear && (\n          <Button variant=\"outline\" size=\"sm\" onClick={clearCurrentPage} disabled={effectiveLocked}>\n            Clear\n          </Button>\n        )}\n        {role === 'tutor' && (\n          <>\n            <Button variant=\"outline\" size=\"sm\" onClick={saveSnapshot}>Save Snapshot</Button>\n            <Button variant=\"outline\" size=\"sm\" onClick={loadLatestSnapshot}>Load Latest Snapshot</Button>\n          </>\n        )}\n        {effectiveCapabilities.flatten && <Button size=\"sm\" onClick={callFlattenService}>Flatten PDF</Button>}\n      </div>\n\n      <Tabs value={mode} onValueChange={(value) => setMode(value as PdfViewMode)}>\n        <TabsList>\n          <TabsTrigger value=\"original\">Original View</TabsTrigger>\n          {showAiActions && <TabsTrigger value=\"cleaned\">AI Cleaned Text</TabsTrigger>}\n          <TabsTrigger value=\"marked\">Marked Feedback</TabsTrigger>\n        </TabsList>\n      </Tabs>\n\n      <div className=\"flex items-center gap-2\">\n        <Button variant=\"outline\" size=\"sm\" disabled={pageNum <= 1} onClick={() => setPageNum((prev) => prev - 1)}>Prev</Button>\n        <span className=\"text-sm\">Page {pageNum} / {pageCount}</span>\n        <Button variant=\"outline\" size=\"sm\" disabled={pageNum >= pageCount} onClick={() => setPageNum((prev) => prev + 1)}>Next</Button>\n        {!fabricReady && <Badge variant=\"secondary\">Install `fabric` package to enable drawing sync</Badge>}\n      </div>\n\n      {mode === 'original' && (\n        <div className=\"relative inline-block border rounded-md overflow-hidden bg-white\">\n          <canvas ref={pdfCanvasRef} className=\"block\" />\n          <canvas ref={fabricCanvasElementRef} className=\"absolute inset-0\" />\n        </div>\n      )}\n\n      {mode === 'cleaned' && showAiActions && (\n        <pre className=\"rounded-md border bg-muted p-4 text-xs whitespace-pre-wrap\">{cleanedText || 'No cleaned text generated yet.'}</pre>\n      )}\n\n      {mode === 'marked' && (\n        <pre className=\"rounded-md border bg-muted p-4 text-xs whitespace-pre-wrap\">{markedFeedback || 'No marking feedback generated yet.'}</pre>\n      )}\n\n      <div className=\"text-xs text-muted-foreground flex items-center gap-2\">\n        <Upload className=\"w-3.5 h-3.5\" />\n        Coordinates are normalized as 0-100 percentages before sync for cross-device consistency.\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AAXA,qDAAqD,GACrD;;;;;;;;;;AAaA,eAAe,mBAAmB,UAAkB;IAClD,IAAI;QACF,MAAM,WAAW,IAAI,SAAS,QAAQ;QACtC,OAAO,MAAM,SAAS;IACxB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAqBO,SAAS,uBAAuB,EACrC,MAAM,EACN,OAAO,OAAO,EACd,aAAa,EACb,WAAW,EACX,eAAe,EACf,mBAAmB,IAAI,EACvB,gBAAgB,IAAI,EACpB,YAAY,EACgB;;IAC5B,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,iNAAU;IACpC,MAAM,eAAe,IAAA,yNAAM,EAAoB;IAC/C,MAAM,yBAAyB,IAAA,yNAAM,EAAoB;IACzD,MAAM,oBAAoB,IAAA,yNAAM,EAAM;IACtC,MAAM,gBAAgB,IAAA,yNAAM,EAAM;IAClC,MAAM,eAAe,IAAA,yNAAM,EAAC;IAC5B,MAAM,uBAAuB,IAAA,yNAAM,EAAC;IAEpC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2NAAQ,EAAc;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2NAAQ,EAAqB;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,2NAAQ,EAAM;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2NAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,2NAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2NAAQ,EAAC;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,2NAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2NAAQ,EAAC;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2NAAQ,EAA8B;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2NAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2NAAQ,EAAC;IAE/C,MAAM,SAAS,SAAS,MAAM;IAC9B,MAAM,WAAW,SAAS,MAAM,QAAQ;IACxC,MAAM,wBAAwB,IAAA,0NAAO;iEAAC,IAAM,CAAC;gBAC3C,MAAM,cAAc,QAAQ;gBAC5B,OAAO,cAAc,SAAS;gBAC9B,QAAQ,cAAc,UAAU;gBAChC,MAAM,cAAc,QAAQ;gBAC5B,QAAQ,cAAc,UAAU;gBAChC,OAAO,cAAc,SAAS;gBAC9B,SAAS,cAAc,WAAW;YACpC,CAAC;gEAAG;QAAC;KAAa;IAElB,MAAM,yBAAyB,IAAA,8NAAW;sEAAC,CAAC,QAA6B,OAAe;YACtF,MAAM,OAA4B;gBAChC,GAAG,MAAM;gBACT,GAAI,OAAO,OAAO,IAAI,KAAK,WAAW;oBAAE,MAAM,IAAA,gNAAW,EAAC,OAAO,IAAI,EAAE;gBAAO,IAAI,CAAC,CAAC;gBACpF,GAAI,OAAO,OAAO,GAAG,KAAK,WAAW;oBAAE,KAAK,IAAA,gNAAW,EAAC,OAAO,GAAG,EAAE;gBAAQ,IAAI,CAAC,CAAC;gBAClF,GAAI,OAAO,OAAO,KAAK,KAAK,WAAW;oBAAE,OAAO,IAAA,gNAAW,EAAC,OAAO,KAAK,EAAE;gBAAO,IAAI,CAAC,CAAC;gBACvF,GAAI,OAAO,OAAO,MAAM,KAAK,WAAW;oBAAE,QAAQ,IAAA,gNAAW,EAAC,OAAO,MAAM,EAAE;gBAAQ,IAAI,CAAC,CAAC;gBAC3F,GAAI,OAAO,OAAO,MAAM,KAAK,WAAW;oBAAE,QAAQ,IAAA,gNAAW,EAAC,OAAO,MAAM,EAAE,KAAK,GAAG,CAAC,OAAO;gBAAS,IAAI,CAAC,CAAC;gBAC5G,GAAI,OAAO,OAAO,WAAW,KAAK,WAAW;oBAAE,aAAa,IAAA,gNAAW,EAAC,OAAO,WAAW,EAAE,KAAK,GAAG,CAAC,OAAO;gBAAS,IAAI,CAAC,CAAC;gBAC3H,GAAI,OAAO,OAAO,QAAQ,KAAK,WAAW;oBAAE,UAAU,IAAA,gNAAW,EAAC,OAAO,QAAQ,EAAE;gBAAQ,IAAI,CAAC,CAAC;YACnG;YAEA,IAAI,MAAM,OAAO,CAAC,KAAK,MAAM,GAAG;gBAC9B,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC,GAAG;kFAAC,CAAC,IAAM,CAAC;4BACpC,GAAG,IAAA,gNAAW,EAAC,EAAE,CAAC,EAAE;4BACpB,GAAG,IAAA,gNAAW,EAAC,EAAE,CAAC,EAAE;wBACtB,CAAC;;YACH;YAEA,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;gBAC5B,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC,GAAG;kFAAC,CAAC;wBACzB,IAAI,CAAC,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,GAAG,GAAG,OAAO;wBAC1D,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG;wBACvB,MAAM,YAAoC;4BAAC,OAAO;yBAAK;wBACvD,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,KAAK,EAAG;4BACvC,MAAM,IAAI,OAAO,IAAI,CAAC,EAAE;4BACxB,MAAM,IAAI,OAAO,IAAI,CAAC,IAAI,EAAE;4BAC5B,UAAU,IAAI,CAAC,IAAA,gNAAW,EAAC,GAAG,QAAQ,IAAA,gNAAW,EAAC,GAAG;wBACvD;wBACA,OAAO;oBACT;;YACF;YAEA,OAAO;QACT;qEAAG,EAAE;IAEL,MAAM,2BAA2B,IAAA,8NAAW;wEAAC,CAAC,KAAU,OAAe;YACrE,MAAM,MAAM,IAAI,QAAQ,CAAC;gBACvB;gBAAM;gBAAQ;gBAAQ;gBAAO;gBAAS;gBAAU;gBAAU;gBAAU;gBAAU;gBAC9E;gBAAY;gBAAS;gBAAQ;gBAAU;gBAAQ;gBAAQ;aACxD;YAED,MAAM,OAA4B;gBAChC,GAAG,GAAG;gBACN,IAAI,IAAI,EAAE,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC,IAAI;gBACpE,GAAI,OAAO,IAAI,IAAI,KAAK,WAAW;oBAAE,MAAM,IAAA,gNAAW,EAAC,IAAI,IAAI,EAAE;gBAAO,IAAI,CAAC,CAAC;gBAC9E,GAAI,OAAO,IAAI,GAAG,KAAK,WAAW;oBAAE,KAAK,IAAA,gNAAW,EAAC,IAAI,GAAG,EAAE;gBAAQ,IAAI,CAAC,CAAC;gBAC5E,GAAI,OAAO,IAAI,KAAK,KAAK,WAAW;oBAAE,OAAO,IAAA,gNAAW,EAAC,IAAI,KAAK,EAAE;gBAAO,IAAI,CAAC,CAAC;gBACjF,GAAI,OAAO,IAAI,MAAM,KAAK,WAAW;oBAAE,QAAQ,IAAA,gNAAW,EAAC,IAAI,MAAM,EAAE;gBAAQ,IAAI,CAAC,CAAC;gBACrF,GAAI,OAAO,IAAI,MAAM,KAAK,WAAW;oBAAE,QAAQ,IAAA,gNAAW,EAAC,IAAI,MAAM,EAAE,KAAK,GAAG,CAAC,OAAO;gBAAS,IAAI,CAAC,CAAC;gBACtG,GAAI,OAAO,IAAI,WAAW,KAAK,WAAW;oBAAE,aAAa,IAAA,gNAAW,EAAC,IAAI,WAAW,EAAE,KAAK,GAAG,CAAC,OAAO;gBAAS,IAAI,CAAC,CAAC;gBACrH,GAAI,OAAO,IAAI,QAAQ,KAAK,WAAW;oBAAE,UAAU,IAAA,gNAAW,EAAC,IAAI,QAAQ,EAAE;gBAAQ,IAAI,CAAC,CAAC;YAC7F;YAEA,IAAI,MAAM,OAAO,CAAC,KAAK,MAAM,GAAG;gBAC9B,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC,GAAG;oFAAC,CAAC,IAAM,CAAC;4BACpC,GAAG,IAAA,gNAAW,EAAC,EAAE,CAAC,EAAE;4BACpB,GAAG,IAAA,gNAAW,EAAC,EAAE,CAAC,EAAE;wBACtB,CAAC;;YACH;YAEA,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;gBAC5B,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC,GAAG;oFAAC,CAAC;wBACzB,IAAI,CAAC,MAAM,OAAO,CAAC,YAAY,QAAQ,MAAM,GAAG,GAAG,OAAO;wBAC1D,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG;wBACvB,MAAM,YAAoC;4BAAC,OAAO;yBAAK;wBACvD,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,KAAK,EAAG;4BACvC,MAAM,IAAI,OAAO,IAAI,CAAC,EAAE;4BACxB,MAAM,IAAI,OAAO,IAAI,CAAC,IAAI,EAAE;4BAC5B,UAAU,IAAI,CAAC,IAAA,gNAAW,EAAC,GAAG,QAAQ,IAAA,gNAAW,EAAC,GAAG;wBACvD;wBACA,OAAO;oBACT;;YACF;YAEA,OAAO;QACT;uEAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,8NAAW;6DAAC,OAAO;YACvC,IAAI,QAAQ,IAAI,KAAK,SAAS;YAC9B,MAAM,eAAe,kBAAkB,OAAO;YAC9C,IAAI,CAAC,gBAAgB,QAAQ,OAAO,KAAK,QAAQ;YAEjD,qBAAqB,OAAO,GAAG;YAC/B,IAAI;gBACF,IAAI,QAAQ,MAAM,KAAK,aAAa,QAAQ,QAAQ,EAAE;oBACpD,MAAM,SAAS,aAAa,UAAU,GAAG,IAAI;oFAAC,CAAC,MAAa,IAAI,EAAE,KAAK,QAAQ,QAAQ;;oBACvF,IAAI,QAAQ;wBACV,aAAa,MAAM,CAAC;wBACpB,aAAa,SAAS;oBACxB;oBACA;gBACF;gBAEA,IAAI,CAAC,QAAQ,MAAM,EAAE;gBACrB,MAAM,QAAQ,aAAa,QAAQ;gBACnC,MAAM,SAAS,aAAa,SAAS;gBACrC,MAAM,aAAa,uBAAuB,QAAQ,MAAM,EAAE,OAAO;gBAEjE,IAAI,CAAC,WAAW,EAAE,EAAE;gBACpB,MAAM,WAAW,aAAa,UAAU,GAAG,IAAI;kFAAC,CAAC,MAAa,IAAI,EAAE,KAAK,WAAW,EAAE;;gBACtF,IAAI,UAAU;oBACZ,SAAS,GAAG,CAAC;oBACb,SAAS,SAAS;oBAClB,aAAa,SAAS;oBACtB;gBACF;gBAEA,MAAM,YAAY,MAAM,mBAAmB;gBAC3C,MAAM,YAAY,WAAW,UAAU;gBACvC,MAAM,UAAU,WAAW,MAAM;gBACjC,IAAI,OAAO,YAAY,YAAY;oBACjC,QAAQ;wBAAC;qBAAW;6EAAE,CAAC;4BACrB,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE;4BACnB,aAAa,GAAG,CAAC,OAAO,CAAC,EAAE;4BAC3B,aAAa,SAAS;wBACxB;;gBACF;YACF,SAAU;gBACR;yEAAW;wBACT,qBAAqB,OAAO,GAAG;oBACjC;wEAAG;YACL;QACF;4DAAG;QAAC;QAAwB;QAAS;KAAO;IAE5C,MAAM,gBAAgB,IAAA,8NAAW;6DAAC,OAAO;YACvC,MAAM,eAAe,kBAAkB,OAAO;YAC9C,IAAI,CAAC,cAAc;YAEnB,+DAA+D;YAC/D,MAAM,OAAO,IAAI;YACjB,KAAK,MAAM,OAAO,QAAQ,MAAM,CAAE;gBAChC,IAAI,IAAI,IAAI,KAAK,WAAW,CAAC,IAAI,QAAQ,EAAE;gBAC3C,IAAI,IAAI,MAAM,KAAK,WAAW;oBAC5B,KAAK,MAAM,CAAC,IAAI,QAAQ;oBACxB;gBACF;gBACA,KAAK,GAAG,CAAC,IAAI,QAAQ,EAAE;YACzB;YAEA,qBAAqB,OAAO,GAAG;YAC/B,IAAI;gBACF,aAAa,KAAK;gBAClB,MAAM,QAAQ,aAAa,QAAQ;gBACnC,MAAM,SAAS,aAAa,SAAS;gBACrC,MAAM,YAAY,MAAM,mBAAmB;gBAC3C,MAAM,YAAY,WAAW,UAAU;gBACvC,MAAM,UAAU,WAAW,MAAM;gBACjC,IAAI,OAAO,YAAY,YAAY;gBACnC,MAAM,UAAU,MAAM,IAAI,CAAC,KAAK,MAAM,IACnC,GAAG;iFAAC,CAAC,MAAQ,IAAI,MAAM;gFACvB,MAAM;iFAAC,CAAC,MAAoC,QAAQ;gFACpD,GAAG;iFAAC,CAAC,MAAQ,uBAAuB,KAAK,OAAO;;gBACnD,QAAQ;yEAAS,CAAC;wBAChB,YAAY,OAAO;iFAAC,CAAC,MAAQ,aAAa,GAAG,CAAC;;wBAC9C,aAAa,SAAS;oBACxB;;YACF,SAAU;gBACR;yEAAW;wBACT,qBAAqB,OAAO,GAAG;oBACjC;wEAAG;YACL;QACF;4DAAG;QAAC;QAAwB;KAAQ;IAEpC,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,yNAAkB,EAAC;QACtG;QACA;QACA,MAAM;QACN;QACA;QACA;IACF;IACA,MAAM,kBAAkB,OAAO,gBAAgB,YAAY,cAAc;IACzE,MAAM,UAAU,sBAAsB,IAAI,IAAI,CAAC;IAC/C,MAAM,WAAW,sBAAsB,KAAK,IAAI,CAAC;IACjD,MAAM,YAAY,sBAAsB,MAAM,IAAI,CAAC;IAEnD,IAAA,4NAAS;4CAAC;YACR,IAAI,SAAS,UAAU,CAAC,sBAAsB,IAAI,EAAE;gBAClD,QAAQ,sBAAsB,KAAK,GAAG,UAAU;gBAChD;YACF;YACA,IAAI,SAAS,WAAW,CAAC,sBAAsB,KAAK,EAAE;gBACpD,QAAQ,sBAAsB,IAAI,GAAG,SAAS;gBAC9C;YACF;YACA,IAAI,SAAS,YAAY,CAAC,sBAAsB,MAAM,EAAE;gBACtD,QAAQ,sBAAsB,IAAI,GAAG,SAAS;YAChD;QACF;2CAAG;QAAC,sBAAsB,IAAI;QAAE,sBAAsB,KAAK;QAAE,sBAAsB,MAAM;QAAE;KAAK;IAEhG,MAAM,gBAAgB,IAAA,8NAAW;6DAAC,OAAO,KAAU;YACjD,MAAM,SAAS,aAAa,OAAO;YACnC,IAAI,CAAC,UAAU,CAAC,KAAK;YACrB,MAAM,cAAc,EAAE,aAAa,OAAO;YAC1C,IAAI,cAAc,OAAO,EAAE;gBACzB,IAAI;oBACF,cAAc,OAAO,CAAC,MAAM;gBAC9B,EAAE,OAAM;gBACN,2EAA2E;gBAC7E;gBACA,cAAc,OAAO,GAAG;YAC1B;YACA,MAAM,OAAO,MAAM,IAAI,OAAO,CAAC;YAC/B,MAAM,WAAW,KAAK,WAAW,CAAC;gBAAE,OAAO;YAAK;YAChD,OAAO,KAAK,GAAG,SAAS,KAAK;YAC7B,OAAO,MAAM,GAAG,SAAS,MAAM;YAE/B,MAAM,MAAM,OAAO,UAAU,CAAC;YAC9B,IAAI,CAAC,KAAK;YACV,MAAM,OAAO,KAAK,MAAM,CAAC;gBAAE,eAAe;gBAAK;YAAS;YACxD,cAAc,OAAO,GAAG;YACxB,IAAI;gBACF,MAAM,KAAK,OAAO;YACpB,EAAE,OAAO,OAAO;gBACd,IAAI,AAAC,OAA6B,SAAS,+BAA+B;gBAC1E,MAAM;YACR,SAAU;gBACR,IAAI,cAAc,OAAO,KAAK,MAAM;oBAClC,cAAc,OAAO,GAAG;gBAC1B;YACF;YACA,IAAI,aAAa,OAAO,KAAK,aAAa;YAE1C,MAAM,UAAU,uBAAuB,OAAO;YAC9C,IAAI,SAAS;gBACX,QAAQ,KAAK,GAAG,SAAS,KAAK;gBAC9B,QAAQ,MAAM,GAAG,SAAS,MAAM;gBAChC,QAAQ,KAAK,CAAC,KAAK,GAAG,GAAG,SAAS,KAAK,CAAC,EAAE,CAAC;gBAC3C,QAAQ,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,MAAM,CAAC,EAAE,CAAC;YAC/C;YAEA,IAAI,kBAAkB,OAAO,EAAE;gBAC7B,kBAAkB,OAAO,CAAC,aAAa,CAAC;oBAAE,OAAO,SAAS,KAAK;oBAAE,QAAQ,SAAS,MAAM;gBAAC;gBACzF,kBAAkB,OAAO,CAAC,SAAS;YACrC;QACF;4DAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,8NAAW;gEAAC;YACnC,IAAI,CAAC,uBAAuB,OAAO,IAAI,kBAAkB,OAAO,EAAE;YAClE,IAAI;gBACF,MAAM,YAAY,MAAM,mBAAmB;gBAC3C,MAAM,YAAY,WAAW,UAAU;gBACvC,IAAI,CAAC,WAAW,QAAQ;oBACtB,QAAQ,KAAK,CAAC;oBACd,eAAe;oBACf;gBACF;gBAEA,MAAM,eAAe,IAAI,UAAU,MAAM,CAAC,uBAAuB,OAAO,EAAE;oBACxE,eAAe;oBACf,WAAW;gBACb;gBAEA,aAAa,gBAAgB,CAAC,KAAK,GAAG;gBACtC,aAAa,gBAAgB,CAAC,KAAK,GAAG;gBACtC,kBAAkB,OAAO,GAAG;gBAC5B,eAAe;gBAEf,MAAM;sFAAY,CAAC,QAA4C;wBAC7D,IAAI,CAAC,UAAU,qBAAqB,OAAO,EAAE;wBAC7C,MAAM,QAAQ,aAAa,QAAQ;wBACnC,MAAM,SAAS,aAAa,SAAS;wBACrC,MAAM,aAAa,yBAAyB,QAAQ,OAAO;wBAC3D,OAAO,EAAE,GAAG,WAAW,EAAE;wBACzB,gBAAgB;4BACd,MAAM;4BACN;4BACA,QAAQ;4BACR,UAAU,WAAW,EAAE;wBACzB;oBACF;;gBAEA,aAAa,EAAE,CAAC;4EAAgB,CAAC;wBAC/B,IAAI,CAAC,KAAK,MAAM;wBAChB,UAAU,WAAW,IAAI,IAAI;oBAC/B;;gBACA,aAAa,EAAE,CAAC;4EAAmB,CAAC,MAAa,UAAU,YAAY,KAAK;;gBAC5E,aAAa,EAAE,CAAC;4EAAkB,CAAC,MAAa,UAAU,WAAW,KAAK;;gBAE1E;4EAAO;wBACL,aAAa,OAAO;wBACpB,kBAAkB,OAAO,GAAG;wBAC5B,eAAe;oBACjB;;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,uDAAuD;gBACrE,eAAe;YACjB;QACF;+DAAG;QAAC;QAAiB;QAAS;KAAyB;IAEvD,IAAA,4NAAS;4CAAC;YACR,IAAI;YACJ,mBAAmB,IAAI;oDAAC,CAAC;oBACvB,IAAI,OAAO,OAAO,YAAY,UAAU;gBAC1C;mDAAG,KAAK;oDAAC;oBACP,eAAe;gBACjB;;YACA;oDAAO;oBACL,IAAI,cAAc,OAAO,EAAE;wBACzB,IAAI;4BACF,cAAc,OAAO,CAAC,MAAM;wBAC9B,EAAE,OAAM;wBACN,QAAQ;wBACV;wBACA,cAAc,OAAO,GAAG;oBAC1B;oBACA;gBACF;;QACF;2CAAG;QAAC;KAAiB;IAErB,IAAA,4NAAS;4CAAC;YACR,IAAI,kBAAkB,OAAO,EAAE;gBAC7B,MAAM,wBAAwB,AAAC,SAAS,UAAU,WAAa,SAAS,WAAW;gBACnF,kBAAkB,OAAO,CAAC,aAAa,GAAG;gBAC1C,kBAAkB,OAAO,CAAC,SAAS,GAAG;gBACtC,IAAI,kBAAkB,OAAO,CAAC,gBAAgB,EAAE;oBAC9C,kBAAkB,OAAO,CAAC,gBAAgB,CAAC,KAAK,GAAG;oBACnD,kBAAkB,OAAO,CAAC,gBAAgB,CAAC,KAAK,GAAG,SAAS,UAAU,YAAY;gBACpF;YACF;QACF;2CAAG;QAAC;QAAS;QAAU;QAAW;QAAa;QAAa;KAAK;IAEjE,IAAA,4NAAS;4CAAC;YACR,IAAI,CAAC,QAAQ;YACb,cAAc,QAAQ;QACxB;2CAAG;QAAC;QAAQ;QAAS;KAAc;IAEnC,MAAM,iBAAiB,OAAO;QAC5B,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,CAAC,MAAM;QACX,MAAM,QAAQ,MAAM,KAAK,WAAW;QACpC,YAAY;QAEZ,MAAM,QAAQ;QACd,MAAM,OAAO,AAAC,MAAc,mBAAmB;QAC/C,IAAI,QAAQ,CAAC,KAAK,SAAS,EAAE,KAAK,SAAS,GAAG;QAE9C,MAAM,MAAM,MAAM,AAAC,MAAc,WAAW,CAAC;YAAE,MAAM;QAAM,GAAG,OAAO;QACrE,UAAU;QACV,aAAa,IAAI,QAAQ;QACzB,WAAW;QACX,MAAM,cAAc,KAAK;IAC3B;IAEA,IAAA,4NAAS;4CAAC;YACR,IAAI,CAAC,eAAe;YACpB,IAAI,YAAY;YAChB,MAAM;mEAAiB;oBACrB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,eAAe;4BAAE,aAAa;wBAAU;wBAChE,IAAI,CAAC,IAAI,EAAE,EAAE;wBACb,MAAM,QAAQ,MAAM,IAAI,WAAW;wBACnC,IAAI,WAAW;wBACf,YAAY;wBACZ,MAAM,QAAQ;wBACd,MAAM,OAAO,AAAC,MAAc,mBAAmB;wBAC/C,IAAI,QAAQ,CAAC,KAAK,SAAS,EAAE,KAAK,SAAS,GAAG;wBAC9C,MAAM,MAAM,MAAM,AAAC,MAAc,WAAW,CAAC;4BAAE,MAAM;wBAAM,GAAG,OAAO;wBACrE,IAAI,WAAW;wBACf,UAAU;wBACV,aAAa,IAAI,QAAQ;wBACzB,WAAW;wBACX,MAAM,cAAc,KAAK;oBAC3B,EAAE,OAAM;oBACN,2DAA2D;oBAC7D;gBACF;;YACA,KAAK;YACL;oDAAO;oBACL,YAAY;gBACd;;QACF;2CAAG;QAAC;QAAe;KAAc;IAEjC,MAAM,kBAAkB;QACtB,MAAM,MAAM,aAAa,OAAO,EAAE,UAAU;QAC5C,IAAI,CAAC,KAAK;QACV,MAAM,MAAM,MAAM,MAAM,0BAA0B;YAChD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,cAAc;YAAI;QAC3C;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,eAAe,KAAK,QAAQ,IAAI,KAAK,OAAO,IAAI;QAChD,QAAQ;IACV;IAEA,MAAM,kBAAkB;QACtB,MAAM,MAAM,aAAa,OAAO,EAAE,UAAU;QAC5C,IAAI,CAAC,KAAK;QACV,MAAM,MAAM,MAAM,MAAM,0BAA0B;YAChD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,cAAc;gBACd,QAAQ;YACV;QACF;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,kBAAkB,KAAK,SAAS,CAAC,KAAK,MAAM,IAAI,MAAM,MAAM;QAC5D,QAAQ;IACV;IAEA,MAAM,sBAAsB;QAC1B,MAAM,SAAS,kBAAkB,OAAO;QACxC,IAAI,CAAC,UAAU,CAAC,gBAAgB;QAEhC,IAAI,SAAc;QAClB,IAAI;YACF,SAAS,KAAK,KAAK,CAAC;QACtB,EAAE,OAAM;YACN;QACF;QAEA,MAAM,WAAW,MAAM,OAAO,CAAC,QAAQ,oBAAoB,OAAO,gBAAgB,GAAG,EAAE;QACvF,IAAI,SAAS,MAAM,KAAK,GAAG;QAE3B,MAAM,YAAY,MAAM,mBAAmB;QAC3C,MAAM,YAAY,WAAW,UAAU;QACvC,IAAI,CAAC,WAAW,QAAQ;QAExB,MAAM,QAAQ,OAAO,QAAQ;QAC7B,MAAM,SAAS,OAAO,SAAS;QAE/B,SAAS,OAAO,CAAC,CAAC,SAAc;YAC9B,MAAM,OAAO,OAAO,SAAS,MAAM,WAAW,QAAQ,CAAC,GAAG,KAAK,MAAM;YACrE,MAAM,OAAO,OAAO,SAAS,MAAM,WAAW,QAAQ,CAAC,GAAG,KAAK,MAAM;YACrE,MAAM,IAAI,QAAQ,MAAM,IAAA,gNAAW,EAAC,MAAM,SAAS;YACnD,MAAM,IAAI,QAAQ,MAAM,IAAA,gNAAW,EAAC,MAAM,UAAU;YAEpD,MAAM,SAAS,IAAI,UAAU,MAAM,CAAC;gBAClC,IAAI,CAAC,WAAW,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK;gBACrC,MAAM,KAAK,GAAG,CAAC,GAAG,IAAI;gBACtB,KAAK,KAAK,GAAG,CAAC,GAAG,IAAI;gBACrB,QAAQ;gBACR,MAAM;gBACN,QAAQ;gBACR,aAAa;gBACb,YAAY;YACd;YACA,OAAO,GAAG,CAAC;QACb;QAEA,OAAO,SAAS;IAClB;IAEA,MAAM,qBAAqB;QACzB,IAAI,CAAC,YAAY,CAAC,kBAAkB,OAAO,EAAE;QAE7C,MAAM,QAAQ,IAAI,WAAW;QAC7B,IAAI,SAAS;QACb,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK,UAAU,OAAO,YAAY,CAAC,KAAK,CAAC,EAAE;QAC7E,MAAM,oBAAoB,KAAK;QAC/B,MAAM,SAAS,kBAAkB,OAAO;QACxC,MAAM,UAAU;YACd;YACA,QAAQ;gBACN,MAAM;gBACN,OAAO,OAAO,QAAQ;gBACtB,QAAQ,OAAO,SAAS;gBACxB,SAAS,OAAO,UAAU,GAAG,GAAG,CAAC,CAAC,MAAa,yBAAyB,KAAK,OAAO,QAAQ,IAAI,OAAO,SAAS;YAClH;QACF;QAEA,MAAM,MAAM,MAAM,MAAM,6BAA6B;YACnD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACb,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,OAAO,IAAI,CAAC,KAAK,UAAU;IAC7B;IAEA,MAAM,aAAa;QACjB,MAAM,SAAS,kBAAkB,OAAO;QACxC,IAAI,CAAC,UAAU,mBAAmB,CAAC,sBAAsB,IAAI,EAAE;QAC/D,MAAM,YAAY,MAAM,mBAAmB;QAC3C,MAAM,YAAY,WAAW,UAAU;QACvC,IAAI,CAAC,WAAW,OAAO;QACvB,MAAM,OAAO,IAAI,UAAU,KAAK,CAAC,aAAa;YAC5C,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,MAAM;YACN,KAAK;YACL,MAAM;YACN,UAAU;YACV,UAAU;QACZ;QACA,OAAO,GAAG,CAAC;QACX,OAAO,eAAe,CAAC;QACvB,KAAK,YAAY;QACjB,OAAO,SAAS;IAClB;IAEA,MAAM,eAAe;QACnB,MAAM,SAAS,kBAAkB,OAAO;QACxC,IAAI,CAAC,UAAU,mBAAmB,CAAC,sBAAsB,MAAM,EAAE;QACjE,MAAM,YAAY,MAAM,mBAAmB;QAC3C,MAAM,YAAY,WAAW,UAAU;QACvC,IAAI,CAAC,WAAW,MAAM;QACtB,MAAM,OAAO,IAAI,UAAU,IAAI,CAAC;YAC9B,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,MAAM;YACN,KAAK;YACL,OAAO;YACP,QAAQ;YACR,MAAM;YACN,QAAQ;YACR;QACF;QACA,OAAO,GAAG,CAAC;QACX,OAAO,eAAe,CAAC;QACvB,OAAO,SAAS;IAClB;IAEA,MAAM,YAAY;QAChB,MAAM,SAAS,kBAAkB,OAAO;QACxC,IAAI,CAAC,UAAU,mBAAmB,CAAC,sBAAsB,MAAM,EAAE;QACjE,MAAM,YAAY,MAAM,mBAAmB;QAC3C,MAAM,YAAY,WAAW,UAAU;QACvC,IAAI,CAAC,WAAW,QAAQ;QACxB,MAAM,SAAS,IAAI,UAAU,MAAM,CAAC;YAClC,IAAI,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI;YAC1B,MAAM;YACN,KAAK;YACL,QAAQ;YACR,MAAM;YACN,QAAQ;YACR;QACF;QACA,OAAO,GAAG,CAAC;QACX,OAAO,eAAe,CAAC;QACvB,OAAO,SAAS;IAClB;IAEA,MAAM,mBAAmB;QACvB,MAAM,SAAS,kBAAkB,OAAO;QACxC,IAAI,CAAC,UAAU,mBAAmB,CAAC,sBAAsB,KAAK,EAAE;QAChE,OAAO,KAAK;QACZ,OAAO,SAAS;IAClB;IAEA,MAAM,eAAe,IAAA,8NAAW;4DAAC;YAC/B,MAAM,SAAS,kBAAkB,OAAO;YACxC,IAAI,CAAC,QAAQ;YACb,MAAM,MAAM,+BAA+B;gBACzC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,MAAM;oBACN,OAAO,OAAO,QAAQ;oBACtB,QAAQ,OAAO,SAAS;oBACxB,SAAS,OAAO,UAAU,GAAG,GAAG;4EAAC,CAAC,MAAa,yBAAyB,KAAK,OAAO,QAAQ,IAAI,OAAO,SAAS;;gBAClH;YACF;QACF;2DAAG;QAAC;QAAQ;QAAS;KAAyB;IAE9C,IAAA,4NAAS;4CAAC;YACR,IAAI,SAAS,SAAS;YACtB,MAAM,WAAW;6DAAY;oBAC3B,MAAM,SAAS,kBAAkB,OAAO;oBACxC,IAAI,CAAC,QAAQ;oBACb,IAAI,CAAC,OAAO,UAAU,QAAQ,EAAE,EAAE,MAAM,KAAK,GAAG;oBAChD,KAAK;gBACP;4DAAG,KAAK;YAER;oDAAO,IAAM,cAAc;;QAC7B;2CAAG;QAAC;QAAM;KAAa;IAEvB,MAAM,qBAAqB;QACzB,MAAM,SAAS,kBAAkB,OAAO;QACxC,IAAI,CAAC,QAAQ;QAEb,MAAM,MAAM,MAAM,MAAM,CAAC,mCAAmC,EAAE,mBAAmB,QAAQ,QAAQ,CAAC,EAAE;YAClG,aAAa;QACf;QACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACb,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,SAAS,MAAM,WAAW,CAAC,EAAE;QACnC,MAAM,UAAU,QAAQ,OAAO,CAAC,EAAE;QAClC,IAAI,CAAC,SAAS,WAAW,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO,GAAG;QAE1D,OAAO,KAAK;QACZ,MAAM,QAAQ,OAAO,QAAQ;QAC7B,MAAM,SAAS,OAAO,SAAS;QAC/B,MAAM,YAAY,MAAM,mBAAmB;QAC3C,MAAM,YAAY,WAAW,UAAU;QACvC,MAAM,UAAU,WAAW,MAAM;QACjC,IAAI,OAAO,YAAY,YAAY;QAEnC,MAAM,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,MAA6B,uBAAuB,KAAK,OAAO;QACpG,QAAQ,QAAQ,CAAC;YACf,QAAQ,OAAO,CAAC,CAAC,MAAQ,OAAO,GAAG,CAAC;YACpC,OAAO,SAAS;QAClB;IACF;IAEA,MAAM,kBAAkB,IAAA,0NAAO;2DAAC;YAC9B,IAAI,CAAC,aAAa,qBAAO,+OAAC,+LAAK;gBAAC,SAAQ;0BAAc;;;;;;YACtD,IAAI,cAAc,QAAQ,YAAY,IAAI,qBAAO,+OAAC,+LAAK;gBAAC,SAAQ;;oBAAY;oBAAM;oBAAU;;;;;;;YAC5F,qBAAO,+OAAC,+LAAK;gBAAC,SAAQ;0BAAU;;;;;;QAClC;0DAAG;QAAC;QAAa;KAAU;IAC3B,MAAM,qBAAqB,IAAA,0NAAO;8DAAC;YACjC,MAAM,QAAQ,aAAa,MAAM;YACjC,MAAM,SAAS,aAAa,MAAM;sEAAC,CAAC,cAAgB,YAAY,IAAI,KAAK;qEAAS,MAAM;YACxF,MAAM,WAAW,QAAQ;YACzB,OAAO;gBAAE;gBAAO;gBAAQ;YAAS;QACnC;6DAAG;QAAC;KAAa;IAEjB,qBACE,+OAAC;QAAI,WAAU;;0BACb,+OAAC;gBAAI,WAAU;;kCACb,+OAAC,+LAAK;wBAAC,MAAK;wBAAO,QAAO;wBAAkB,UAAU;wBAAgB,WAAU;;;;;;oBAC/E,oBAAoB;oBACpB,kCACC,+OAAC,+LAAK;wBAAC,SAAQ;;4BAAU;4BAChB,mBAAmB,KAAK;4BAAC;4BAAG,mBAAmB,MAAM;4BAAC;4BAAS,mBAAmB,QAAQ;4BAAC;;;;;;;oBAGrG,kCACC,+OAAC,+LAAK;wBAAC,SAAS,WAAW,gBAAgB;kCACxC,kBAAkB,kBAAkB;;;;;;oBAGxC,CAAC,mBAAmB,SAAS,OAAO,mBACnC,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS,IAAM,QAAQ,CAAC;;4BACzD,gCAAkB,+OAAC,2QAAM;gCAAC,WAAU;;;;;qDAAoB,+OAAC,+PAAI;gCAAC,WAAU;;;;;;4BACxE,kBAAkB,kBAAkB;;;;;;;oBAGxC,+BACC,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;;0CAC3C,+OAAC,kRAAS;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;oBAIzC,+BAAiB,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;kCAAiB;;;;;;oBAC/E,+BAAiB,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;kCAAqB;;;;;;oBACnF,sBAAsB,IAAI,kBACzB,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;wBAAY,UAAU;kCAAiB;;;;;;oBAIrF,sBAAsB,MAAM,kBAC3B;;0CACE,+OAAC,iMAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;gCAAc,UAAU;0CAAiB;;;;;;0CAGtF,+OAAC,iMAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;gCAAW,UAAU;0CAAiB;;;;;;;;kCAKvF,+OAAC,iMAAM;wBAAC,SAAS,SAAS,SAAS,YAAY;wBAAW,MAAK;wBAAK,SAAS,IAAM,QAAQ;wBAAS,UAAU,CAAC;kCAAS;;;;;;kCAGxH,+OAAC,iMAAM;wBAAC,SAAS,SAAS,UAAU,YAAY;wBAAW,MAAK;wBAAK,SAAS,IAAM,QAAQ;wBAAU,UAAU,CAAC;kCAAU;;;;;;kCAG3H,+OAAC,iMAAM;wBAAC,SAAS,SAAS,WAAW,YAAY;wBAAW,MAAK;wBAAK,SAAS,IAAM,QAAQ;wBAAW,UAAU,CAAC;kCAAW;;;;;;kCAG9H,+OAAC;wBAAM,WAAU;;4BAAkC;0CAEjD,+OAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,UAAU,mBAAoB,CAAC,WAAW,CAAC;gCAC3C,WAAU;;;;;;;;;;;;kCAGd,+OAAC;wBAAM,WAAU;;4BAAkC;0CAEjD,+OAAC;gCACC,MAAK;gCACL,KAAK;gCACL,KAAK;gCACL,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,OAAO,EAAE,MAAM,CAAC,KAAK;gCACrD,UAAU,mBAAoB,CAAC,WAAW,CAAC;;;;;;0CAE7C,+OAAC;0CAAM;;;;;;;;;;;;oBAER,sBAAsB,KAAK,kBAC1B,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;wBAAkB,UAAU;kCAAiB;;;;;;oBAI3F,SAAS,yBACR;;0CACE,+OAAC,iMAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;0CAAc;;;;;;0CAC3D,+OAAC,iMAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;0CAAoB;;;;;;;;oBAGpE,sBAAsB,OAAO,kBAAI,+OAAC,iMAAM;wBAAC,MAAK;wBAAK,SAAS;kCAAoB;;;;;;;;;;;;0BAGnF,+OAAC,6LAAI;gBAAC,OAAO;gBAAM,eAAe,CAAC,QAAU,QAAQ;0BACnD,cAAA,+OAAC,iMAAQ;;sCACP,+OAAC,oMAAW;4BAAC,OAAM;sCAAW;;;;;;wBAC7B,+BAAiB,+OAAC,oMAAW;4BAAC,OAAM;sCAAU;;;;;;sCAC/C,+OAAC,oMAAW;4BAAC,OAAM;sCAAS;;;;;;;;;;;;;;;;;0BAIhC,+OAAC;gBAAI,WAAU;;kCACb,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,UAAU,WAAW;wBAAG,SAAS,IAAM,WAAW,CAAC,OAAS,OAAO;kCAAI;;;;;;kCAC3G,+OAAC;wBAAK,WAAU;;4BAAU;4BAAM;4BAAQ;4BAAI;;;;;;;kCAC5C,+OAAC,iMAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,UAAU,WAAW;wBAAW,SAAS,IAAM,WAAW,CAAC,OAAS,OAAO;kCAAI;;;;;;oBAClH,CAAC,6BAAe,+OAAC,+LAAK;wBAAC,SAAQ;kCAAY;;;;;;;;;;;;YAG7C,SAAS,4BACR,+OAAC;gBAAI,WAAU;;kCACb,+OAAC;wBAAO,KAAK;wBAAc,WAAU;;;;;;kCACrC,+OAAC;wBAAO,KAAK;wBAAwB,WAAU;;;;;;;;;;;;YAIlD,SAAS,aAAa,+BACrB,+OAAC;gBAAI,WAAU;0BAA8D,eAAe;;;;;;YAG7F,SAAS,0BACR,+OAAC;gBAAI,WAAU;0BAA8D,kBAAkB;;;;;;0BAGjG,+OAAC;gBAAI,WAAU;;kCACb,+OAAC,qQAAM;wBAAC,WAAU;;;;;;oBAAgB;;;;;;;;;;;;;AAK1C;GA5wBgB;;QAUY,iNAAU;QAoMiD,yNAAkB;;;KA9MzF"}},
    {"offset": {"line": 2545, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/pdf-tutoring/PDFTutoringWorkbench.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport Image from 'next/image'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport { PDFCollaborativeViewer } from './PDFCollaborativeViewer'\n\ninterface PDFTutoringWorkbenchProps {\n  roomId: string\n}\n\nexport function PDFTutoringWorkbench({ roomId }: PDFTutoringWorkbenchProps) {\n  const [extractResult, setExtractResult] = useState('')\n  const [preprocessUrl, setPreprocessUrl] = useState('')\n  const [status, setStatus] = useState('Idle')\n  const [extractParser, setExtractParser] = useState<string>('unknown')\n  const [techCheck, setTechCheck] = useState<{ unpdfAvailable?: boolean; pdfParseAvailable?: boolean } | null>(null)\n\n  const extractPdfText = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n\n    const formData = new FormData()\n    formData.append('file', file)\n\n    setStatus('Extracting text...')\n    const res = await fetch('/api/pdf-tutoring/extract', {\n      method: 'POST',\n      body: formData,\n    })\n    const data = await res.json()\n    setExtractResult(data.markdown || data.text || '')\n    setExtractParser(data.parser || 'unknown')\n    setTechCheck(data.technologyCheck || null)\n    setStatus(res.ok ? 'Text extracted' : 'Extraction failed')\n  }\n\n  const preprocessImage = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n    const formData = new FormData()\n    formData.append('file', file)\n\n    setStatus('Preprocessing image...')\n    const res = await fetch('/api/pdf-tutoring/preprocess', {\n      method: 'POST',\n      body: formData,\n    })\n\n    if (!res.ok) {\n      setStatus('Preprocess failed')\n      return\n    }\n\n    const blob = await res.blob()\n    const url = URL.createObjectURL(blob)\n    setPreprocessUrl(url)\n    setStatus('Image preprocessed')\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle>AI Tutoring Engine - PDF Workbench</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Badge variant=\"outline\">Room: {roomId}</Badge>\n            <Badge>{status}</Badge>\n          </div>\n\n          <div className=\"grid grid-cols-1 gap-4 lg:grid-cols-2\">\n            <div className=\"space-y-2 rounded-md border p-3\">\n              <h3 className=\"font-medium\">Document Pipeline</h3>\n              <div className=\"flex flex-wrap gap-2\">\n                <Badge variant=\"secondary\">Parser: {extractParser}</Badge>\n                {techCheck && (\n                  <>\n                    <Badge variant={techCheck.unpdfAvailable ? 'default' : 'outline'}>\n                      unpdf {techCheck.unpdfAvailable ? 'on' : 'off'}\n                    </Badge>\n                    <Badge variant={techCheck.pdfParseAvailable ? 'default' : 'outline'}>\n                      pdf-parse {techCheck.pdfParseAvailable ? 'on' : 'off'}\n                    </Badge>\n                  </>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Input type=\"file\" accept=\"application/pdf\" onChange={extractPdfText} />\n                <Input type=\"file\" accept=\"image/*\" onChange={preprocessImage} />\n              </div>\n              {extractResult && (\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-xs text-muted-foreground\">{extractResult.length} chars extracted</span>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={async () => {\n                        await navigator.clipboard.writeText(extractResult)\n                        setStatus('Extracted text copied')\n                      }}\n                    >\n                      Copy text\n                    </Button>\n                  </div>\n                  <pre className=\"max-h-48 overflow-auto rounded bg-muted p-2 text-xs whitespace-pre-wrap\">{extractResult}</pre>\n                </div>\n              )}\n              {preprocessUrl && (\n                <Image\n                  src={preprocessUrl}\n                  alt=\"Preprocessed homework\"\n                  width={512}\n                  height={320}\n                  className=\"max-h-48 w-auto rounded border\"\n                  unoptimized\n                />\n              )}\n            </div>\n\n            <div className=\"space-y-2 rounded-md border p-3\">\n              <h3 className=\"font-medium\">Live Collaboration + Marking</h3>\n              <p className=\"text-xs text-muted-foreground\">\n                Includes lock/unlock, mode toggles, low-latency sync broadcast, and PDF flattening output.\n              </p>\n              <Button variant=\"outline\" size=\"sm\" onClick={() => setStatus('Ready for live tutoring')}>Prepare Session</Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <PDFCollaborativeViewer roomId={roomId} />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2890, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = DialogPrimitive.Root\n\nconst SheetTrigger = DialogPrimitive.Trigger\n\nconst SheetClose = DialogPrimitive.Close\n\nconst SheetPortal = DialogPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & {\n    side?: \"top\" | \"bottom\" | \"left\" | \"right\"\n  }\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n        side === \"top\" && \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        side === \"bottom\" && \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        side === \"left\" && \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        side === \"right\" && \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = DialogPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = DialogPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,QAAQ,+NAAoB;AAElC,MAAM,eAAe,kOAAuB;AAE5C,MAAM,aAAa,gOAAqB;AAExC,MAAM,cAAc,iOAAsB;AAE1C,MAAM,6BAAe,6NAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,kOAAuB;QACtB,WAAW,IAAA,8KAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,kOAAuB,CAAC,WAAW;AAE9D,MAAM,6BAAe,6NAAgB,OAKnC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,+OAAC;;0BACC,+OAAC;;;;;0BACD,+OAAC,kOAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,8KAAE,EACX,oMACA,SAAS,SAAS,qGAClB,SAAS,YAAY,8GACrB,SAAS,UAAU,iIACnB,SAAS,WAAW,oIACpB;gBAED,GAAG,KAAK;;oBAER;kCACD,+OAAC,gOAAqB;wBAAC,WAAU;;0CAC/B,+OAAC,sPAAC;gCAAC,WAAU;;;;;;0CACb,+OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,kOAAuB,CAAC,WAAW;AAE9D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,+OAAC;QACC,WAAW,IAAA,8KAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,+OAAC;QACC,WAAW,IAAA,8KAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,6NAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,gOAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,6NAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sOAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,sOAA2B,CAAC,WAAW"}},
    {"offset": {"line": 3049, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/whiteboard/TldrawMathBoard.tsx"],"sourcesContent":["'use client'\n\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Tldraw, type Editor } from 'tldraw'\nimport type { Socket } from 'socket.io-client'\nimport * as Y from 'yjs'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Lock, Unlock, Wifi, WifiOff } from 'lucide-react'\nimport 'tldraw/tldraw.css'\n\ninterface TldrawMathBoardProps {\n  sessionId: string\n  socket: Socket | null\n  userId?: string\n  userName?: string\n  role: 'tutor' | 'student'\n  className?: string\n}\n\nexport function TldrawMathBoard({\n  sessionId,\n  socket,\n  userId,\n  userName,\n  role,\n  className = '',\n}: TldrawMathBoardProps) {\n  const editorRef = useRef<Editor | null>(null)\n  const applyingRemoteRef = useRef(false)\n  const syncTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const yDocRef = useRef<Y.Doc | null>(null)\n  const yMetaRef = useRef<Y.Map<unknown> | null>(null)\n  const socketRef = useRef<Socket | null>(null)\n  const canEditRef = useRef(false)\n  const queueSnapshotSyncRef = useRef<(() => void) | null>(null)\n  const [isConnected, setIsConnected] = useState(false)\n  const [isLocked, setIsLocked] = useState(false)\n\n  const canEdit = role === 'tutor' || !isLocked\n\n  useEffect(() => {\n    socketRef.current = socket\n  }, [socket])\n\n  useEffect(() => {\n    canEditRef.current = canEdit\n  }, [canEdit])\n\n  const applyReadonlyState = useCallback((editor: Editor | null, readonly: boolean) => {\n    if (!editor) return\n    editor.updateInstanceState({ isReadonly: readonly })\n  }, [])\n\n  const queueSnapshotSync = useCallback(() => {\n    if (!editorRef.current || !canEditRef.current) return\n    const yMeta = yMetaRef.current\n    if (!yMeta) return\n    if (syncTimerRef.current) clearTimeout(syncTimerRef.current)\n    syncTimerRef.current = setTimeout(() => {\n      if (!editorRef.current || applyingRemoteRef.current) return\n      const rawSnapshot = editorRef.current.getSnapshot() as unknown\n      // Store a detached JSON-safe snapshot so Yjs always sees state deltas across edits.\n      const snapshot =\n        typeof structuredClone === 'function'\n          ? structuredClone(rawSnapshot)\n          : JSON.parse(JSON.stringify(rawSnapshot))\n      yMeta.set('snapshot', snapshot)\n      yMeta.set('updatedAt', Date.now())\n      socketRef.current?.emit('math_tl_snapshot', {\n        sessionId,\n        snapshot,\n      })\n    }, 180)\n  }, [sessionId])\n\n  useEffect(() => {\n    queueSnapshotSyncRef.current = queueSnapshotSync\n  }, [queueSnapshotSync])\n\n  useEffect(() => {\n    if (!socket) return\n    const yDoc = new Y.Doc()\n    const yMeta = yDoc.getMap<unknown>('meta')\n    yDocRef.current = yDoc\n    yMetaRef.current = yMeta\n\n    const onYDocUpdate = (update: Uint8Array, origin: unknown) => {\n      if (!socket || origin === 'remote') return\n      socket.emit('math_yjs_update', {\n        sessionId,\n        update: Array.from(update),\n      })\n    }\n\n    const onYMetaUpdate = () => {\n      const snapshot = yMeta.get('snapshot')\n      if (!snapshot || !editorRef.current || applyingRemoteRef.current) return\n      applyingRemoteRef.current = true\n      try {\n        editorRef.current.loadSnapshot(snapshot as any)\n      } finally {\n        window.setTimeout(() => {\n          applyingRemoteRef.current = false\n        }, 0)\n      }\n    }\n\n    yDoc.on('update', onYDocUpdate)\n    yMeta.observe(onYMetaUpdate)\n\n    const join = () => {\n      socket.emit('math_wb_join', {\n        sessionId,\n        userId,\n        name: userName || (role === 'tutor' ? 'Tutor' : 'Student'),\n        role,\n      })\n      socket.emit('math_wb_request_sync', sessionId)\n      setIsConnected(true)\n    }\n\n    const onConnect = () => join()\n    const onDisconnect = () => {\n      setIsConnected(false)\n    }\n    const onState = (state: {\n      locked: boolean\n      tldrawSnapshot?: Record<string, unknown> | null\n    }) => {\n      setIsLocked(Boolean(state.locked))\n      if (state.tldrawSnapshot && yMeta) {\n        yMeta.set('snapshot', state.tldrawSnapshot)\n      }\n    }\n    const onLockChanged = (data: { locked: boolean }) => {\n      setIsLocked(Boolean(data.locked))\n    }\n    const onYjsSync = (payload: { sessionId?: string; update: number[] }) => {\n      if (payload.sessionId && payload.sessionId !== sessionId) return\n      Y.applyUpdate(yDoc, Uint8Array.from(payload.update || []), 'remote')\n    }\n    const onYjsUpdate = (payload: { sessionId?: string; actorId?: string; update: number[] }) => {\n      if (payload.sessionId && payload.sessionId !== sessionId) return\n      if (payload.actorId && payload.actorId === userId) return\n      Y.applyUpdate(yDoc, Uint8Array.from(payload.update || []), 'remote')\n    }\n    const onSnapshot = (payload: { sessionId?: string; actorId?: string; snapshot?: Record<string, unknown> | null }) => {\n      if (payload.sessionId && payload.sessionId !== sessionId) return\n      if (payload.actorId && payload.actorId === userId) return\n      if (!payload.snapshot || !editorRef.current) return\n      applyingRemoteRef.current = true\n      try {\n        editorRef.current.loadSnapshot(payload.snapshot as any)\n      } finally {\n        window.setTimeout(() => {\n          applyingRemoteRef.current = false\n        }, 0)\n      }\n    }\n\n    socket.on('connect', onConnect)\n    socket.on('disconnect', onDisconnect)\n    socket.on('math_wb_state', onState)\n    socket.on('math_wb_lock_changed', onLockChanged)\n    socket.on('math_yjs_sync', onYjsSync)\n    socket.on('math_yjs_update', onYjsUpdate)\n    socket.on('math_tl_snapshot', onSnapshot)\n\n    if (socket.connected) {\n      join()\n    }\n\n    return () => {\n      socket.off('connect', onConnect)\n      socket.off('disconnect', onDisconnect)\n      socket.off('math_wb_state', onState)\n      socket.off('math_wb_lock_changed', onLockChanged)\n      socket.off('math_yjs_sync', onYjsSync)\n      socket.off('math_yjs_update', onYjsUpdate)\n      socket.off('math_tl_snapshot', onSnapshot)\n      socket.emit('math_wb_leave', sessionId)\n      if (syncTimerRef.current) clearTimeout(syncTimerRef.current)\n      yMeta.unobserve(onYMetaUpdate)\n      yDoc.off('update', onYDocUpdate)\n      yDocRef.current = null\n      yMetaRef.current = null\n    }\n  }, [role, sessionId, socket, userId, userName])\n\n  const onMount = useCallback((editor: Editor) => {\n    editorRef.current = editor\n    applyReadonlyState(editor, !canEdit)\n    // Avoid remote font fetch failures (cdn.tldraw.com) from breaking runtime in restricted networks.\n    const fontManager = (editor as any).fonts\n    if (fontManager && !fontManager.__networkPatched) {\n      fontManager.__networkPatched = true\n      fontManager.requestFonts = () => {}\n      fontManager.ensureFontIsLoaded = async () => undefined\n      fontManager.loadRequiredFontsForCurrentPage = async () => undefined\n    }\n    const existingSnapshot = yMetaRef.current?.get('snapshot')\n    if (existingSnapshot) {\n      editor.loadSnapshot(existingSnapshot as any)\n    }\n    const unlisten = editor.store.listen(() => {\n      if (applyingRemoteRef.current) return\n      queueSnapshotSyncRef.current?.()\n    }, { source: 'user', scope: 'document' })\n    return () => {\n      unlisten()\n      editorRef.current = null\n    }\n  }, [applyReadonlyState, canEdit])\n\n  useEffect(() => {\n    applyReadonlyState(editorRef.current, !canEdit)\n  }, [applyReadonlyState, canEdit])\n\n  const statusBadge = useMemo(() => {\n    if (isConnected) {\n      return (\n        <Badge variant=\"outline\" className=\"gap-1\">\n          <Wifi className=\"h-3 w-3 text-green-600\" />\n          Synced\n        </Badge>\n      )\n    }\n    return (\n      <Badge variant=\"outline\" className=\"gap-1\">\n        <WifiOff className=\"h-3 w-3 text-amber-600\" />\n        Reconnecting\n      </Badge>\n    )\n  }, [isConnected])\n\n  return (\n    <div className={`h-full min-h-0 flex flex-col rounded-lg border bg-white ${className}`}>\n      <div className=\"flex items-center justify-between border-b px-3 py-2\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-sm font-semibold\">Math Whiteboard</h3>\n          {statusBadge}\n          <Badge variant={canEdit ? 'default' : 'secondary'}>\n            {canEdit ? 'Editable' : 'Read only'}\n          </Badge>\n        </div>\n        {role === 'tutor' && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"gap-1\"\n            onClick={() => socket?.emit('math_wb_lock', { sessionId, locked: !isLocked })}\n          >\n            {isLocked ? <Unlock className=\"h-3 w-3\" /> : <Lock className=\"h-3 w-3\" />}\n            {isLocked ? 'Unlock Students' : 'Lock Students'}\n          </Button>\n        )}\n      </div>\n      <div className=\"relative flex-1 min-h-0\">\n        <Tldraw onMount={onMount} />\n      </div>\n    </div>\n  )\n}\n\nexport default TldrawMathBoard\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3468, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/whiteboard/FabricMathBoard.tsx"],"sourcesContent":["'use client'\n\nimport { useCallback, useEffect, useMemo, useRef, useState, type ReactNode } from 'react'\nimport * as fabric from 'fabric'\nimport * as Y from 'yjs'\nimport type { Socket } from 'socket.io-client'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Pen, Square, Circle, Type, MousePointer2, Eraser, Lock, Unlock, Wifi, WifiOff, Hand } from 'lucide-react'\n\ninterface FabricMathBoardProps {\n  sessionId: string\n  socket: Socket | null\n  userId?: string\n  userName?: string\n  role: 'tutor' | 'student'\n  className?: string\n}\n\ntype Tool = 'select' | 'draw' | 'rect' | 'circle' | 'text' | 'erase'\n\ninterface FabricCanvasElement extends HTMLCanvasElement {\n  __fabricCanvas?: fabric.Canvas\n}\n\ndeclare global {\n  interface Window {\n    __fabricMathBoards?: Record<string, fabric.Canvas>\n  }\n}\n\nexport function FabricMathBoard({\n  sessionId,\n  socket,\n  userId,\n  userName,\n  role,\n  className = '',\n}: FabricMathBoardProps) {\n  const rootRef = useRef<HTMLDivElement | null>(null)\n  const canvasElRef = useRef<FabricCanvasElement | null>(null)\n  const canvasRef = useRef<fabric.Canvas | null>(null)\n  const drawingShapeRef = useRef<fabric.Object | null>(null)\n  const startPointRef = useRef<{ x: number; y: number } | null>(null)\n  const toolRef = useRef<Tool>('draw')\n  const canEditRef = useRef(true)\n  const queueSnapshotSyncRef = useRef<() => void>(() => {})\n\n  const yDocRef = useRef<Y.Doc | null>(null)\n  const yMetaRef = useRef<Y.Map<unknown> | null>(null)\n  const syncTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const applyingRemoteRef = useRef(false)\n\n  const [tool, setTool] = useState<Tool>('draw')\n  const [isConnected, setIsConnected] = useState(false)\n  const [isLocked, setIsLocked] = useState(false)\n  const [hasRequestedEditAccess, setHasRequestedEditAccess] = useState(false)\n  const [pendingEditRequests, setPendingEditRequests] = useState<Array<{ userId?: string; name: string; requestedAt: number }>>([])\n\n  const canEdit = role === 'tutor' || !isLocked\n\n  const applyReadonly = useCallback((readonly: boolean) => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n    canvas.isDrawingMode = !readonly && (tool === 'draw' || tool === 'erase')\n    canvas.selection = !readonly && tool === 'select'\n    canvas.skipTargetFind = readonly || tool !== 'select'\n    canvas.forEachObject((obj) => {\n      obj.selectable = !readonly\n      obj.evented = !readonly\n    })\n    if (readonly) {\n      canvas.discardActiveObject()\n    }\n    canvas.renderAll()\n  }, [tool])\n\n  const queueSnapshotSync = useCallback(() => {\n    const canvas = canvasRef.current\n    const yMeta = yMetaRef.current\n    if (!canvas || !yMeta || !canEdit) return\n    if (syncTimerRef.current) clearTimeout(syncTimerRef.current)\n    syncTimerRef.current = setTimeout(() => {\n      if (applyingRemoteRef.current || !canvasRef.current || !yMetaRef.current) return\n      const snapshot = canvasRef.current.toJSON()\n      yMetaRef.current.set('snapshot', snapshot)\n      yMetaRef.current.set('updatedAt', Date.now())\n      socket?.emit('math_tl_snapshot', { sessionId, snapshot })\n    }, 140)\n  }, [canEdit, sessionId, socket])\n\n  useEffect(() => {\n    toolRef.current = tool\n  }, [tool])\n\n  useEffect(() => {\n    canEditRef.current = canEdit\n  }, [canEdit])\n\n  useEffect(() => {\n    queueSnapshotSyncRef.current = queueSnapshotSync\n  }, [queueSnapshotSync])\n\n  const applySnapshotToCanvas = useCallback((snapshot: unknown) => {\n    const canvas = canvasRef.current\n    if (!canvas || !snapshot) return\n\n    applyingRemoteRef.current = true\n    let finalized = false\n    const finalize = () => {\n      if (finalized) return\n      finalized = true\n      canvas.renderAll()\n      window.setTimeout(() => {\n        applyingRemoteRef.current = false\n      }, 0)\n    }\n\n    try {\n      const result = (canvas as any).loadFromJSON(snapshot, finalize)\n      if (result && typeof result.then === 'function') {\n        result.then(finalize).catch(finalize)\n      }\n    } catch {\n      finalize()\n    }\n  }, [])\n\n  useEffect(() => {\n    const yDoc = new Y.Doc()\n    const yMeta = yDoc.getMap<unknown>('meta')\n    yDocRef.current = yDoc\n    yMetaRef.current = yMeta\n\n    const onYDocUpdate = (update: Uint8Array, origin: unknown) => {\n      if (!socket || origin === 'remote') return\n      socket.emit('math_yjs_update', {\n        sessionId,\n        update: Array.from(update),\n      })\n    }\n\n    const onYMetaUpdate = () => {\n      const snapshot = yMeta.get('snapshot')\n      if (!snapshot || applyingRemoteRef.current) return\n      applySnapshotToCanvas(snapshot)\n    }\n\n    yDoc.on('update', onYDocUpdate)\n    yMeta.observe(onYMetaUpdate)\n\n    return () => {\n      if (syncTimerRef.current) clearTimeout(syncTimerRef.current)\n      yMeta.unobserve(onYMetaUpdate)\n      yDoc.off('update', onYDocUpdate)\n      yDoc.destroy()\n      yDocRef.current = null\n      yMetaRef.current = null\n    }\n  }, [applySnapshotToCanvas, sessionId, socket])\n\n  useEffect(() => {\n    if (!socket) return\n\n    const join = () => {\n      socket.emit('math_wb_join', {\n        sessionId,\n        userId,\n        name: userName || (role === 'tutor' ? 'Tutor' : 'Student'),\n        role,\n      })\n      socket.emit('math_wb_request_sync', sessionId)\n      setIsConnected(true)\n    }\n\n    const onConnect = () => join()\n    const onDisconnect = () => setIsConnected(false)\n    const onState = (state: { locked: boolean; tldrawSnapshot?: Record<string, unknown> | null }) => {\n      setIsLocked(Boolean(state.locked))\n      if (!state.locked) {\n        setHasRequestedEditAccess(false)\n        if (role === 'tutor') setPendingEditRequests([])\n      }\n      if (state.tldrawSnapshot && yMetaRef.current) {\n        yMetaRef.current.set('snapshot', state.tldrawSnapshot)\n      }\n    }\n    const onLockChanged = (data: { locked: boolean }) => {\n      setIsLocked(Boolean(data.locked))\n      if (!data.locked) {\n        setHasRequestedEditAccess(false)\n        if (role === 'tutor') setPendingEditRequests([])\n      }\n    }\n    const onEditRequest = (data: {\n      sessionId?: string\n      requester?: { userId?: string; name?: string }\n      requestedAt?: number\n    }) => {\n      if (data.sessionId && data.sessionId !== sessionId) return\n      if (role !== 'tutor') return\n      const requesterName = data.requester?.name?.trim()\n      if (!requesterName) return\n      setPendingEditRequests((prev) => {\n        const dedupeKey = data.requester?.userId || requesterName\n        const filtered = prev.filter((item) => (item.userId || item.name) !== dedupeKey)\n        return [\n          ...filtered,\n          {\n            userId: data.requester?.userId,\n            name: requesterName,\n            requestedAt: data.requestedAt || Date.now(),\n          },\n        ].slice(-6)\n      })\n    }\n    const onYjsSync = (payload: { sessionId?: string; update: number[] }) => {\n      if (payload.sessionId && payload.sessionId !== sessionId) return\n      const yDoc = yDocRef.current\n      if (!yDoc) return\n      Y.applyUpdate(yDoc, Uint8Array.from(payload.update || []), 'remote')\n    }\n    const onYjsUpdate = (payload: { sessionId?: string; actorId?: string; update: number[] }) => {\n      if (payload.sessionId && payload.sessionId !== sessionId) return\n      if (payload.actorId && payload.actorId === userId) return\n      const yDoc = yDocRef.current\n      if (!yDoc) return\n      Y.applyUpdate(yDoc, Uint8Array.from(payload.update || []), 'remote')\n    }\n    const onSnapshot = (payload: { sessionId?: string; actorId?: string; snapshot?: Record<string, unknown> | null }) => {\n      if (payload.sessionId && payload.sessionId !== sessionId) return\n      if (payload.actorId && payload.actorId === userId) return\n      if (!payload.snapshot) return\n      applySnapshotToCanvas(payload.snapshot)\n    }\n\n    socket.on('connect', onConnect)\n    socket.on('disconnect', onDisconnect)\n    socket.on('math_wb_state', onState)\n    socket.on('math_wb_lock_changed', onLockChanged)\n    socket.on('math_wb_edit_request', onEditRequest)\n    socket.on('math_yjs_sync', onYjsSync)\n    socket.on('math_yjs_update', onYjsUpdate)\n    socket.on('math_tl_snapshot', onSnapshot)\n\n    if (socket.connected) join()\n\n    return () => {\n      socket.off('connect', onConnect)\n      socket.off('disconnect', onDisconnect)\n      socket.off('math_wb_state', onState)\n      socket.off('math_wb_lock_changed', onLockChanged)\n      socket.off('math_wb_edit_request', onEditRequest)\n      socket.off('math_yjs_sync', onYjsSync)\n      socket.off('math_yjs_update', onYjsUpdate)\n      socket.off('math_tl_snapshot', onSnapshot)\n      socket.emit('math_wb_leave', sessionId)\n    }\n  }, [applySnapshotToCanvas, role, sessionId, socket, userId, userName])\n\n  useEffect(() => {\n    if (!canvasElRef.current || canvasRef.current) return\n\n    const canvas = new fabric.Canvas(canvasElRef.current, {\n      width: 1280,\n      height: 720,\n      backgroundColor: '#ffffff',\n      isDrawingMode: true,\n      selection: false,\n      preserveObjectStacking: true,\n    })\n    canvasRef.current = canvas\n    canvasElRef.current.__fabricCanvas = canvas\n    if (typeof window !== 'undefined' && process.env.NODE_ENV !== 'production') {\n      window.__fabricMathBoards = window.__fabricMathBoards ?? {}\n      window.__fabricMathBoards[sessionId] = canvas\n    }\n\n    const interactiveCanvas = canvas.upperCanvasEl as FabricCanvasElement | undefined\n    if (interactiveCanvas) {\n      interactiveCanvas.dataset.testid = 'fabric-math-interactive-canvas'\n      interactiveCanvas.dataset.mathSession = sessionId\n      interactiveCanvas.__fabricCanvas = canvas\n      interactiveCanvas.style.pointerEvents = 'auto'\n      interactiveCanvas.style.touchAction = 'none'\n    }\n    if (canvas.lowerCanvasEl) {\n      canvas.lowerCanvasEl.style.pointerEvents = 'auto'\n      canvas.lowerCanvasEl.style.touchAction = 'none'\n    }\n\n    const brush = canvas.freeDrawingBrush as fabric.PencilBrush\n    if (brush) {\n      brush.color = '#111827'\n      brush.width = 2\n    }\n\n    const onObjectMutate = () => {\n      if (!applyingRemoteRef.current) {\n        queueSnapshotSyncRef.current()\n      }\n    }\n\n    const getPoint = (evt: fabric.TEvent): { x: number; y: number } | null => {\n      const maybeEvent = evt as fabric.TEvent & { scenePoint?: { x: number; y: number } }\n      if (maybeEvent.scenePoint && Number.isFinite(maybeEvent.scenePoint.x) && Number.isFinite(maybeEvent.scenePoint.y)) {\n        return { x: maybeEvent.scenePoint.x, y: maybeEvent.scenePoint.y }\n      }\n      const pointerEvent = evt.e\n      if (!pointerEvent) return null\n      if (typeof (canvas as unknown as { getScenePoint?: (event: Event) => { x: number; y: number } }).getScenePoint === 'function') {\n        const scenePoint = (canvas as unknown as { getScenePoint: (event: Event) => { x: number; y: number } }).getScenePoint(pointerEvent)\n        if (Number.isFinite(scenePoint.x) && Number.isFinite(scenePoint.y)) {\n          return { x: scenePoint.x, y: scenePoint.y }\n        }\n      }\n      if (typeof (canvas as unknown as { getPointer?: (event: Event) => { x: number; y: number } }).getPointer === 'function') {\n        const fallbackPoint = (canvas as unknown as { getPointer: (event: Event) => { x: number; y: number } }).getPointer(pointerEvent)\n        if (Number.isFinite(fallbackPoint.x) && Number.isFinite(fallbackPoint.y)) {\n          return { x: fallbackPoint.x, y: fallbackPoint.y }\n        }\n      }\n      return null\n    }\n\n    const onMouseDown = (evt: fabric.TEvent) => {\n      if (!canEditRef.current) return\n      const pointer = getPoint(evt)\n      if (!pointer) return\n      const activeTool = toolRef.current\n\n      if (activeTool === 'text') {\n        const text = new fabric.IText('Text', {\n          left: pointer.x,\n          top: pointer.y,\n          fontSize: 20,\n          fill: '#111827',\n        })\n        canvas.add(text)\n        canvas.setActiveObject(text)\n        text.enterEditing()\n        onObjectMutate()\n        return\n      }\n\n      if (activeTool !== 'rect' && activeTool !== 'circle') return\n      startPointRef.current = { x: pointer.x, y: pointer.y }\n\n      if (activeTool === 'rect') {\n        const rect = new fabric.Rect({\n          left: pointer.x,\n          top: pointer.y,\n          width: 1,\n          height: 1,\n          fill: 'rgba(37, 99, 235, 0.08)',\n          stroke: '#2563eb',\n          strokeWidth: 2,\n        })\n        drawingShapeRef.current = rect\n        canvas.add(rect)\n      } else {\n        const circle = new fabric.Circle({\n          left: pointer.x,\n          top: pointer.y,\n          radius: 1,\n          fill: 'rgba(16, 185, 129, 0.08)',\n          stroke: '#10b981',\n          strokeWidth: 2,\n        })\n        drawingShapeRef.current = circle\n        canvas.add(circle)\n      }\n    }\n\n    const onMouseMove = (evt: fabric.TEvent) => {\n      if (!canEditRef.current) return\n      if (!startPointRef.current || !drawingShapeRef.current) return\n      const pointer = getPoint(evt)\n      if (!pointer) return\n\n      if (drawingShapeRef.current instanceof fabric.Rect) {\n        const x = Math.min(startPointRef.current.x, pointer.x)\n        const y = Math.min(startPointRef.current.y, pointer.y)\n        const width = Math.abs(pointer.x - startPointRef.current.x)\n        const height = Math.abs(pointer.y - startPointRef.current.y)\n        drawingShapeRef.current.set({ left: x, top: y, width, height })\n      } else if (drawingShapeRef.current instanceof fabric.Circle) {\n        const radius = Math.max(Math.abs(pointer.x - startPointRef.current.x), Math.abs(pointer.y - startPointRef.current.y)) / 2\n        drawingShapeRef.current.set({\n          radius,\n          left: startPointRef.current.x - radius,\n          top: startPointRef.current.y - radius,\n        })\n      }\n      canvas.renderAll()\n    }\n\n    const onMouseUp = () => {\n      if (!canEditRef.current) return\n      if (drawingShapeRef.current) {\n        drawingShapeRef.current = null\n        startPointRef.current = null\n        onObjectMutate()\n      }\n    }\n\n    canvas.on('path:created', onObjectMutate)\n    canvas.on('object:modified', onObjectMutate)\n    canvas.on('object:removed', onObjectMutate)\n    canvas.on('mouse:down', onMouseDown)\n    canvas.on('mouse:move', onMouseMove)\n    canvas.on('mouse:up', onMouseUp)\n\n    const resize = () => {\n      const root = rootRef.current\n      if (!root) return\n      const bounds = root.getBoundingClientRect()\n      const width = Math.max(960, Math.floor(bounds.width - 12))\n      const height = Math.max(520, Math.floor(bounds.height - 12))\n      canvas.setDimensions({ width, height })\n      canvas.renderAll()\n    }\n\n    resize()\n    const ro = new ResizeObserver(() => resize())\n    if (rootRef.current) ro.observe(rootRef.current)\n\n    return () => {\n      ro.disconnect()\n      canvas.off('path:created', onObjectMutate)\n      canvas.off('object:modified', onObjectMutate)\n      canvas.off('object:removed', onObjectMutate)\n      canvas.off('mouse:down', onMouseDown)\n      canvas.off('mouse:move', onMouseMove)\n      canvas.off('mouse:up', onMouseUp)\n      canvas.dispose()\n      if (typeof window !== 'undefined' && process.env.NODE_ENV !== 'production' && window.__fabricMathBoards) {\n        delete window.__fabricMathBoards[sessionId]\n      }\n      canvasRef.current = null\n    }\n  }, [sessionId])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    canvas.isDrawingMode = canEdit && (tool === 'draw' || tool === 'erase')\n    canvas.selection = canEdit && tool === 'select'\n    canvas.skipTargetFind = !(canEdit && tool === 'select')\n\n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.color = tool === 'erase' ? '#ffffff' : '#111827'\n      canvas.freeDrawingBrush.width = tool === 'erase' ? 18 : 2\n    }\n\n    if (tool !== 'select') {\n      canvas.discardActiveObject()\n    }\n\n    applyReadonly(!canEdit)\n  }, [applyReadonly, canEdit, tool])\n\n  const statusBadge = useMemo(() => {\n    if (isConnected) {\n      return (\n        <Badge variant=\"outline\" className=\"gap-1\">\n          <Wifi className=\"h-3 w-3 text-green-600\" />\n          Synced\n        </Badge>\n      )\n    }\n    return (\n      <Badge variant=\"outline\" className=\"gap-1\">\n        <WifiOff className=\"h-3 w-3 text-amber-600\" />\n        Reconnecting\n      </Badge>\n    )\n  }, [isConnected])\n\n  const toolButton = (value: Tool, label: string, icon: ReactNode) => (\n    <Button\n      key={value}\n      type=\"button\"\n      size=\"sm\"\n      variant={tool === value ? 'default' : 'outline'}\n      onClick={() => setTool(value)}\n      disabled={!canEdit}\n      className=\"gap-1\"\n    >\n      {icon}\n      {label}\n    </Button>\n  )\n\n  const requestEditAccess = () => {\n    if (role !== 'student' || canEdit || !socket) return\n    socket.emit('math_wb_edit_request', { sessionId })\n    setHasRequestedEditAccess(true)\n  }\n\n  return (\n    <div className={`h-full min-h-0 flex flex-col rounded-lg border bg-white ${className}`} data-testid=\"fabric-math-board\">\n      <div className=\"flex flex-wrap items-center justify-between gap-2 border-b px-3 py-2\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-sm font-semibold\">Math Whiteboard</h3>\n          {statusBadge}\n          <Badge variant={canEdit ? 'default' : 'secondary'}>{canEdit ? 'Editable' : 'Read only'}</Badge>\n        </div>\n\n        <div className=\"flex flex-wrap items-center gap-1\">\n          {canEdit ? (\n            <>\n              {toolButton('select', 'Select', <MousePointer2 className=\"h-3 w-3\" />)}\n              {toolButton('draw', 'Draw', <Pen className=\"h-3 w-3\" />)}\n              {toolButton('erase', 'Erase', <Eraser className=\"h-3 w-3\" />)}\n              {toolButton('rect', 'Rectangle', <Square className=\"h-3 w-3\" />)}\n              {toolButton('circle', 'Circle', <Circle className=\"h-3 w-3\" />)}\n              {toolButton('text', 'Text', <Type className=\"h-3 w-3\" />)}\n            </>\n          ) : (\n            <Badge variant=\"secondary\">Toolbar disabled while locked</Badge>\n          )}\n\n          {role === 'student' && !canEdit && (\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              className=\"gap-1\"\n              onClick={requestEditAccess}\n              disabled={hasRequestedEditAccess}\n            >\n              <Hand className=\"h-3 w-3\" />\n              {hasRequestedEditAccess ? 'Request sent' : 'Request edit access'}\n            </Button>\n          )}\n\n          {role === 'tutor' && (\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"gap-1\"\n              onClick={() => socket?.emit('math_wb_lock', { sessionId, locked: !isLocked })}\n            >\n              {isLocked ? <Unlock className=\"h-3 w-3\" /> : <Lock className=\"h-3 w-3\" />}\n              {isLocked ? 'Unlock Students' : 'Lock Students'}\n            </Button>\n          )}\n          {role === 'tutor' && pendingEditRequests.length > 0 && (\n            <Badge variant=\"secondary\">\n              {pendingEditRequests.length} edit request{pendingEditRequests.length === 1 ? '' : 's'}\n            </Badge>\n          )}\n        </div>\n      </div>\n\n      <div ref={rootRef} className=\"relative flex-1 min-h-0 touch-none p-1\">\n        {role === 'student' && !canEdit && (\n          <div className=\"absolute left-3 right-3 top-3 z-10 rounded-md border border-amber-300 bg-amber-50 px-3 py-2 text-sm text-amber-900 shadow-sm\">\n            Board locked by tutor. You can view only until access is granted.\n          </div>\n        )}\n        <canvas\n          ref={canvasElRef}\n          data-testid=\"fabric-math-canvas\"\n          data-math-session={sessionId}\n          className=\"h-full w-full rounded border border-slate-200\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default FabricMathBoard\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4283, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/whiteboard/MathBoardHost.tsx"],"sourcesContent":["'use client'\n\nimport type { Socket } from 'socket.io-client'\nimport TldrawMathBoard from './TldrawMathBoard'\nimport { FabricMathBoard } from './FabricMathBoard'\n\nexport interface MathBoardProps {\n  sessionId: string\n  socket: Socket | null\n  userId?: string\n  userName?: string\n  role: 'tutor' | 'student'\n  className?: string\n}\n\nfunction resolveEngine(): 'fabric' | 'tldraw' {\n  const raw = (process.env.NEXT_PUBLIC_MATH_ENGINE || 'fabric').toLowerCase()\n  return raw === 'tldraw' ? 'tldraw' : 'fabric'\n}\n\nexport function MathBoardHost(props: MathBoardProps) {\n  const engine = resolveEngine()\n\n  if (engine === 'tldraw') {\n    return <TldrawMathBoard {...props} />\n  }\n\n  return <FabricMathBoard {...props} />\n}\n\nexport default MathBoardHost\n"],"names":[],"mappings":";;;;;;AAgBe;;AAbf;AACA;AAJA;;;;AAeA,SAAS;IACP,MAAM,MAAM,CAAC,6NAAO,CAAC,GAAG,CAAC,uBAAuB,IAAI,QAAQ,EAAE,WAAW;IACzE,OAAO,QAAQ,WAAW,WAAW;AACvC;AAEO,SAAS,cAAc,KAAqB;IACjD,MAAM,SAAS;IAEf,IAAI,WAAW,UAAU;QACvB,qBAAO,+OAAC,mNAAe;YAAE,GAAG,KAAK;;;;;;IACnC;IAEA,qBAAO,+OAAC,2NAAe;QAAE,GAAG,KAAK;;;;;;AACnC;KARgB;uCAUD"}},
    {"offset": {"line": 4331, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/types.ts"],"sourcesContent":["/**\n * Poll System Types\n * Shared types for the polling functionality across Tutor Live Class and Class Room pages\n */\n\nexport type PollType = 'multiple_choice' | 'true_false' | 'rating' | 'short_answer' | 'word_cloud';\nexport type PollStatus = 'draft' | 'active' | 'closed';\n\nexport interface PollOption {\n  id: string;\n  label: string;  // A, B, C, D...\n  text: string;\n  color?: string;\n  responseCount?: number;\n  percentage?: number;\n}\n\nexport interface PollResponse {\n  id: string;\n  optionIds?: string[];\n  rating?: number;\n  textAnswer?: string;\n  studentId?: string;\n  createdAt: string;\n}\n\nexport interface Poll {\n  id: string;\n  sessionId: string;\n  tutorId: string;\n  question: string;\n  type: PollType;\n  options: PollOption[];\n  isAnonymous: boolean;\n  allowMultiple: boolean;\n  timeLimit?: number;\n  showResults: boolean;\n  correctOptionId?: string;\n  status: PollStatus;\n  startedAt?: string;\n  endedAt?: string;\n  responses: PollResponse[];\n  totalResponses: number;\n  createdAt: string;\n}\n\nexport interface PollTemplate {\n  id: string;\n  name: string;\n  icon: string;\n  description: string;\n  defaultQuestion: string;\n  type: PollType;\n  options?: string[];\n}\n\nexport interface CreatePollInput {\n  question: string;\n  type: PollType;\n  options: { label: string; text: string }[];\n  isAnonymous: boolean;\n  allowMultiple: boolean;\n  timeLimit?: number;\n  showResults: boolean;\n  correctOptionId?: string;\n}\n\nexport interface SubmitVoteInput {\n  optionIds?: string[];\n  rating?: number;\n  textAnswer?: string;\n}\n\nexport interface PollStatistics {\n  totalVotes: number;\n  participationRate: number;\n  optionStats: {\n    optionId: string;\n    count: number;\n    percentage: number;\n  }[];\n}\n"],"names":[],"mappings":"AAAA;;;CAGC"}},
    {"offset": {"line": 4343, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/radio-group.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\nimport { Circle } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn('grid gap-2', className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,6NAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,+OAAC,uOAAwB;QACvB,WAAW,IAAA,8KAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,uOAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,6NAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,+OAAC,uOAAwB;QACvB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,+OAAC,4OAA6B;YAAC,WAAU;sBACvC,cAAA,+OAAC,qQAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,uOAAwB,CAAC,WAAW"}},
    {"offset": {"line": 4413, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/utils/pollTemplates.ts"],"sourcesContent":["/**\n * Poll Templates\n * Pre-defined poll templates for quick creation\n */\n\nimport { PollTemplate } from '../types';\n\nexport const POLL_TEMPLATES: PollTemplate[] = [\n  {\n    id: 'understanding-check',\n    name: 'Understanding Check',\n    icon: 'HelpCircle',\n    description: 'Quick yes/no check for concept understanding',\n    defaultQuestion: 'Do you understand this concept?',\n    type: 'true_false',\n    options: ['Yes, I understand', 'No, I need clarification']\n  },\n  {\n    id: 'confidence-rating',\n    name: 'Confidence Rating',\n    icon: 'Gauge',\n    description: 'Rate confidence level on a scale of 1-5',\n    defaultQuestion: 'How confident are you with this topic?',\n    type: 'rating',\n    options: ['1 - Not confident', '2', '3', '4', '5 - Very confident']\n  },\n  {\n    id: 'topic-review',\n    name: 'Topic Review Vote',\n    icon: 'List',\n    description: 'Let students vote on what to review next',\n    defaultQuestion: 'Which topic should we review next?',\n    type: 'multiple_choice',\n    options: ['Topic A', 'Topic B', 'Topic C', 'Topic D']\n  },\n  {\n    id: 'ready-to-proceed',\n    name: 'Ready to Move On?',\n    icon: 'Play',\n    description: 'Check if students are ready to continue',\n    defaultQuestion: 'Are you ready to move on to the next section?',\n    type: 'true_false',\n    options: ['Yes, let\\'s continue', 'No, I need more time']\n  },\n  {\n    id: 'quick-quiz',\n    name: 'Quick Quiz',\n    icon: 'Brain',\n    description: 'Multiple choice question with correct answer',\n    defaultQuestion: 'What is the correct answer?',\n    type: 'multiple_choice',\n    options: ['Option A', 'Option B', 'Option C', 'Option D']\n  },\n  {\n    id: 'word-cloud',\n    name: 'Word Cloud',\n    icon: 'Cloud',\n    description: 'Collect single-word responses from students',\n    defaultQuestion: 'What\\'s one word that describes your understanding?',\n    type: 'word_cloud'\n  },\n  {\n    id: 'short-answer',\n    name: 'Short Answer',\n    icon: 'MessageSquare',\n    description: 'Open-ended question for detailed responses',\n    defaultQuestion: 'What questions do you have about this topic?',\n    type: 'short_answer'\n  },\n  {\n    id: 'pace-check',\n    name: 'Pace Check',\n    icon: 'Clock',\n    description: 'Check if the teaching pace is appropriate',\n    defaultQuestion: 'How is the pace of the lesson?',\n    type: 'multiple_choice',\n    options: ['Too slow', 'Just right', 'Too fast', 'Way too fast']\n  }\n];\n\nexport const getTemplateById = (id: string): PollTemplate | undefined => {\n  return POLL_TEMPLATES.find(t => t.id === id);\n};\n\nexport const getDefaultOptions = (type: string): string[] => {\n  switch (type) {\n    case 'true_false':\n      return ['Yes', 'No'];\n    case 'rating':\n      return ['1', '2', '3', '4', '5'];\n    case 'multiple_choice':\n      return ['Option A', 'Option B', 'Option C', 'Option D'];\n    default:\n      return [];\n  }\n};\n\n/**\n * Generate option labels (A, B, C, D...)\n */\nexport function generateOptionLabel(index: number): string {\n  return String.fromCharCode(65 + index); // 65 is 'A' in ASCII\n}\n\nexport const OPTION_COLORS = [\n  '#3b82f6', // blue-500\n  '#10b981', // emerald-500\n  '#f59e0b', // amber-500\n  '#ef4444', // red-500\n  '#8b5cf6', // violet-500\n  '#ec4899', // pink-500\n  '#06b6d4', // cyan-500\n  '#84cc16', // lime-500\n];\n\nexport const getOptionColor = (index: number): string => {\n  return OPTION_COLORS[index % OPTION_COLORS.length];\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;AAIM,MAAM,iBAAiC;IAC5C;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;QACN,SAAS;YAAC;YAAqB;SAA2B;IAC5D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;QACN,SAAS;YAAC;YAAqB;YAAK;YAAK;YAAK;SAAqB;IACrE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;QACN,SAAS;YAAC;YAAW;YAAW;YAAW;SAAU;IACvD;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;QACN,SAAS;YAAC;YAAwB;SAAuB;IAC3D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;QACN,SAAS;YAAC;YAAY;YAAY;YAAY;SAAW;IAC3D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,iBAAiB;QACjB,MAAM;QACN,SAAS;YAAC;YAAY;YAAc;YAAY;SAAe;IACjE;CACD;AAEM,MAAM,kBAAkB,CAAC;IAC9B,OAAO,eAAe,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;AAC3C;AAEO,MAAM,oBAAoB,CAAC;IAChC,OAAQ;QACN,KAAK;YACH,OAAO;gBAAC;gBAAO;aAAK;QACtB,KAAK;YACH,OAAO;gBAAC;gBAAK;gBAAK;gBAAK;gBAAK;aAAI;QAClC,KAAK;YACH,OAAO;gBAAC;gBAAY;gBAAY;gBAAY;aAAW;QACzD;YACE,OAAO,EAAE;IACb;AACF;AAKO,SAAS,oBAAoB,KAAa;IAC/C,OAAO,OAAO,YAAY,CAAC,KAAK,QAAQ,qBAAqB;AAC/D;AAEO,MAAM,gBAAgB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,iBAAiB,CAAC;IAC7B,OAAO,aAAa,CAAC,QAAQ,cAAc,MAAM,CAAC;AACpD"}},
    {"offset": {"line": 4581, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/PollCreator.tsx"],"sourcesContent":["/**\n * PollCreator\n * Component for creating new polls with templates and custom options\n */\n\n'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { \n  HelpCircle, \n  Gauge, \n  List, \n  Play, \n  Brain, \n  Cloud, \n  MessageSquare, \n  Clock,\n  Plus,\n  Trash2,\n  ArrowLeft\n} from 'lucide-react';\nimport { PollType, CreatePollInput } from './types';\nimport { POLL_TEMPLATES, getOptionColor, generateOptionLabel } from './utils/pollTemplates';\n\ninterface PollCreatorProps {\n  onSubmit: (input: CreatePollInput) => void;\n  onCancel: () => void;\n}\n\nconst ICON_MAP: Record<string, React.ComponentType<{ className?: string }>> = {\n  HelpCircle,\n  Gauge,\n  List,\n  Play,\n  Brain,\n  Cloud,\n  MessageSquare,\n  Clock\n};\n\nexport function PollCreator({ onSubmit, onCancel }: PollCreatorProps) {\n  const [step, setStep] = useState<'template' | 'customize'>('template');\n  const [selectedTemplate, setSelectedTemplate] = useState<string | null>(null);\n  \n  // Poll form state\n  const [question, setQuestion] = useState('');\n  const [pollType, setPollType] = useState<PollType>('multiple_choice');\n  const [options, setOptions] = useState<{ label: string; text: string }[]>([\n    { label: 'A', text: '' },\n    { label: 'B', text: '' }\n  ]);\n  const [isAnonymous, setIsAnonymous] = useState(true);\n  const [allowMultiple, setAllowMultiple] = useState(false);\n  const [showResults, setShowResults] = useState(true);\n  const [timeLimit, setTimeLimit] = useState<number | undefined>(undefined);\n\n  const handleSelectTemplate = useCallback((templateId: string) => {\n    const template = POLL_TEMPLATES.find(t => t.id === templateId);\n    if (!template) return;\n\n    setSelectedTemplate(templateId);\n    setQuestion(template.defaultQuestion);\n    setPollType(template.type);\n    \n    if (template.options) {\n      setOptions(template.options.map((text, i) => ({\n        label: generateOptionLabel(i),\n        text\n      })));\n    } else {\n      setOptions([\n        { label: 'A', text: '' },\n        { label: 'B', text: '' }\n      ]);\n    }\n    \n    setStep('customize');\n  }, []);\n\n  const handleAddOption = useCallback(() => {\n    if (options.length >= 6) return;\n    setOptions(prev => [...prev, { \n      label: generateOptionLabel(prev.length),\n      text: '' \n    }]);\n  }, [options.length]);\n\n  const handleRemoveOption = useCallback((index: number) => {\n    if (options.length <= 2) return;\n    setOptions(prev => {\n      const newOptions = prev.filter((_, i) => i !== index);\n      // Re-label options\n      return newOptions.map((opt, i) => ({\n        ...opt,\n        label: generateOptionLabel(i)\n      }));\n    });\n  }, [options.length]);\n\n  const handleOptionChange = useCallback((index: number, text: string) => {\n    setOptions(prev => prev.map((opt, i) => \n      i === index ? { ...opt, text } : opt\n    ));\n  }, []);\n\n  const handleSubmit = useCallback(() => {\n    if (!question.trim()) return;\n    if (pollType === 'multiple_choice' || pollType === 'true_false') {\n      if (options.some(o => !o.text.trim())) return;\n    }\n\n    onSubmit({\n      question: question.trim(),\n      type: pollType,\n      options,\n      isAnonymous,\n      allowMultiple,\n      showResults,\n      timeLimit\n    });\n  }, [question, pollType, options, isAnonymous, allowMultiple, showResults, timeLimit, onSubmit]);\n\n  if (step === 'template') {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={onCancel}>\n            <ArrowLeft className=\"h-4 w-4\" />\n          </Button>\n          <h4 className=\"font-medium\">Choose a Template</h4>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-3\">\n          {POLL_TEMPLATES.map(template => {\n            const Icon = ICON_MAP[template.icon] || HelpCircle;\n            return (\n              <button\n                key={template.id}\n                onClick={() => handleSelectTemplate(template.id)}\n                className={cn(\n                  \"p-4 border rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50\",\n                  selectedTemplate === template.id && \"border-blue-500 bg-blue-50\"\n                )}\n              >\n                <Icon className=\"h-5 w-5 text-blue-600 mb-2\" />\n                <h5 className=\"font-medium text-sm\">{template.name}</h5>\n                <p className=\"text-xs text-gray-500 mt-1\">{template.description}</p>\n              </button>\n            );\n          })}\n        </div>\n\n        <Button \n          variant=\"outline\" \n          className=\"w-full\"\n          onClick={() => {\n            setSelectedTemplate(null);\n            setStep('customize');\n          }}\n        >\n          Start from Scratch\n        </Button>\n      </div>\n    );\n  }\n\n  const canSubmit = question.trim() && \n    (pollType === 'short_answer' || pollType === 'word_cloud' || \n     options.every(o => o.text.trim()));\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Button variant=\"ghost\" size=\"icon\" onClick={() => setStep('template')}>\n          <ArrowLeft className=\"h-4 w-4\" />\n        </Button>\n        <h4 className=\"font-medium\">Customize Poll</h4>\n      </div>\n\n      {/* Question */}\n      <div className=\"space-y-2\">\n        <Label>Question</Label>\n        <Textarea\n          value={question}\n          onChange={(e) => setQuestion(e.target.value)}\n          placeholder=\"Enter your question...\"\n          className=\"min-h-[80px]\"\n        />\n      </div>\n\n      {/* Poll Type */}\n      <div className=\"space-y-2\">\n        <Label>Poll Type</Label>\n        <RadioGroup \n          value={pollType} \n          onValueChange={(v) => setPollType(v as PollType)}\n          className=\"grid grid-cols-2 gap-2\"\n        >\n          {[\n            { value: 'multiple_choice', label: 'Multiple Choice' },\n            { value: 'true_false', label: 'Yes / No' },\n            { value: 'rating', label: 'Rating (1-5)' },\n            { value: 'short_answer', label: 'Short Answer' },\n            { value: 'word_cloud', label: 'Word Cloud' }\n          ].map(type => (\n            <div key={type.value} className=\"flex items-center space-x-2\">\n              <RadioGroupItem value={type.value} id={type.value} />\n              <Label htmlFor={type.value} className=\"text-sm cursor-pointer\">\n                {type.label}\n              </Label>\n            </div>\n          ))}\n        </RadioGroup>\n      </div>\n\n      {/* Options (for multiple choice types) */}\n      {(pollType === 'multiple_choice' || pollType === 'true_false') && (\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between\">\n            <Label>Options</Label>\n            {options.length < 6 && (\n              <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={handleAddOption}>\n                <Plus className=\"h-4 w-4 mr-1\" />\n                Add Option\n              </Button>\n            )}\n          </div>\n          <div className=\"space-y-2\">\n            {options.map((option, index) => (\n              <div key={index} className=\"flex items-center gap-2\">\n                <span \n                  className=\"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium text-white shrink-0\"\n                  style={{ backgroundColor: getOptionColor(index) }}\n                >\n                  {option.label}\n                </span>\n                <Input\n                  value={option.text}\n                  onChange={(e) => handleOptionChange(index, e.target.value)}\n                  placeholder={`Option ${option.label}`}\n                  className=\"flex-1\"\n                />\n                {options.length > 2 && (\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => handleRemoveOption(index)}\n                    className=\"text-red-500 hover:text-red-600 shrink-0\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Settings */}\n      <div className=\"space-y-3 pt-2 border-t\">\n        <h5 className=\"font-medium text-sm\">Settings</h5>\n        \n        <div className=\"flex items-center justify-between\">\n          <div className=\"space-y-0.5\">\n            <Label className=\"text-sm\">Anonymous Voting</Label>\n            <p className=\"text-xs text-gray-500\">Hide voter identities</p>\n          </div>\n          <Switch checked={isAnonymous} onCheckedChange={setIsAnonymous} />\n        </div>\n\n        {(pollType === 'multiple_choice' || pollType === 'true_false') && (\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label className=\"text-sm\">Allow Multiple Selections</Label>\n              <p className=\"text-xs text-gray-500\">Voters can choose multiple options</p>\n            </div>\n            <Switch checked={allowMultiple} onCheckedChange={setAllowMultiple} />\n          </div>\n        )}\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"space-y-0.5\">\n            <Label className=\"text-sm\">Show Results to Students</Label>\n            <p className=\"text-xs text-gray-500\">Display live results to participants</p>\n          </div>\n          <Switch checked={showResults} onCheckedChange={setShowResults} />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label className=\"text-sm\">Time Limit (optional)</Label>\n          <div className=\"flex gap-2\">\n            {[30, 60, 120, 300].map(seconds => (\n              <Button\n                key={seconds}\n                type=\"button\"\n                variant={timeLimit === seconds ? 'default' : 'outline'}\n                size=\"sm\"\n                onClick={() => setTimeLimit(timeLimit === seconds ? undefined : seconds)}\n              >\n                {seconds < 60 ? `${seconds}s` : `${Math.floor(seconds / 60)}m`}\n              </Button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex gap-2 pt-4\">\n        <Button variant=\"outline\" onClick={onCancel} className=\"flex-1\">\n          Cancel\n        </Button>\n        <Button \n          onClick={handleSubmit} \n          disabled={!canSubmit}\n          className=\"flex-1\"\n        >\n          Create Poll\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5326, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/utils/pollCalculations.ts"],"sourcesContent":["/**\n * Poll Calculations\n * Utility functions for computing poll statistics\n */\n\nimport { Poll, PollOption, PollStatistics } from '../types';\n\n/**\n * Calculate statistics for a poll\n */\nexport function calculatePollStatistics(\n  poll: Poll,\n  totalStudents: number\n): PollStatistics {\n  const totalVotes = poll.responses?.length || 0;\n  const participationRate = totalStudents > 0 \n    ? Math.round((totalVotes / totalStudents) * 100) \n    : 0;\n\n  const optionStats = poll.options.map(option => {\n    let count = 0;\n    \n    if (poll.type === 'rating') {\n      // For rating type, count responses with matching rating value\n      const ratingValue = parseInt(option.label);\n      count = poll.responses?.filter(r => r.rating === ratingValue).length || 0;\n    } else if (poll.type === 'word_cloud' || poll.type === 'short_answer') {\n      // For text responses, count non-empty text answers\n      count = poll.responses?.filter(r => r.textAnswer && r.textAnswer.trim()).length || 0;\n    } else {\n      // For multiple choice, count responses containing this option\n      count = poll.responses?.filter(r => \n        r.optionIds?.includes(option.id)\n      ).length || 0;\n    }\n\n    const percentage = totalVotes > 0 \n      ? Math.round((count / totalVotes) * 100) \n      : 0;\n\n    return {\n      optionId: option.id,\n      count,\n      percentage\n    };\n  });\n\n  return {\n    totalVotes,\n    participationRate,\n    optionStats\n  };\n}\n\n/**\n * Update poll options with calculated statistics\n */\nexport function updatePollWithStatistics(\n  poll: Poll,\n  totalStudents: number\n): Poll {\n  const stats = calculatePollStatistics(poll, totalStudents);\n  \n  const updatedOptions = poll.options.map((option, index) => {\n    const stat = stats.optionStats.find(s => s.optionId === option.id);\n    return {\n      ...option,\n      responseCount: stat?.count || 0,\n      percentage: stat?.percentage || 0\n    };\n  });\n\n  return {\n    ...poll,\n    options: updatedOptions,\n    totalResponses: stats.totalVotes\n  };\n}\n\n/**\n * Generate option labels (A, B, C, D...)\n */\nexport function generateOptionLabel(index: number): string {\n  return String.fromCharCode(65 + index); // 65 is 'A' in ASCII\n}\n\n/**\n * Get remaining time for an active poll\n */\nexport function getRemainingTime(poll: Poll): number | null {\n  if (!poll.startedAt || !poll.timeLimit) return null;\n  \n  const startTime = new Date(poll.startedAt).getTime();\n  const elapsed = Date.now() - startTime;\n  const remaining = (poll.timeLimit * 1000) - elapsed;\n  \n  return Math.max(0, Math.floor(remaining / 1000));\n}\n\n/**\n * Format remaining time as MM:SS\n */\nexport function formatRemainingTime(seconds: number): string {\n  const mins = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\n}\n\n/**\n * Check if a poll has expired\n */\nexport function isPollExpired(poll: Poll): boolean {\n  const remaining = getRemainingTime(poll);\n  return remaining !== null && remaining <= 0;\n}\n\n/**\n * Get word cloud data (frequency count of words)\n */\nexport function getWordCloudData(poll: Poll): { word: string; count: number }[] {\n  if (poll.type !== 'word_cloud' && poll.type !== 'short_answer') {\n    return [];\n  }\n\n  const wordCounts: Record<string, number> = {};\n  \n  poll.responses?.forEach(response => {\n    if (response.textAnswer) {\n      const words = response.textAnswer\n        .toLowerCase()\n        .split(/\\s+/)\n        .map(w => w.replace(/[^\\w\\u4e00-\\u9fff]/g, '')) // Keep English and Chinese characters\n        .filter(w => w.length > 0);\n      \n      words.forEach(word => {\n        wordCounts[word] = (wordCounts[word] || 0) + 1;\n      });\n    }\n  });\n\n  return Object.entries(wordCounts)\n    .map(([word, count]) => ({ word, count }))\n    .sort((a, b) => b.count - a.count);\n}\n\n/**\n * Hash a string (for anonymous vote tracking)\n */\nexport async function hashString(input: string): Promise<string> {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(input);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5444, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/ActivePollView.tsx"],"sourcesContent":["/**\n * ActivePollView\n * Displays an active poll with live results\n */\n\n'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { Poll, PollType } from './types';\nimport { \n  calculatePollStatistics, \n  getRemainingTime, \n  formatRemainingTime,\n  isPollExpired,\n  getWordCloudData\n} from './utils/pollCalculations';\nimport { BarChart3, Clock, Users, Square, TrendingUp } from 'lucide-react';\n\ninterface ActivePollViewProps {\n  poll: Poll;\n  totalStudents: number;\n  onEnd: () => void;\n}\n\nexport function ActivePollView({ poll, totalStudents, onEnd }: ActivePollViewProps) {\n  const [currentTime, setCurrentTime] = useState(Date.now());\n  const stats = calculatePollStatistics(poll, totalStudents);\n  const remainingTime = getRemainingTime(poll);\n  const expired = isPollExpired(poll);\n\n  // Update timer every second\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(Date.now());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const renderPollResults = () => {\n    switch (poll.type) {\n      case 'word_cloud':\n        return <WordCloudResults poll={poll} />;\n      case 'short_answer':\n        return <ShortAnswerResults poll={poll} />;\n      case 'rating':\n        return <RatingResults poll={poll} stats={stats} />;\n      case 'multiple_choice':\n      case 'true_false':\n      default:\n        return <ChoiceResults poll={poll} stats={stats} />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between\">\n        <div>\n          <Badge className=\"bg-green-100 text-green-700 border-green-200 mb-2\">\n             Live\n          </Badge>\n          <h4 className=\"font-medium text-gray-900\">{poll.question}</h4>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            {poll.type.replace('_', ' ')}  {poll.isAnonymous ? 'Anonymous' : 'Named'}\n          </p>\n        </div>\n        {remainingTime !== null && !expired && (\n          <div className=\"flex items-center gap-1 text-orange-600 bg-orange-50 px-2 py-1 rounded\">\n            <Clock className=\"h-4 w-4\" />\n            <span className=\"font-mono font-medium\">\n              {formatRemainingTime(remainingTime)}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Stats Summary */}\n      <div className=\"grid grid-cols-3 gap-2\">\n        <StatCard\n          icon={<Users className=\"h-4 w-4\" />}\n          value={stats.totalVotes}\n          label=\"Responses\"\n        />\n        <StatCard\n          icon={<TrendingUp className=\"h-4 w-4\" />}\n          value={`${stats.participationRate}%`}\n          label=\"Participation\"\n        />\n        <StatCard\n          icon={<BarChart3 className=\"h-4 w-4\" />}\n          value={totalStudents - stats.totalVotes}\n          label=\"Remaining\"\n        />\n      </div>\n\n      {/* Progress bar for participation */}\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between text-xs\">\n          <span className=\"text-gray-500\">Class Participation</span>\n          <span className=\"font-medium\">{stats.participationRate}%</span>\n        </div>\n        <Progress value={stats.participationRate} className=\"h-2\" />\n      </div>\n\n      {/* Results */}\n      <div className=\"border rounded-lg p-4 bg-gray-50\">\n        <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Live Results</h5>\n        {renderPollResults()}\n      </div>\n\n      {/* Actions */}\n      <Button \n        onClick={onEnd} \n        variant=\"destructive\"\n        className=\"w-full\"\n      >\n        <Square className=\"h-4 w-4 mr-2\" />\n        End Poll\n      </Button>\n    </div>\n  );\n}\n\n// Choice Results (Multiple Choice / True-False)\nfunction ChoiceResults({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  const maxCount = Math.max(...stats.optionStats.map(s => s.count), 1);\n\n  return (\n    <div className=\"space-y-3\">\n      {poll.options.map((option, index) => {\n        const stat = stats.optionStats.find(s => s.optionId === option.id);\n        const count = stat?.count || 0;\n        const percentage = stat?.percentage || 0;\n        const isLeader = count === maxCount && count > 0;\n\n        return (\n          <div key={option.id} className=\"space-y-1\">\n            <div className=\"flex items-center justify-between text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <span \n                  className=\"w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium text-white\"\n                  style={{ backgroundColor: getOptionColor(index) }}\n                >\n                  {option.label}\n                </span>\n                <span className=\"font-medium\">{option.text}</span>\n                {isLeader && count > 0 && (\n                  <Badge variant=\"secondary\" className=\"text-xs\">Leading</Badge>\n                )}\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-gray-500\">{count} votes</span>\n                <span className=\"font-medium w-10 text-right\">{percentage}%</span>\n              </div>\n            </div>\n            <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full transition-all duration-500 ease-out rounded-full\"\n                style={{ \n                  width: `${percentage}%`,\n                  backgroundColor: getOptionColor(index)\n                }}\n              />\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Rating Results\nfunction RatingResults({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  const maxCount = Math.max(...stats.optionStats.map(s => s.count), 1);\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-center gap-1 mb-4\">\n        {[1, 2, 3, 4, 5].map(rating => {\n          const stat = stats.optionStats.find(s => {\n            const option = poll.options.find(o => o.id === s.optionId);\n            return option && parseInt(option.label) === rating;\n          });\n          const count = stat?.count || 0;\n          const hasVotes = count > 0;\n\n          return (\n            <div \n              key={rating}\n              className={cn(\n                \"w-10 h-10 rounded-lg flex items-center justify-center font-medium transition-colors\",\n                hasVotes \n                  ? \"bg-blue-500 text-white\" \n                  : \"bg-gray-200 text-gray-400\"\n              )}\n            >\n              {rating}\n            </div>\n          );\n        })}\n      </div>\n\n      {poll.options.map((option, index) => {\n        const stat = stats.optionStats.find(s => s.optionId === option.id);\n        const count = stat?.count || 0;\n        const percentage = stat?.percentage || 0;\n\n        return (\n          <div key={option.id} className=\"flex items-center gap-3\">\n            <span className=\"w-8 font-medium text-gray-700\">{option.label}</span>\n            <div className=\"flex-1 h-6 bg-gray-200 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-blue-500 transition-all duration-500 ease-out rounded-full flex items-center justify-end pr-2\"\n                style={{ width: `${percentage}%` }}\n              >\n                {percentage > 15 && (\n                  <span className=\"text-xs text-white font-medium\">{count}</span>\n                )}\n              </div>\n            </div>\n            <span className=\"w-10 text-right text-sm text-gray-500\">{percentage}%</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Word Cloud Results\nfunction WordCloudResults({ poll }: { poll: Poll }) {\n  const wordData = getWordCloudData(poll);\n  const maxCount = Math.max(...wordData.map(w => w.count), 1);\n\n  if (wordData.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-400\">\n        Waiting for responses...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-wrap gap-2 justify-center p-4\">\n      {wordData.slice(0, 30).map(({ word, count }) => {\n        const size = Math.max(0.75, (count / maxCount) * 2);\n        const opacity = Math.max(0.5, count / maxCount);\n\n        return (\n          <span\n            key={word}\n            className=\"inline-block px-2 py-1 rounded-full bg-blue-100 text-blue-800 transition-all\"\n            style={{\n              fontSize: `${size}rem`,\n              opacity\n            }}\n          >\n            {word}\n            <span className=\"text-xs ml-1 opacity-60\">({count})</span>\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\n// Short Answer Results\nfunction ShortAnswerResults({ poll }: { poll: Poll }) {\n  const responses = poll.responses?.filter(r => r.textAnswer?.trim()) || [];\n\n  if (responses.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-400\">\n        Waiting for responses...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n      {responses.map((response, index) => (\n        <div \n          key={response.id || index}\n          className=\"p-3 bg-white rounded-lg border text-sm\"\n        >\n          {response.textAnswer}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// Stat Card Component\nfunction StatCard({ \n  icon, \n  value, \n  label \n}: { \n  icon: React.ReactNode; \n  value: React.ReactNode; \n  label: string;\n}) {\n  return (\n    <div className=\"bg-white border rounded-lg p-3 text-center\">\n      <div className=\"flex justify-center text-gray-400 mb-1\">\n        {icon}\n      </div>\n      <div className=\"text-xl font-bold text-gray-900\">{value}</div>\n      <div className=\"text-xs text-gray-500\">{label}</div>\n    </div>\n  );\n}\n\n// Helper function for option colors\nfunction getOptionColor(index: number): string {\n  const colors = [\n    '#3b82f6', // blue-500\n    '#10b981', // emerald-500\n    '#f59e0b', // amber-500\n    '#ef4444', // red-500\n    '#8b5cf6', // violet-500\n    '#ec4899', // pink-500\n  ];\n  return colors[index % colors.length];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6118, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/PollHistory.tsx"],"sourcesContent":["/**\n * PollHistory\n * Displays completed polls with results\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\n\nimport { Poll } from './types';\nimport { calculatePollStatistics, getWordCloudData } from './utils/pollCalculations';\nimport { ChevronDown, ChevronUp, RotateCcw, Trash2, BarChart3, Clock, Users } from 'lucide-react';\n\ninterface PollHistoryProps {\n  polls: Poll[];\n  onReuse: (poll: Poll) => void;\n  onDelete: (pollId: string) => void;\n}\n\nexport function PollHistory({ polls, onReuse, onDelete }: PollHistoryProps) {\n  const [expandedPolls, setExpandedPolls] = useState<Set<string>>(new Set());\n\n  if (polls.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-400\">\n        <BarChart3 className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n        <p>No completed polls yet</p>\n        <p className=\"text-sm mt-1\">Ended polls will appear here</p>\n      </div>\n    );\n  }\n\n  const toggleExpand = (pollId: string) => {\n    setExpandedPolls(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(pollId)) {\n        newSet.delete(pollId);\n      } else {\n        newSet.add(pollId);\n      }\n      return newSet;\n    });\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {polls.map(poll => {\n        const isExpanded = expandedPolls.has(poll.id);\n        return (\n          <div key={poll.id} className=\"border rounded-lg bg-white overflow-hidden\">\n            <button \n              className=\"w-full p-3 text-left hover:bg-gray-50 transition-colors\"\n              onClick={() => toggleExpand(poll.id)}\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"font-medium text-gray-900 line-clamp-2\">{poll.question}</p>\n                  <div className=\"flex items-center gap-2 mt-1 flex-wrap\">\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {poll.type.replace('_', ' ')}\n                    </Badge>\n                    <span className=\"text-xs text-gray-500\">\n                      {poll.totalResponses || 0} responses\n                    </span>\n                    <span className=\"text-xs text-gray-400\">\n                      {formatDate(poll.endedAt || poll.createdAt)}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"ml-2\">\n                  {isExpanded ? (\n                    <ChevronUp className=\"h-4 w-4 text-gray-400\" />\n                  ) : (\n                    <ChevronDown className=\"h-4 w-4 text-gray-400\" />\n                  )}\n                </div>\n              </div>\n            </button>\n\n            {isExpanded && (\n              <div className=\"px-3 pb-3 border-t bg-gray-50\">\n                <PollResultsView poll={poll} />\n                \n                {/* Actions */}\n                <div className=\"flex gap-2 mt-3\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => onReuse(poll)}\n                    className=\"flex-1\"\n                  >\n                    <RotateCcw className=\"h-4 w-4 mr-1\" />\n                    Reuse\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"ghost\"\n                    onClick={() => onDelete(poll.id)}\n                    className=\"text-red-500 hover:text-red-600\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Poll Results View\nfunction PollResultsView({ poll }: { poll: Poll }) {\n  const stats = calculatePollStatistics(poll, poll.totalResponses || 0);\n\n  const renderResults = () => {\n    switch (poll.type) {\n      case 'word_cloud':\n        return <WordCloudResults poll={poll} />;\n      case 'short_answer':\n        return <ShortAnswerResults poll={poll} />;\n      case 'rating':\n        return <RatingResults poll={poll} stats={stats} />;\n      case 'multiple_choice':\n      case 'true_false':\n      default:\n        return <ChoiceResults poll={poll} stats={stats} />;\n    }\n  };\n\n  return (\n    <div className=\"mt-3 space-y-3\">\n      {/* Summary Stats */}\n      <div className=\"flex gap-4 text-sm\">\n        <div className=\"flex items-center gap-1 text-gray-600\">\n          <Users className=\"h-4 w-4\" />\n          <span>{stats.totalVotes} responses</span>\n        </div>\n        <div className=\"flex items-center gap-1 text-gray-600\">\n          <Clock className=\"h-4 w-4\" />\n          <span>\n            {poll.startedAt && poll.endedAt \n              ? `${Math.round((new Date(poll.endedAt).getTime() - new Date(poll.startedAt).getTime()) / 1000)}s`\n              : 'N/A'\n            }\n          </span>\n        </div>\n      </div>\n\n      {/* Results */}\n      {renderResults()}\n    </div>\n  );\n}\n\n// Choice Results\nfunction ChoiceResults({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  return (\n    <div className=\"space-y-2\">\n      {poll.options.map((option, index) => {\n        const stat = stats.optionStats.find(s => s.optionId === option.id);\n        const count = stat?.count || 0;\n        const percentage = stat?.percentage || 0;\n\n        return (\n          <div key={option.id} className=\"flex items-center gap-2\">\n            <span \n              className=\"w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium text-white shrink-0\"\n              style={{ backgroundColor: getOptionColor(index) }}\n            >\n              {option.label}\n            </span>\n            <span className=\"text-sm flex-1 truncate\">{option.text}</span>\n            <div className=\"flex items-center gap-2 w-24\">\n              <div className=\"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full rounded-full transition-all\"\n                  style={{ \n                    width: `${percentage}%`,\n                    backgroundColor: getOptionColor(index)\n                  }}\n                />\n              </div>\n              <span className=\"text-xs text-gray-500 w-8 text-right\">{percentage}%</span>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Rating Results\nfunction RatingResults({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  return (\n    <div className=\"flex items-center justify-center gap-2\">\n      {[1, 2, 3, 4, 5].map(rating => {\n        const stat = stats.optionStats.find(s => {\n          const option = poll.options.find(o => o.id === s.optionId);\n          return option && parseInt(option.label) === rating;\n        });\n        const count = stat?.count || 0;\n        const total = stats.totalVotes || 1;\n        const percentage = Math.round((count / total) * 100);\n\n        return (\n          <div key={rating} className=\"text-center\">\n            <div \n              className={cn(\n                \"w-10 h-10 rounded-lg flex items-center justify-center font-medium mb-1\",\n                count > 0 ? \"bg-blue-500 text-white\" : \"bg-gray-200 text-gray-400\"\n              )}\n            >\n              {rating}\n            </div>\n            <div className=\"text-xs text-gray-500\">{percentage}%</div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Word Cloud Results\nfunction WordCloudResults({ poll }: { poll: Poll }) {\n  const wordData = getWordCloudData(poll);\n\n  if (wordData.length === 0) {\n    return <p className=\"text-sm text-gray-400 text-center py-4\">No responses</p>;\n  }\n\n  const maxCount = Math.max(...wordData.map(w => w.count), 1);\n\n  return (\n    <div className=\"flex flex-wrap gap-2 justify-center\">\n      {wordData.slice(0, 20).map(({ word, count }) => {\n        const size = Math.max(0.75, (count / maxCount) * 1.5);\n        return (\n          <span\n            key={word}\n            className=\"inline-block px-2 py-1 rounded-full bg-blue-100 text-blue-800\"\n            style={{ fontSize: `${size}rem` }}\n          >\n            {word}\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\n// Short Answer Results\nfunction ShortAnswerResults({ poll }: { poll: Poll }) {\n  const responses = poll.responses?.filter(r => r.textAnswer?.trim()) || [];\n\n  if (responses.length === 0) {\n    return <p className=\"text-sm text-gray-400 text-center py-4\">No responses</p>;\n  }\n\n  return (\n    <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n      {responses.slice(0, 10).map((response, index) => (\n        <div \n          key={response.id || index}\n          className=\"p-2 bg-white rounded border text-sm\"\n        >\n          {response.textAnswer}\n        </div>\n      ))}\n      {responses.length > 10 && (\n        <p className=\"text-xs text-gray-400 text-center\">\n          +{responses.length - 10} more responses\n        </p>\n      )}\n    </div>\n  );\n}\n\n// Helper Functions\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  \n  return date.toLocaleDateString('en-US', { \n    month: 'short', \n    day: 'numeric' \n  });\n}\n\nfunction getOptionColor(index: number): string {\n  const colors = [\n    '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'\n  ];\n  return colors[index % colors.length];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6741, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/hooks/usePollSocket.ts"],"sourcesContent":["/**\n * usePollSocket Hook\n * Real-time poll management using Socket.io\n */\n\n'use client';\n\nimport { useCallback, useEffect, useState, useRef } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport { Poll, CreatePollInput, SubmitVoteInput } from '../types';\n\ninterface UsePollSocketReturn {\n  polls: Poll[];\n  activePolls: Poll[];\n  draftPolls: Poll[];\n  closedPolls: Poll[];\n  isLoading: boolean;\n  error: string | null;\n  isConnected: boolean;\n  \n  // Actions\n  createPoll: (input: CreatePollInput) => void;\n  startPoll: (pollId: string) => void;\n  endPoll: (pollId: string) => void;\n  deletePoll: (pollId: string) => void;\n  submitVote: (pollId: string, input: SubmitVoteInput) => void;\n  \n  // Refresh\n  refreshPolls: () => void;\n}\n\ninterface PollSocketParticipant {\n  userId: string\n  name?: string\n  role: 'student' | 'tutor'\n}\n\nexport function usePollSocket(sessionId: string, participant?: PollSocketParticipant): UsePollSocketReturn {\n  const socketRef = useRef<Socket | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [polls, setPolls] = useState<Poll[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Initialize socket connection\n  useEffect(() => {\n    if (!sessionId) return;\n\n    const connect = async () => {\n      const token = await import('@/lib/socket-auth').then((m) => m.getSocketToken());\n      if (!token) return;\n      const socket = io('/api/socket', {\n        path: '/api/socket',\n        transports: ['websocket', 'polling'],\n        auth: { token },\n      });\n      socketRef.current = socket;\n\n    socket.on('connect', () => {\n      setIsConnected(true);\n      if (participant?.userId) {\n        socket.emit('join_class', {\n          roomId: sessionId,\n          userId: participant.userId,\n          name: participant.name || participant.role,\n          role: participant.role,\n        })\n      }\n      // Join poll room\n      socket.emit('poll:join', { sessionId });\n      // Fetch initial polls\n      socket.emit('poll:list', { sessionId }, (response: { success: boolean; polls?: Poll[]; error?: string }) => {\n        setIsLoading(false);\n        if (response.success && response.polls) {\n          setPolls(response.polls);\n        } else {\n          setError(response.error || 'Failed to load polls');\n        }\n      });\n    });\n\n    socket.on('disconnect', () => {\n      setIsConnected(false);\n    });\n\n    socket.on('connect_error', (err) => {\n      setError('Connection error: ' + err.message);\n      setIsLoading(false);\n    });\n    };\n    connect();\n    return () => {\n      socketRef.current?.emit('poll:leave', { sessionId });\n      socketRef.current?.disconnect();\n      socketRef.current = null;\n    };\n  }, [sessionId, participant?.name, participant?.role, participant?.userId]);\n\n  // Listen for poll events\n  useEffect(() => {\n    const socket = socketRef.current;\n    if (!socket) return;\n\n    const handlePollCreated = (poll: Poll) => {\n      setPolls(prev => [...prev, poll]);\n    };\n\n    const handlePollUpdated = (updatedPoll: Poll) => {\n      setPolls(prev => prev.map(p => \n        p.id === updatedPoll.id ? updatedPoll : p\n      ));\n    };\n\n    const handlePollStarted = (poll: Poll) => {\n      setPolls(prev => prev.map(p => \n        p.id === poll.id ? { ...p, status: 'active', startedAt: new Date().toISOString() } : p\n      ));\n    };\n\n    const handlePollEnded = (poll: Poll) => {\n      setPolls(prev => prev.map(p => \n        p.id === poll.id ? { ...p, status: 'closed', endedAt: new Date().toISOString() } : p\n      ));\n    };\n\n    const handlePollDeleted = (pollId: string) => {\n      setPolls(prev => prev.filter(p => p.id !== pollId));\n    };\n\n    socket.on('poll:created', handlePollCreated);\n    socket.on('poll:updated', handlePollUpdated);\n    socket.on('poll:started', handlePollStarted);\n    socket.on('poll:ended', handlePollEnded);\n    socket.on('poll:deleted', handlePollDeleted);\n\n    return () => {\n      socket.off('poll:created', handlePollCreated);\n      socket.off('poll:updated', handlePollUpdated);\n      socket.off('poll:started', handlePollStarted);\n      socket.off('poll:ended', handlePollEnded);\n      socket.off('poll:deleted', handlePollDeleted);\n    };\n  }, []);\n\n  const createPoll = useCallback((input: CreatePollInput) => {\n    socketRef.current?.emit('poll:create', { sessionId, ...input });\n  }, [sessionId]);\n\n  const startPoll = useCallback((pollId: string) => {\n    socketRef.current?.emit('poll:start', { pollId, sessionId });\n  }, [sessionId]);\n\n  const endPoll = useCallback((pollId: string) => {\n    socketRef.current?.emit('poll:end', { pollId, sessionId });\n  }, [sessionId]);\n\n  const deletePoll = useCallback((pollId: string) => {\n    socketRef.current?.emit('poll:delete', { pollId, sessionId });\n  }, [sessionId]);\n\n  const submitVote = useCallback((pollId: string, input: SubmitVoteInput) => {\n    socketRef.current?.emit('poll:vote', { pollId, sessionId, ...input });\n  }, [sessionId]);\n\n  const refreshPolls = useCallback(() => {\n    if (!socketRef.current) return;\n    setIsLoading(true);\n    socketRef.current.emit('poll:list', { sessionId }, (response: { success: boolean; polls?: Poll[]; error?: string }) => {\n      setIsLoading(false);\n      if (response.success && response.polls) {\n        setPolls(response.polls);\n      }\n    });\n  }, [sessionId]);\n\n  const activePolls = polls.filter(p => p.status === 'active');\n  const draftPolls = polls.filter(p => p.status === 'draft');\n  const closedPolls = polls.filter(p => p.status === 'closed');\n\n  return {\n    polls,\n    activePolls,\n    draftPolls,\n    closedPolls,\n    isLoading,\n    error,\n    isConnected,\n    createPoll,\n    startPoll,\n    endPoll,\n    deletePoll,\n    submitVote,\n    refreshPolls\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7013, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/QuickPollPanel.tsx"],"sourcesContent":["/**\n * QuickPollPanel\n * Main poll management panel for tutors\n * Supports creating, managing, and viewing polls\n */\n\n'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Poll, CreatePollInput } from './types';\nimport { PollCreator } from './PollCreator';\nimport { ActivePollView } from './ActivePollView';\nimport { PollHistory } from './PollHistory';\nimport { usePollSocket } from './hooks/usePollSocket';\n\ninterface QuickPollPanelProps {\n  sessionId: string;\n  tutorId: string;\n  totalStudents: number;\n  className?: string;\n}\n\nexport function QuickPollPanel({\n  sessionId,\n  tutorId,\n  totalStudents,\n  className\n}: QuickPollPanelProps) {\n  const [activeTab, setActiveTab] = useState<'create' | 'active' | 'history'>('create');\n  const [showCreator, setShowCreator] = useState(false);\n  \n  const {\n    activePolls,\n    draftPolls,\n    closedPolls,\n    isLoading,\n    error,\n    isConnected,\n    createPoll,\n    startPoll,\n    endPoll,\n    deletePoll\n  } = usePollSocket(sessionId, {\n    userId: tutorId,\n    role: 'tutor',\n    name: 'Tutor',\n  });\n\n  const activePoll = activePolls[0]; // Only one active poll at a time\n\n  const handleCreatePoll = useCallback((input: CreatePollInput) => {\n    createPoll(input);\n    setShowCreator(false);\n    setActiveTab('active');\n  }, [createPoll]);\n\n  const handleStartPoll = useCallback((pollId: string) => {\n    startPoll(pollId);\n    setActiveTab('active');\n  }, [startPoll]);\n\n  const handleEndPoll = useCallback((pollId: string) => {\n    endPoll(pollId);\n    setActiveTab('history');\n  }, [endPoll]);\n\n  if (isLoading) {\n    return (\n      <div className={cn(\"flex items-center justify-center h-64\", className)}>\n        <div className=\"animate-spin h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={cn(\"flex items-center justify-center h-64 text-red-500\", className)}>\n        {error}\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"flex flex-col h-full bg-white rounded-lg border\", className)}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b\">\n        <h3 className=\"font-semibold text-gray-900\">Quick Polls</h3>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant={isConnected ? 'default' : 'secondary'}>\n            {isConnected ? 'Connected' : 'Connecting...'}\n          </Badge>\n          {activePolls.length > 0 && (\n            <Badge className=\"bg-green-100 text-green-700 border-green-200\">\n              {activePolls.length} Active\n            </Badge>\n          )}\n          {draftPolls.length > 0 && (\n            <Badge variant=\"outline\" className=\"text-gray-600\">\n              {draftPolls.length} Draft\n            </Badge>\n          )}\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as typeof activeTab)} className=\"flex-1 flex flex-col\">\n        {!isConnected && (\n          <div className=\"px-4 pt-3 text-xs text-muted-foreground\">\n            Waiting for poll socket connection. Creating or starting polls is disabled until connected.\n          </div>\n        )}\n        <TabsList className=\"grid w-full grid-cols-3 rounded-none border-b bg-transparent p-0\">\n          <TabsTrigger \n            value=\"create\"\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-blue-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none py-3\"\n          >\n            Create\n          </TabsTrigger>\n          <TabsTrigger \n            value=\"active\"\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-blue-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none py-3\"\n          >\n            Active\n            {activePolls.length > 0 && (\n              <span className=\"ml-2 w-5 h-5 rounded-full bg-blue-600 text-white text-xs flex items-center justify-center\">\n                {activePolls.length}\n              </span>\n            )}\n          </TabsTrigger>\n          <TabsTrigger \n            value=\"history\"\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-blue-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none py-3\"\n          >\n            History\n            {closedPolls.length > 0 && (\n              <span className=\"ml-2 text-xs text-gray-500\">\n                ({closedPolls.length})\n              </span>\n            )}\n          </TabsTrigger>\n        </TabsList>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          <TabsContent value=\"create\" className=\"mt-0 h-full\">\n            {showCreator ? (\n              <PollCreator\n                onSubmit={handleCreatePoll}\n                onCancel={() => setShowCreator(false)}\n              />\n            ) : (\n              <div className=\"space-y-4\">\n                <Button \n                  onClick={() => setShowCreator(true)}\n                  disabled={!isConnected}\n                  className=\"w-full h-16 text-lg gap-2\"\n                >\n                  <span className=\"text-2xl\">+</span>\n                  Create New Poll\n                </Button>\n\n                {draftPolls.length > 0 && (\n                  <div className=\"space-y-2\">\n                    <h4 className=\"text-sm font-medium text-gray-700\">Draft Polls</h4>\n                    {draftPolls.map(poll => (\n                      <DraftPollCard \n                        key={poll.id} \n                        poll={poll} \n                        onStart={() => handleStartPoll(poll.id)}\n                        onDelete={() => deletePoll(poll.id)}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"active\" className=\"mt-0 h-full\">\n            {activePoll ? (\n              <ActivePollView\n                poll={activePoll}\n                totalStudents={totalStudents}\n                onEnd={() => handleEndPoll(activePoll.id)}\n              />\n            ) : (\n              <EmptyState\n                icon=\"\"\n                title=\"No Active Poll\"\n                description=\"Create a poll to start collecting responses from students\"\n                action={{\n                  label: \"Create Poll\",\n                  onClick: () => setActiveTab('create')\n                }}\n              />\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"history\" className=\"mt-0 h-full\">\n            <PollHistory\n              polls={closedPolls}\n              onReuse={(poll) => {\n                // Clone poll and create new draft\n                const { id, status, createdAt, startedAt, endedAt, responses, ...pollData } = poll;\n                createPoll({\n                  ...pollData,\n                  options: pollData.options.map(o => ({ label: o.label, text: o.text }))\n                });\n              }}\n              onDelete={deletePoll}\n            />\n          </TabsContent>\n        </div>\n      </Tabs>\n    </div>\n  );\n}\n\n// Draft Poll Card Component\ninterface DraftPollCardProps {\n  poll: Poll;\n  onStart: () => void;\n  onDelete: () => void;\n}\n\nfunction DraftPollCard({ poll, onStart, onDelete }: DraftPollCardProps) {\n  return (\n    <div className=\"p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors\">\n      <p className=\"font-medium text-gray-900 line-clamp-2\">{poll.question}</p>\n      <p className=\"text-sm text-gray-500 mt-1\">\n        {poll.type.replace('_', ' ')}  {poll.options.length} options\n      </p>\n      <div className=\"flex gap-2 mt-2\">\n        <Button size=\"sm\" onClick={onStart} className=\"flex-1\">Start Poll</Button>\n        <Button size=\"sm\" variant=\"ghost\" onClick={onDelete} className=\"text-red-500 hover:text-red-600\">\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n}\n\n// Empty State Component\ninterface EmptyStateProps {\n  icon: string;\n  title: string;\n  description: string;\n  action?: {\n    label: string;\n    onClick: () => void;\n  };\n}\n\nfunction EmptyState({ icon, title, description, action }: EmptyStateProps) {\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full text-center p-4\">\n      <span className=\"text-4xl mb-3\">{icon}</span>\n      <h4 className=\"font-medium text-gray-900\">{title}</h4>\n      <p className=\"text-sm text-gray-500 mt-1 max-w-xs\">{description}</p>\n      {action && (\n        <Button onClick={action.onClick} className=\"mt-4\">\n          {action.label}\n        </Button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7510, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/PollResults.tsx"],"sourcesContent":["/**\n * PollResults\n * Displays final poll results after poll has ended\n */\n\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/lib/utils';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { Poll } from './types';\nimport { calculatePollStatistics, getWordCloudData } from './utils/pollCalculations';\nimport { Users, Clock, BarChart3 } from 'lucide-react';\n\ninterface PollResultsProps {\n  poll: Poll;\n  totalStudents?: number;\n  className?: string;\n}\n\nexport function PollResults({ poll, totalStudents = 0, className }: PollResultsProps) {\n  const stats = calculatePollStatistics(poll, totalStudents || poll.totalResponses);\n\n  return (\n    <div className={cn(\"bg-white rounded-lg border p-4\", className)}>\n      {/* Header */}\n      <div className=\"mb-4\">\n        <Badge variant=\"secondary\" className=\"mb-2\">\n          {poll.type.replace('_', ' ')}\n        </Badge>\n        <h4 className=\"font-medium text-gray-900\">{poll.question}</h4>\n        <div className=\"flex items-center gap-4 mt-2 text-sm text-gray-500\">\n          <span className=\"flex items-center gap-1\">\n            <Users className=\"h-4 w-4\" />\n            {stats.totalVotes} responses\n          </span>\n          {totalStudents > 0 && (\n            <span className=\"flex items-center gap-1\">\n              <BarChart3 className=\"h-4 w-4\" />\n              {stats.participationRate}% participation\n            </span>\n          )}\n          {poll.startedAt && poll.endedAt && (\n            <span className=\"flex items-center gap-1\">\n              <Clock className=\"h-4 w-4\" />\n              {Math.round((new Date(poll.endedAt).getTime() - new Date(poll.startedAt).getTime()) / 1000)}s\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Results Content */}\n      <div className=\"mt-4\">\n        <PollResultsContent poll={poll} stats={stats} />\n      </div>\n    </div>\n  );\n}\n\n// Results content based on poll type\nfunction PollResultsContent({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  switch (poll.type) {\n    case 'word_cloud':\n      return <WordCloudResults poll={poll} />;\n    case 'short_answer':\n      return <ShortAnswerResults poll={poll} />;\n    case 'rating':\n      return <RatingResults poll={poll} stats={stats} />;\n    case 'multiple_choice':\n    case 'true_false':\n    default:\n      return <ChoiceResults poll={poll} stats={stats} />;\n  }\n}\n\n// Choice Results (Multiple Choice / True-False)\nfunction ChoiceResults({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  const maxCount = Math.max(...stats.optionStats.map(s => s.count), 1);\n\n  return (\n    <div className=\"space-y-3\">\n      {poll.options.map((option, index) => {\n        const stat = stats.optionStats.find(s => s.optionId === option.id);\n        const count = stat?.count || 0;\n        const percentage = stat?.percentage || 0;\n        const isLeader = count === maxCount && count > 0;\n        const isCorrect = poll.correctOptionId === option.id;\n\n        return (\n          <div key={option.id} className=\"space-y-1\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <span \n                  className={cn(\n                    \"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium text-white\",\n                    isCorrect && \"ring-2 ring-green-400 ring-offset-1\"\n                  )}\n                  style={{ backgroundColor: getOptionColor(index) }}\n                >\n                  {option.label}\n                </span>\n                <span className=\"font-medium text-gray-900\">{option.text}</span>\n                {isLeader && (\n                  <Badge variant=\"secondary\" className=\"text-xs\">Most Voted</Badge>\n                )}\n                {isCorrect && (\n                  <Badge className=\"bg-green-100 text-green-700 border-green-200 text-xs\">\n                    Correct\n                  </Badge>\n                )}\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-sm text-gray-500\">{count} votes</span>\n                <span className=\"font-medium w-10 text-right\">{percentage}%</span>\n              </div>\n            </div>\n            <Progress value={percentage} className=\"h-2\" />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Rating Results\nfunction RatingResults({ \n  poll, \n  stats \n}: { \n  poll: Poll; \n  stats: ReturnType<typeof calculatePollStatistics>;\n}) {\n  const maxCount = Math.max(...stats.optionStats.map(s => s.count), 1);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-center gap-2\">\n        {[1, 2, 3, 4, 5].map(rating => {\n          const stat = stats.optionStats.find(s => {\n            const option = poll.options.find(o => o.id === s.optionId);\n            return option && parseInt(option.label) === rating;\n          });\n          const count = stat?.count || 0;\n          const hasVotes = count > 0;\n          const isMax = count === maxCount && count > 0;\n\n          return (\n            <div key={rating} className=\"text-center\">\n              <div \n                className={cn(\n                  \"w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg transition-all\",\n                  isMax \n                    ? \"bg-blue-500 text-white scale-110 shadow-lg\" \n                    : hasVotes \n                      ? \"bg-blue-100 text-blue-700\" \n                      : \"bg-gray-100 text-gray-400\"\n                )}\n              >\n                {rating}\n              </div>\n              <div className=\"text-xs text-gray-500 mt-1\">{count}</div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Rating distribution bars */}\n      <div className=\"space-y-2\">\n        {[1, 2, 3, 4, 5].map(rating => {\n          const stat = stats.optionStats.find(s => {\n            const option = poll.options.find(o => o.id === s.optionId);\n            return option && parseInt(option.label) === rating;\n          });\n          const count = stat?.count || 0;\n          const percentage = stat?.percentage || 0;\n\n          return (\n            <div key={rating} className=\"flex items-center gap-3\">\n              <span className=\"w-6 font-medium text-gray-700\">{rating}</span>\n              <div className=\"flex-1 h-4 bg-gray-100 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-blue-500 transition-all duration-500 rounded-full\"\n                  style={{ width: `${percentage}%` }}\n                />\n              </div>\n              <span className=\"w-10 text-right text-sm text-gray-500\">{percentage}%</span>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// Word Cloud Results\nfunction WordCloudResults({ poll }: { poll: Poll }) {\n  const wordData = getWordCloudData(poll);\n  const maxCount = Math.max(...wordData.map(w => w.count), 1);\n\n  if (wordData.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-400\">\n        <p>No responses collected</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-wrap gap-3 justify-center p-4 bg-gray-50 rounded-lg\">\n      {wordData.map(({ word, count }) => {\n        const size = 0.75 + (count / maxCount) * 1.5;\n        const opacity = 0.5 + (count / maxCount) * 0.5;\n\n        return (\n          <span\n            key={word}\n            className=\"inline-block px-3 py-1.5 rounded-full bg-blue-500 text-white font-medium transition-all hover:scale-105 cursor-default\"\n            style={{\n              fontSize: `${size}rem`,\n              opacity\n            }}\n            title={`${word}: ${count} occurrences`}\n          >\n            {word}\n            <span className=\"text-xs ml-1.5 opacity-75\">({count})</span>\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\n// Short Answer Results\nfunction ShortAnswerResults({ poll }: { poll: Poll }) {\n  const responses = poll.responses?.filter(r => r.textAnswer?.trim()) || [];\n\n  if (responses.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-400\">\n        <p>No responses collected</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-2 max-h-80 overflow-y-auto\">\n      {responses.map((response, index) => (\n        <div \n          key={response.id || index}\n          className=\"p-3 bg-gray-50 rounded-lg border text-sm hover:bg-gray-100 transition-colors\"\n        >\n          <p className=\"text-gray-900\">{response.textAnswer}</p>\n          {!poll.isAnonymous && response.studentId && (\n            <p className=\"text-xs text-gray-400 mt-1\">Student ID: {response.studentId}</p>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// Helper function for option colors\nfunction getOptionColor(index: number): string {\n  const colors = [\n    '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'\n  ];\n  return colors[index % colors.length];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8081, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/PollTemplates.tsx"],"sourcesContent":["/**\n * PollTemplates\n * Component for selecting from pre-defined poll templates\n */\n\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/lib/utils';\nimport { POLL_TEMPLATES, getTemplateById } from './utils/pollTemplates';\nimport { \n  HelpCircle, \n  Gauge, \n  List, \n  Play, \n  Brain, \n  Cloud, \n  MessageSquare, \n  Clock \n} from 'lucide-react';\n\ninterface PollTemplatesProps {\n  selectedId?: string;\n  onSelect: (templateId: string) => void;\n  className?: string;\n}\n\nconst ICON_MAP: Record<string, React.ComponentType<{ className?: string }>> = {\n  HelpCircle,\n  Gauge,\n  List,\n  Play,\n  Brain,\n  Cloud,\n  MessageSquare,\n  Clock\n};\n\nexport function PollTemplates({ selectedId, onSelect, className }: PollTemplatesProps) {\n  return (\n    <div className={cn(\"grid grid-cols-2 gap-3\", className)}>\n      {POLL_TEMPLATES.map(template => {\n        const Icon = ICON_MAP[template.icon] || HelpCircle;\n        const isSelected = selectedId === template.id;\n\n        return (\n          <button\n            key={template.id}\n            onClick={() => onSelect(template.id)}\n            className={cn(\n              \"p-4 border rounded-lg text-left transition-all hover:border-blue-500 hover:bg-blue-50\",\n              isSelected && \"border-blue-500 bg-blue-50 ring-2 ring-blue-200\"\n            )}\n          >\n            <div className=\"flex items-start gap-3\">\n              <div className={cn(\n                \"p-2 rounded-lg\",\n                isSelected ? \"bg-blue-500 text-white\" : \"bg-blue-100 text-blue-600\"\n              )}>\n                <Icon className=\"h-5 w-5\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h5 className=\"font-medium text-sm text-gray-900\">{template.name}</h5>\n                <p className=\"text-xs text-gray-500 mt-0.5 line-clamp-2\">\n                  {template.description}\n                </p>\n              </div>\n            </div>\n            <div className=\"mt-2 text-xs text-gray-400\">\n              {template.type.replace('_', ' ')}\n            </div>\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n\nexport { getTemplateById, POLL_TEMPLATES };\n"],"names":[],"mappings":";;;;;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;;;CAGC,GAED;;;;;AAsBA,MAAM,WAAwE;IAC5E,YAAA,iSAAU;IACV,OAAA,kQAAK;IACL,MAAA,+PAAI;IACJ,MAAA,+PAAI;IACJ,OAAA,kQAAK;IACL,OAAA,kQAAK;IACL,eAAA,8RAAa;IACb,OAAA,kQAAK;AACP;AAEO,SAAS,cAAc,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAsB;IACnF,qBACE,+OAAC;QAAI,WAAW,IAAA,8KAAE,EAAC,0BAA0B;kBAC1C,2NAAc,CAAC,GAAG,CAAC,CAAA;YAClB,MAAM,OAAO,QAAQ,CAAC,SAAS,IAAI,CAAC,IAAI,iSAAU;YAClD,MAAM,aAAa,eAAe,SAAS,EAAE;YAE7C,qBACE,+OAAC;gBAEC,SAAS,IAAM,SAAS,SAAS,EAAE;gBACnC,WAAW,IAAA,8KAAE,EACX,yFACA,cAAc;;kCAGhB,+OAAC;wBAAI,WAAU;;0CACb,+OAAC;gCAAI,WAAW,IAAA,8KAAE,EAChB,kBACA,aAAa,2BAA2B;0CAExC,cAAA,+OAAC;oCAAK,WAAU;;;;;;;;;;;0CAElB,+OAAC;gCAAI,WAAU;;kDACb,+OAAC;wCAAG,WAAU;kDAAqC,SAAS,IAAI;;;;;;kDAChE,+OAAC;wCAAE,WAAU;kDACV,SAAS,WAAW;;;;;;;;;;;;;;;;;;kCAI3B,+OAAC;wBAAI,WAAU;kCACZ,SAAS,IAAI,CAAC,OAAO,CAAC,KAAK;;;;;;;eAtBzB,SAAS,EAAE;;;;;QA0BtB;;;;;;AAGN;KAtCgB"}},
    {"offset": {"line": 8204, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/StudentPollView.tsx"],"sourcesContent":["/**\n * StudentPollView\n * Component for students to view and vote in active polls\n */\n\n'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Poll, PollType, SubmitVoteInput } from './types';\nimport { getRemainingTime, formatRemainingTime, isPollExpired } from './utils/pollCalculations';\nimport { Check, Clock, Users, AlertCircle } from 'lucide-react';\n\ninterface StudentPollViewProps {\n  poll: Poll;\n  totalStudents: number;\n  hasVoted: boolean;\n  onVote: (input: SubmitVoteInput) => void;\n  className?: string;\n}\n\nexport function StudentPollView({ \n  poll, \n  totalStudents, \n  hasVoted, \n  onVote,\n  className \n}: StudentPollViewProps) {\n  const [selectedOptions, setSelectedOptions] = useState<string[]>([]);\n  const [rating, setRating] = useState<number | null>(null);\n  const [textAnswer, setTextAnswer] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const remainingTime = getRemainingTime(poll);\n  const expired = isPollExpired(poll);\n\n  const handleOptionToggle = useCallback((optionId: string) => {\n    if (poll.allowMultiple) {\n      setSelectedOptions(prev => \n        prev.includes(optionId)\n          ? prev.filter(id => id !== optionId)\n          : [...prev, optionId]\n      );\n    } else {\n      setSelectedOptions([optionId]);\n    }\n  }, [poll.allowMultiple]);\n\n  const handleSubmit = useCallback(async () => {\n    setIsSubmitting(true);\n    \n    const voteInput: SubmitVoteInput = {};\n    \n    switch (poll.type) {\n      case 'multiple_choice':\n      case 'true_false':\n        voteInput.optionIds = selectedOptions;\n        break;\n      case 'rating':\n        if (rating !== null) {\n          voteInput.rating = rating;\n        }\n        break;\n      case 'short_answer':\n      case 'word_cloud':\n        voteInput.textAnswer = textAnswer.trim();\n        break;\n    }\n\n    await onVote(voteInput);\n    setIsSubmitting(false);\n  }, [poll.type, selectedOptions, rating, textAnswer, onVote]);\n\n  const canSubmit = () => {\n    switch (poll.type) {\n      case 'multiple_choice':\n      case 'true_false':\n        return selectedOptions.length > 0;\n      case 'rating':\n        return rating !== null;\n      case 'short_answer':\n      case 'word_cloud':\n        return textAnswer.trim().length > 0;\n      default:\n        return false;\n    }\n  };\n\n  // Show thank you message after voting\n  if (hasVoted) {\n    return (\n      <Card className={cn(\"p-6 text-center\", className)}>\n        <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <Check className=\"h-8 w-8 text-green-600\" />\n        </div>\n        <h4 className=\"font-semibold text-gray-900 mb-2\">Thank You!</h4>\n        <p className=\"text-gray-500 text-sm\">\n          Your response has been recorded.\n        </p>\n        {poll.showResults && poll.status === 'active' && (\n          <p className=\"text-sm text-blue-600 mt-3\">\n            Results will be shared by your tutor.\n          </p>\n        )}\n      </Card>\n    );\n  }\n\n  // Show expired message\n  if (expired) {\n    return (\n      <Card className={cn(\"p-6\", className)}>\n        <div className=\"flex items-center gap-3 text-amber-600 mb-3\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <h4 className=\"font-semibold\">Poll Closed</h4>\n        </div>\n        <p className=\"text-gray-500 text-sm\">\n          This poll has ended. Wait for your tutor to start a new one.\n        </p>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className={cn(\"p-4\", className)}>\n      {/* Header */}\n      <div className=\"mb-4\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <Badge className=\"bg-blue-100 text-blue-700 border-blue-200\">\n            Live Poll\n          </Badge>\n          {remainingTime !== null && (\n            <div className=\"flex items-center gap-1 text-orange-600 text-sm\">\n              <Clock className=\"h-4 w-4\" />\n              <span className=\"font-mono font-medium\">\n                {formatRemainingTime(remainingTime)}\n              </span>\n            </div>\n          )}\n        </div>\n        <h4 className=\"font-semibold text-gray-900\">{poll.question}</h4>\n        <div className=\"flex items-center gap-3 mt-2 text-sm text-gray-500\">\n          <span className=\"flex items-center gap-1\">\n            <Users className=\"h-4 w-4\" />\n            {totalStudents} students\n          </span>\n          {poll.isAnonymous && (\n            <span className=\"text-xs bg-gray-100 px-2 py-0.5 rounded\">\n              Anonymous\n            </span>\n          )}\n          {poll.allowMultiple && (\n            <span className=\"text-xs bg-gray-100 px-2 py-0.5 rounded\">\n              Multiple choice\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Poll Content */}\n      <div className=\"space-y-3\">\n        {renderPollInput({\n          poll,\n          selectedOptions,\n          rating,\n          textAnswer,\n          onOptionToggle: handleOptionToggle,\n          onRatingChange: setRating,\n          onTextChange: setTextAnswer\n        })}\n      </div>\n\n      {/* Submit Button */}\n      <Button\n        onClick={handleSubmit}\n        disabled={!canSubmit() || isSubmitting}\n        className=\"w-full mt-4\"\n        size=\"lg\"\n      >\n        {isSubmitting ? 'Submitting...' : 'Submit Vote'}\n      </Button>\n    </Card>\n  );\n}\n\n// Render appropriate input based on poll type\ninterface PollInputProps {\n  poll: Poll;\n  selectedOptions: string[];\n  rating: number | null;\n  textAnswer: string;\n  onOptionToggle: (optionId: string) => void;\n  onRatingChange: (rating: number) => void;\n  onTextChange: (text: string) => void;\n}\n\nfunction renderPollInput({\n  poll,\n  selectedOptions,\n  rating,\n  textAnswer,\n  onOptionToggle,\n  onRatingChange,\n  onTextChange\n}: PollInputProps) {\n  switch (poll.type) {\n    case 'multiple_choice':\n    case 'true_false':\n      return (\n        <div className=\"space-y-2\">\n          {poll.options.map((option, index) => {\n            const isSelected = selectedOptions.includes(option.id);\n            return (\n              <button\n                key={option.id}\n                onClick={() => onOptionToggle(option.id)}\n                className={cn(\n                  \"w-full p-3 border-2 rounded-lg text-left transition-all flex items-center gap-3\",\n                  isSelected \n                    ? \"border-blue-500 bg-blue-50\" \n                    : \"border-gray-200 hover:border-gray-300\"\n                )}\n              >\n                <span \n                  className={cn(\n                    \"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors\",\n                    isSelected \n                      ? \"bg-blue-500 text-white\" \n                      : \"bg-gray-100 text-gray-700\"\n                  )}\n                  style={!isSelected ? { backgroundColor: getOptionColor(index, 0.2), color: getOptionColor(index, 1) } : undefined}\n                >\n                  {isSelected ? <Check className=\"h-4 w-4\" /> : option.label}\n                </span>\n                <span className={cn(\"flex-1\", isSelected && \"font-medium\")}>\n                  {option.text}\n                </span>\n              </button>\n            );\n          })}\n        </div>\n      );\n\n    case 'rating':\n      return (\n        <div className=\"flex justify-center gap-2 py-4\">\n          {[1, 2, 3, 4, 5].map(value => (\n            <button\n              key={value}\n              onClick={() => onRatingChange(value)}\n              className={cn(\n                \"w-14 h-14 rounded-xl text-xl font-bold transition-all\",\n                rating === value\n                  ? \"bg-blue-500 text-white scale-110 shadow-lg\"\n                  : rating !== null && value < rating\n                    ? \"bg-blue-200 text-blue-700\"\n                    : \"bg-gray-100 text-gray-400 hover:bg-gray-200\"\n              )}\n            >\n              {value}\n            </button>\n          ))}\n        </div>\n      );\n\n    case 'word_cloud':\n      return (\n        <div className=\"space-y-2\">\n          <label className=\"text-sm text-gray-600\">\n            Enter a single word or short phrase:\n          </label>\n          <Textarea\n            value={textAnswer}\n            onChange={(e) => onTextChange(e.target.value)}\n            placeholder=\"Type your answer...\"\n            className=\"min-h-[80px]\"\n            maxLength={50}\n          />\n          <p className=\"text-xs text-gray-400 text-right\">\n            {textAnswer.length}/50 characters\n          </p>\n        </div>\n      );\n\n    case 'short_answer':\n      return (\n        <div className=\"space-y-2\">\n          <label className=\"text-sm text-gray-600\">\n            Enter your answer:\n          </label>\n          <Textarea\n            value={textAnswer}\n            onChange={(e) => onTextChange(e.target.value)}\n            placeholder=\"Type your answer...\"\n            className=\"min-h-[100px]\"\n            maxLength={500}\n          />\n          <p className=\"text-xs text-gray-400 text-right\">\n            {textAnswer.length}/500 characters\n          </p>\n        </div>\n      );\n\n    default:\n      return null;\n  }\n}\n\n// Helper function for option colors\nfunction getOptionColor(index: number, alpha: number = 1): string {\n  const colors = [\n    `rgba(59, 130, 246, ${alpha})`,   // blue\n    `rgba(16, 185, 129, ${alpha})`,   // green\n    `rgba(245, 158, 11, ${alpha})`,   // amber\n    `rgba(239, 68, 68, ${alpha})`,    // red\n    `rgba(139, 92, 246, ${alpha})`,   // violet\n    `rgba(236, 72, 153, ${alpha})`,   // pink\n  ];\n  return colors[index % colors.length];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8717, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/StudentPollWidget.tsx"],"sourcesContent":["/**\n * StudentPollWidget\n * A compact widget for students to see and vote in active polls\n * Can be used as an overlay or inline component\n */\n\n'use client';\n\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { io, Socket } from 'socket.io-client';\nimport { StudentPollView } from './StudentPollView';\nimport { Poll, SubmitVoteInput } from './types';\nimport { ChevronDown, ChevronUp, BarChart2 } from 'lucide-react';\n\ninterface StudentPollWidgetProps {\n  sessionId: string;\n  userId: string;\n  totalStudents: number;\n  className?: string;\n  position?: 'bottom-right' | 'inline';\n}\n\nexport function StudentPollWidget({\n  sessionId,\n  userId,\n  totalStudents,\n  className,\n  position = 'bottom-right'\n}: StudentPollWidgetProps) {\n  const socketRef = useRef<Socket | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [activePoll, setActivePoll] = useState<Poll | null>(null);\n  const [hasVoted, setHasVoted] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [isMinimized, setIsMinimized] = useState(false);\n\n  // Initialize socket connection\n  useEffect(() => {\n    if (!sessionId) return;\n\n    const connect = async () => {\n      const token = await import('@/lib/socket-auth').then((m) => m.getSocketToken());\n      if (!token) return;\n      const socket = io('/api/socket', {\n        path: '/api/socket',\n        transports: ['websocket', 'polling'],\n        auth: { token },\n      });\n      socketRef.current = socket;\n\n    socket.on('connect', () => {\n      setIsConnected(true);\n      socket.emit('join_class', {\n        roomId: sessionId,\n        userId,\n        name: 'Student',\n        role: 'student',\n      })\n      socket.emit('poll:join', { sessionId });\n      \n      // Request current polls\n      socket.emit('poll:list', { sessionId }, (response: { success: boolean; polls?: Poll[] }) => {\n        if (response.success && response.polls) {\n          const active = response.polls.find(p => p.status === 'active');\n          if (active) {\n            setActivePoll(active);\n            const voted = active.responses.some(r => r.studentId === userId);\n            setHasVoted(voted);\n          }\n        }\n      });\n    });\n\n    socket.on('disconnect', () => {\n      setIsConnected(false);\n    });\n    };\n    connect();\n    return () => {\n      socketRef.current?.emit('poll:leave', { sessionId });\n      socketRef.current?.disconnect();\n      socketRef.current = null;\n    };\n  }, [sessionId, userId]);\n\n  // Listen for poll events\n  useEffect(() => {\n    const socket = socketRef.current;\n    if (!socket) return;\n\n    const handlePollStarted = (poll: Poll) => {\n      setActivePoll(poll);\n      setHasVoted(false);\n      setIsMinimized(false);\n      setIsExpanded(true);\n    };\n\n    const handlePollEnded = () => {\n      setActivePoll(null);\n      setHasVoted(false);\n    };\n\n    const handlePollUpdated = (poll: Poll) => {\n      if (poll.status === 'active') {\n        setActivePoll(poll);\n        const voted = poll.responses.some(r => r.studentId === userId);\n        setHasVoted(voted);\n      }\n    };\n\n    socket.on('poll:started', handlePollStarted);\n    socket.on('poll:ended', handlePollEnded);\n    socket.on('poll:updated', handlePollUpdated);\n\n    return () => {\n      socket.off('poll:started', handlePollStarted);\n      socket.off('poll:ended', handlePollEnded);\n      socket.off('poll:updated', handlePollUpdated);\n    };\n  }, [userId]);\n\n  const handleVote = useCallback((input: SubmitVoteInput) => {\n    const socket = socketRef.current;\n    if (!socket || !activePoll) return;\n\n    socket.emit('poll:vote', {\n      pollId: activePoll.id,\n      sessionId,\n      ...input\n    });\n\n    setHasVoted(true);\n  }, [activePoll, sessionId]);\n\n  // No active poll\n  if (!activePoll) {\n    return null;\n  }\n\n  // Inline position - show as card\n  if (position === 'inline') {\n    return (\n      <Card className={cn(\"p-4\", className)}>\n        <StudentPollView\n          poll={activePoll}\n          totalStudents={totalStudents}\n          hasVoted={hasVoted}\n          onVote={handleVote}\n        />\n      </Card>\n    );\n  }\n\n  // Bottom-right position - floating widget\n  if (isMinimized) {\n    return (\n      <div className={cn(\n        \"fixed bottom-4 right-4 z-50\",\n        className\n      )}>\n        <Button\n          onClick={() => setIsMinimized(false)}\n          className=\"gap-2 shadow-lg\"\n        >\n          <BarChart2 className=\"h-4 w-4\" />\n          Active Poll\n          <Badge variant=\"secondary\" className=\"ml-1 bg-white text-blue-600\">\n            New\n          </Badge>\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\n      \"fixed bottom-4 right-4 z-50 w-80\",\n      className\n    )}>\n      <Card className=\"shadow-xl border-2 border-blue-200\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-3 border-b bg-blue-50\">\n          <div className=\"flex items-center gap-2\">\n            <BarChart2 className=\"h-4 w-4 text-blue-600\" />\n            <span className=\"font-medium text-sm\">Live Poll</span>\n            <Badge variant={isConnected ? 'secondary' : 'outline'} className=\"text-[10px]\">\n              {isConnected ? 'Live' : 'Reconnecting'}\n            </Badge>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-6 w-6\"\n              onClick={() => setIsExpanded(!isExpanded)}\n            >\n              {isExpanded ? (\n                <ChevronDown className=\"h-4 w-4\" />\n              ) : (\n                <ChevronUp className=\"h-4 w-4\" />\n              )}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-6 w-6\"\n              onClick={() => setIsMinimized(true)}\n            >\n              <span className=\"text-lg leading-none\"></span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Content */}\n        {isExpanded && (\n          <div className=\"p-3\">\n            <StudentPollView\n              poll={activePoll}\n              totalStudents={totalStudents}\n              hasVoted={hasVoted}\n              onVote={handleVote}\n            />\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9088, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/polls/index.ts"],"sourcesContent":["/**\n * Polls Module\n * Shared polling components and utilities\n */\n\n// Types\nexport * from './types';\n\n// Components\nexport { QuickPollPanel } from './QuickPollPanel';\nexport { PollCreator } from './PollCreator';\nexport { ActivePollView } from './ActivePollView';\nexport { PollResults } from './PollResults';\nexport { PollHistory } from './PollHistory';\nexport { PollTemplates } from './PollTemplates';\nexport { StudentPollView } from './StudentPollView';\nexport { StudentPollWidget } from './StudentPollWidget';\n\n// Hooks\nexport { usePollSocket } from './hooks/usePollSocket';\n\n// Utils\nexport { \n  POLL_TEMPLATES, \n  getTemplateById, \n  getDefaultOptions,\n  getOptionColor \n} from './utils/pollTemplates';\nexport { \n  calculatePollStatistics,\n  updatePollWithStatistics,\n  generateOptionLabel,\n  getRemainingTime,\n  formatRemainingTime,\n  isPollExpired,\n  getWordCloudData,\n  hashString\n} from './utils/pollCalculations';\n"],"names":[],"mappings":";AAAA;;;CAGC,GAED,QAAQ;AACR;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAQ;AACR;AAEA,QAAQ;AACR;AAMA"}},
    {"offset": {"line": 9127, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/engagement/engagement-dashboard.tsx"],"sourcesContent":["/**\n * Real-Time Student Engagement Analytics Dashboard\n * Provides live visibility into student engagement, attention, and participation\n */\n\n'use client'\n\nimport { useState, useEffect, useMemo } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Progress } from '@/components/ui/progress'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Button } from '@/components/ui/button'\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip'\nimport { \n  Activity, \n  AlertTriangle, \n  Brain, \n  Eye, \n  MessageCircle, \n  Hand, \n  TrendingUp,\n  TrendingDown,\n  Minimize2,\n  Maximize2,\n  Filter,\n  ChevronDown,\n  ChevronUp\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nexport interface EngagementMetrics {\n  studentId: string\n  name: string\n  avatar?: string\n  engagementScore: number      // 0-100 overall engagement\n  attentionLevel: 'focused' | 'distracted' | 'away' | 'inactive'\n  participationCount: number   // interactions in last 5 min\n  comprehensionEstimate: number // 0-100 AI-derived understanding\n  lastActivity: Date\n  raisedHand: boolean\n  chatMessages: number         // messages in session\n  whiteboardInteractions: number // drawings/contributions\n  timeInSession: number        // minutes\n  struggleIndicators: number   // AI-detected confusion signals\n}\n\ninterface EngagementDashboardProps {\n  students: EngagementMetrics[]\n  isOpen: boolean\n  onToggle: () => void\n  onSelectStudent?: (studentId: string) => void\n  onSendNudge?: (studentId: string) => void\n  onInviteToBreakout?: (studentId: string) => void\n}\n\nexport function EngagementDashboard({ \n  students, \n  isOpen, \n  onToggle,\n  onSelectStudent,\n  onSendNudge,\n  onInviteToBreakout\n}: EngagementDashboardProps) {\n  const [filter, setFilter] = useState<'all' | 'struggling' | 'inactive' | 'engaged'>('all')\n  const [sortBy, setSortBy] = useState<'engagement' | 'attention' | 'comprehension'>('engagement')\n  const [expanded, setExpanded] = useState(true)\n\n  // Calculate aggregate metrics\n  const aggregateStats = useMemo(() => {\n    if (students.length === 0) return null\n    \n    const avgEngagement = Math.round(students.reduce((acc, s) => acc + s.engagementScore, 0) / students.length)\n    const avgComprehension = Math.round(students.reduce((acc, s) => acc + s.comprehensionEstimate, 0) / students.length)\n    const strugglingCount = students.filter(s => s.engagementScore < 50 || s.comprehensionEstimate < 50).length\n    const inactiveCount = students.filter(s => s.attentionLevel === 'away' || s.attentionLevel === 'inactive').length\n    const totalHandsRaised = students.filter(s => s.raisedHand).length\n    const totalMessages = students.reduce((acc, s) => acc + s.chatMessages, 0)\n    \n    return {\n      avgEngagement,\n      avgComprehension,\n      strugglingCount,\n      inactiveCount,\n      totalHandsRaised,\n      totalMessages,\n      classEnergy: avgEngagement > 75 ? 'high' : avgEngagement > 50 ? 'moderate' : 'low'\n    }\n  }, [students])\n\n  // Filter and sort students\n  const filteredStudents = useMemo(() => {\n    let result = [...students]\n    \n    switch (filter) {\n      case 'struggling':\n        result = result.filter(s => s.engagementScore < 50 || s.comprehensionEstimate < 50)\n        break\n      case 'inactive':\n        result = result.filter(s => s.attentionLevel === 'away' || s.attentionLevel === 'inactive')\n        break\n      case 'engaged':\n        result = result.filter(s => s.engagementScore >= 75 && s.attentionLevel === 'focused')\n        break\n    }\n    \n    result.sort((a, b) => {\n      switch (sortBy) {\n        case 'engagement':\n          return b.engagementScore - a.engagementScore\n        case 'attention':\n          const attentionOrder = { focused: 3, distracted: 2, away: 1, inactive: 0 }\n          return attentionOrder[b.attentionLevel] - attentionOrder[a.attentionLevel]\n        case 'comprehension':\n          return b.comprehensionEstimate - a.comprehensionEstimate\n        default:\n          return 0\n      }\n    })\n    \n    return result\n  }, [students, filter, sortBy])\n\n  const getAttentionColor = (level: string) => {\n    switch (level) {\n      case 'focused': return 'bg-green-500'\n      case 'distracted': return 'bg-yellow-500'\n      case 'away': return 'bg-orange-500'\n      case 'inactive': return 'bg-gray-500'\n      default: return 'bg-gray-500'\n    }\n  }\n\n  const getEngagementColor = (score: number) => {\n    if (score >= 75) return 'text-green-500'\n    if (score >= 50) return 'text-yellow-500'\n    return 'text-red-500'\n  }\n\n  const getProgressColor = (score: number) => {\n    if (score >= 75) return 'bg-green-500'\n    if (score >= 50) return 'bg-yellow-500'\n    return 'bg-red-500'\n  }\n\n  if (!isOpen) {\n    return (\n      <TooltipProvider>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={onToggle}\n              className=\"fixed right-4 top-20 z-40 bg-slate-800 border-slate-700 hover:bg-slate-700\"\n            >\n              <Activity className=\"h-4 w-4 text-blue-400\" />\n              {aggregateStats && aggregateStats.strugglingCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center\">\n                  {aggregateStats.strugglingCount}\n                </span>\n              )}\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>Open Engagement Dashboard</p>\n          </TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n    )\n  }\n\n  return (\n    <div className=\"w-[400px] bg-slate-900 border-l border-slate-700 flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-slate-700 bg-slate-800\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"bg-blue-600 p-2 rounded-lg\">\n              <Activity className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">Live Engagement</h2>\n              <p className=\"text-xs text-slate-400\">Real-time student analytics</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => setExpanded(!expanded)} className=\"h-8 w-8\">\n              {expanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronUp className=\"h-4 w-4\" />}\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={onToggle} className=\"h-8 w-8\">\n              <Minimize2 className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {aggregateStats && expanded && (\n          <div className=\"grid grid-cols-3 gap-2\">\n            <Card className=\"bg-slate-700 border-slate-600\">\n              <CardContent className=\"p-2 text-center\">\n                <p className={cn(\"text-xl font-bold\", getEngagementColor(aggregateStats.avgEngagement))}>\n                  {aggregateStats.avgEngagement}%\n                </p>\n                <p className=\"text-[10px] text-slate-400\">Avg Engagement</p>\n              </CardContent>\n            </Card>\n            <Card className=\"bg-slate-700 border-slate-600\">\n              <CardContent className=\"p-2 text-center\">\n                <p className=\"text-xl font-bold text-blue-400\">{aggregateStats.totalHandsRaised}</p>\n                <p className=\"text-[10px] text-slate-400\">Hands Raised</p>\n              </CardContent>\n            </Card>\n            <Card className=\"bg-slate-700 border-slate-600\">\n              <CardContent className=\"p-2 text-center\">\n                <p className={cn(\"text-xl font-bold\", aggregateStats.strugglingCount > 0 ? 'text-red-400' : 'text-green-400')}>\n                  {aggregateStats.strugglingCount}\n                </p>\n                <p className=\"text-[10px] text-slate-400\">Need Help</p>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n\n      {/* Filters */}\n      <div className=\"px-4 py-2 border-b border-slate-700 bg-slate-800/50\">\n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-3 w-3 text-slate-400\" />\n          <div className=\"flex gap-1 flex-wrap\">\n            {(['all', 'struggling', 'inactive', 'engaged'] as const).map((f) => (\n              <button\n                key={f}\n                onClick={() => setFilter(f)}\n                className={cn(\n                  \"px-2 py-0.5 text-[10px] rounded-full transition-colors capitalize\",\n                  filter === f \n                    ? 'bg-blue-600 text-white' \n                    : 'bg-slate-700 text-slate-400 hover:bg-slate-600'\n                )}\n              >\n                {f}\n              </button>\n            ))}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2 mt-2\">\n          <span className=\"text-[10px] text-slate-500\">Sort:</span>\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value as any)}\n            className=\"text-[10px] bg-slate-700 border border-slate-600 rounded px-2 py-0.5 text-slate-300\"\n          >\n            <option value=\"engagement\">Engagement</option>\n            <option value=\"attention\">Attention</option>\n            <option value=\"comprehension\">Comprehension</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Student List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-4 space-y-3\">\n          {filteredStudents.length === 0 ? (\n            <p className=\"text-center text-slate-500 text-sm py-8\">\n              No students match the current filter\n            </p>\n          ) : (\n            filteredStudents.map((student) => (\n              <StudentEngagementCard\n                key={student.studentId}\n                student={student}\n                onSelect={() => onSelectStudent?.(student.studentId)}\n                onNudge={() => onSendNudge?.(student.studentId)}\n                onInviteToBreakout={() => onInviteToBreakout?.(student.studentId)}\n                getAttentionColor={getAttentionColor}\n                getEngagementColor={getEngagementColor}\n                getProgressColor={getProgressColor}\n              />\n            ))\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Footer Stats */}\n      <div className=\"p-3 border-t border-slate-700 bg-slate-800\">\n        <div className=\"flex items-center justify-between text-xs text-slate-400\">\n          <span>{students.length} students</span>\n          <span>{aggregateStats?.totalMessages || 0} messages</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Individual Student Card\ninterface StudentEngagementCardProps {\n  student: EngagementMetrics\n  onSelect: () => void\n  onNudge: () => void\n  onInviteToBreakout: () => void\n  getAttentionColor: (level: string) => string\n  getEngagementColor: (score: number) => string\n  getProgressColor: (score: number) => string\n}\n\nfunction StudentEngagementCard({\n  student,\n  onSelect,\n  onNudge,\n  onInviteToBreakout,\n  getAttentionColor,\n  getEngagementColor,\n  getProgressColor\n}: StudentEngagementCardProps) {\n  const [showActions, setShowActions] = useState(false)\n\n  const isStruggling = student.engagementScore < 50 || student.comprehensionEstimate < 50\n  const isInactive = student.attentionLevel === 'away' || student.attentionLevel === 'inactive'\n\n  return (\n    <Card \n      className={cn(\n        \"bg-slate-800 border-slate-700 cursor-pointer transition-all hover:border-slate-600\",\n        isStruggling && \"border-red-800/50 bg-red-900/10\",\n        isInactive && \"opacity-70\"\n      )}\n      onClick={onSelect}\n      onMouseEnter={() => setShowActions(true)}\n      onMouseLeave={() => setShowActions(false)}\n    >\n      <CardContent className=\"p-3\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"relative\">\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-medium\">\n                {student.name.charAt(0).toUpperCase()}\n              </div>\n              <div className={cn(\"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-slate-800\", getAttentionColor(student.attentionLevel))} />\n            </div>\n            <div>\n              <p className=\"text-sm font-medium text-white\">{student.name}</p>\n              <div className=\"flex items-center gap-1 text-[10px] text-slate-400\">\n                <span className=\"capitalize\">{student.attentionLevel}</span>\n                <span></span>\n                <span>{student.timeInSession}m in session</span>\n              </div>\n            </div>\n          </div>\n          {student.raisedHand && (\n            <Badge className=\"bg-yellow-600 text-[10px] px-1.5 py-0\">\n              <Hand className=\"h-3 w-3 mr-0.5\" />\n              Raised\n            </Badge>\n          )}\n        </div>\n\n        {/* Metrics */}\n        <div className=\"space-y-2\">\n          {/* Engagement Score */}\n          <div>\n            <div className=\"flex items-center justify-between text-[10px] mb-1\">\n              <span className=\"text-slate-400 flex items-center gap-1\">\n                <Activity className=\"h-3 w-3\" />\n                Engagement\n              </span>\n              <span className={cn(\"font-medium\", getEngagementColor(student.engagementScore))}>\n                {student.engagementScore}%\n              </span>\n            </div>\n            <Progress value={student.engagementScore} className=\"h-1 bg-slate-700\">\n              <div className={cn(\"h-full transition-all\", getProgressColor(student.engagementScore))} \n                   style={{ width: `${student.engagementScore}%` }} />\n            </Progress>\n          </div>\n\n          {/* Comprehension Score */}\n          <div>\n            <div className=\"flex items-center justify-between text-[10px] mb-1\">\n              <span className=\"text-slate-400 flex items-center gap-1\">\n                <Brain className=\"h-3 w-3\" />\n                Comprehension\n              </span>\n              <span className={cn(\"font-medium\", getEngagementColor(student.comprehensionEstimate))}>\n                {student.comprehensionEstimate}%\n              </span>\n            </div>\n            <Progress value={student.comprehensionEstimate} className=\"h-1 bg-slate-700\">\n              <div className={cn(\"h-full transition-all\", getProgressColor(student.comprehensionEstimate))} \n                   style={{ width: `${student.comprehensionEstimate}%` }} />\n            </Progress>\n          </div>\n\n          {/* Activity Stats */}\n          <div className=\"flex items-center justify-between pt-1\">\n            <div className=\"flex items-center gap-3\">\n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <div className=\"flex items-center gap-1 text-[10px] text-slate-400\">\n                      <MessageCircle className=\"h-3 w-3\" />\n                      {student.chatMessages}\n                    </div>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>Chat messages</p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n              \n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <div className=\"flex items-center gap-1 text-[10px] text-slate-400\">\n                      <Eye className=\"h-3 w-3\" />\n                      {student.participationCount}\n                    </div>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>Recent interactions (5m)</p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n\n              {student.struggleIndicators > 0 && (\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <div className=\"flex items-center gap-1 text-[10px] text-red-400\">\n                        <AlertTriangle className=\"h-3 w-3\" />\n                        {student.struggleIndicators}\n                      </div>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                      <p>Struggle indicators detected</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              )}\n            </div>\n\n            {/* Last Activity */}\n            <span className=\"text-[10px] text-slate-500\">\n              {formatLastActivity(student.lastActivity)}\n            </span>\n          </div>\n        </div>\n\n        {/* Quick Actions */}\n        {showActions && (isStruggling || student.raisedHand) && (\n          <div className=\"flex gap-2 mt-3 pt-2 border-t border-slate-700\">\n            {isStruggling && (\n              <Button \n                size=\"sm\" \n                variant=\"outline\" \n                className=\"flex-1 h-7 text-[10px] border-yellow-600/50 text-yellow-400 hover:bg-yellow-600/10\"\n                onClick={(e) => { e.stopPropagation(); onNudge(); }}\n              >\n                Send Nudge\n              </Button>\n            )}\n            <Button \n              size=\"sm\" \n              variant=\"outline\" \n              className=\"flex-1 h-7 text-[10px] border-blue-600/50 text-blue-400 hover:bg-blue-600/10\"\n              onClick={(e) => { e.stopPropagation(); onInviteToBreakout(); }}\n            >\n              1:1 Session\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\nfunction formatLastActivity(date: Date): string {\n  const seconds = Math.floor((Date.now() - new Date(date).getTime()) / 1000)\n  if (seconds < 60) return 'Just now'\n  if (seconds < 120) return '1m ago'\n  if (seconds < 300) return `${Math.floor(seconds / 60)}m ago`\n  return '>5m ago'\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10248, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/engagement/index.ts"],"sourcesContent":["export { EngagementDashboard, type EngagementMetrics } from './engagement-dashboard'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 10258, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/command.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAEA;AAEA;AACA;AAEA;AACA;AARA;;;;;;;AAUA,MAAM,wBAAU,6NAAgB,CAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sMAAgB;QACf,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,6FACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,QAAQ,WAAW,GAAG,sMAAgB,CAAC,WAAW;AAIlD,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE,GAAG,OAA2B;IAC/D,qBACE,+OAAC,iMAAM;QAAE,GAAG,KAAK;kBACf,cAAA,+OAAC,wMAAa;YAAC,WAAU;sBACvB,cAAA,+OAAC;gBAAQ,WAAU;0BAChB;;;;;;;;;;;;;;;;AAKX;MAVM;AAYN,MAAM,6BAAe,6NAAgB,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC;QAAI,WAAU;QAAkC,sBAAmB;;0BAClE,+OAAC,qQAAM;gBAAC,WAAU;;;;;;0BAClB,+OAAC,sMAAgB,CAAC,KAAK;gBACrB,KAAK;gBACL,WAAW,IAAA,8KAAE,EACX,0JACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAKf,aAAa,WAAW,GAAG,sMAAgB,CAAC,KAAK,CAAC,WAAW;AAE7D,MAAM,4BAAc,6NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sMAAgB,CAAC,IAAI;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,mDAAmD;QAChE,GAAG,KAAK;;;;;;;AAIb,YAAY,WAAW,GAAG,sMAAgB,CAAC,IAAI,CAAC,WAAW;AAE3D,MAAM,6BAAe,6NAAgB,OAGnC,CAAC,OAAO,oBACR,+OAAC,sMAAgB,CAAC,KAAK;QACrB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;;;;;;;AAIb,aAAa,WAAW,GAAG,sMAAgB,CAAC,KAAK,CAAC,WAAW;AAE7D,MAAM,6BAAe,6NAAgB,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sMAAgB,CAAC,KAAK;QACrB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,0NACA;QAED,GAAG,KAAK;;;;;;;AAIb,aAAa,WAAW,GAAG,sMAAgB,CAAC,KAAK,CAAC,WAAW;AAE7D,MAAM,iCAAmB,6NAAgB,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sMAAgB,CAAC,SAAS;QACzB,KAAK;QACL,WAAW,IAAA,8KAAE,EAAC,wBAAwB;QACrC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,sMAAgB,CAAC,SAAS,CAAC,WAAW;AAErE,MAAM,4BAAc,6NAAgB,QAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,sMAAgB,CAAC,IAAI;QACpB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,iOACA;QAED,GAAG,KAAK;;;;;;;AAIb,YAAY,WAAW,GAAG,sMAAgB,CAAC,IAAI,CAAC,WAAW;AAE3D,MAAM,kBAAkB,CAAC,EACvB,SAAS,EACT,GAAG,OACmC;IACtC,qBACE,+OAAC;QACC,WAAW,IAAA,8KAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGf;OAbM;AAcN,gBAAgB,WAAW,GAAG"}},
    {"offset": {"line": 10446, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/command-palette/command-palette.tsx"],"sourcesContent":["/**\n * Quick Action Command Palette\n * Universal search and action launcher with keyboard shortcuts\n */\n\n'use client'\n\nimport { useState, useEffect, useCallback, useMemo } from 'react'\nimport { CommandDialog, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList, CommandSeparator } from '@/components/ui/command'\nimport { DialogTitle } from '@/components/ui/dialog'\nimport { Badge } from '@/components/ui/badge'\nimport { \n  Search,\n  Mic,\n  MicOff,\n  Video,\n  VideoOff,\n  MonitorUp,\n  MonitorOff,\n  MessageSquare,\n  Users,\n  LayoutGrid,\n  Presentation,\n  Hand,\n  Bell,\n  Settings,\n  LogOut,\n  Plus,\n  Clock,\n  Play,\n  Pause,\n  SkipForward,\n  RotateCcw,\n  BarChart3,\n  Send,\n  Sparkles,\n  FileText,\n  HelpCircle,\n  Keyboard,\n  Volume2,\n  VolumeX\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nexport interface CommandAction {\n  id: string\n  title: string\n  description?: string\n  icon: React.ReactNode\n  shortcut?: string\n  keywords?: string[]\n  category: 'media' | 'classroom' | 'engagement' | 'session' | 'navigation' | 'system'\n  action: () => void\n  disabled?: boolean\n  badge?: string\n}\n\ninterface CommandPaletteProps {\n  isOpen: boolean\n  onClose: () => void\n  actions: CommandAction[]\n  recentActions?: string[]  // IDs of recently used actions\n  placeholder?: string\n}\n\nexport function CommandPalette({ \n  isOpen, \n  onClose, \n  actions,\n  recentActions = [],\n  placeholder = \"Type a command or search...\"\n}: CommandPaletteProps) {\n  const [search, setSearch] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null)\n\n  // Reset search when opened\n  useEffect(() => {\n    if (isOpen) {\n      setSearch('')\n      setSelectedCategory(null)\n    }\n  }, [isOpen])\n\n  // Filter actions based on search and category\n  const filteredActions = useMemo(() => {\n    let result = actions\n\n    if (selectedCategory) {\n      result = result.filter(a => a.category === selectedCategory)\n    }\n\n    if (search) {\n      const searchLower = search.toLowerCase()\n      result = result.filter(action => {\n        const titleMatch = action.title.toLowerCase().includes(searchLower)\n        const descMatch = action.description?.toLowerCase().includes(searchLower)\n        const keywordMatch = action.keywords?.some(k => k.toLowerCase().includes(searchLower))\n        return titleMatch || descMatch || keywordMatch\n      })\n    }\n\n    return result\n  }, [actions, search, selectedCategory])\n\n  // Group actions by category\n  const groupedActions = useMemo(() => {\n    const groups: Record<string, CommandAction[]> = {}\n    \n    filteredActions.forEach(action => {\n      if (!groups[action.category]) {\n        groups[action.category] = []\n      }\n      groups[action.category].push(action)\n    })\n\n    return groups\n  }, [filteredActions])\n\n  // Get recent actions\n  const recentCommandActions = useMemo(() => {\n    return recentActions\n      .map(id => actions.find(a => a.id === id))\n      .filter(Boolean) as CommandAction[]\n  }, [recentActions, actions])\n\n  const categoryLabels: Record<string, { label: string; icon: React.ReactNode }> = {\n    media: { label: 'Media Controls', icon: <Mic className=\"h-4 w-4\" /> },\n    classroom: { label: 'Classroom Tools', icon: <LayoutGrid className=\"h-4 w-4\" /> },\n    engagement: { label: 'Student Engagement', icon: <Users className=\"h-4 w-4\" /> },\n    session: { label: 'Session Management', icon: <Clock className=\"h-4 w-4\" /> },\n    navigation: { label: 'Navigation', icon: <Presentation className=\"h-4 w-4\" /> },\n    system: { label: 'System', icon: <Settings className=\"h-4 w-4\" /> },\n  }\n\n  const handleAction = useCallback((action: CommandAction) => {\n    action.action()\n    onClose()\n  }, [onClose])\n\n  return (\n    <CommandDialog open={isOpen} onOpenChange={onClose}>\n      <DialogTitle className=\"sr-only\">Command Palette</DialogTitle>\n      <CommandInput \n        placeholder={placeholder} \n        value={search}\n        onValueChange={setSearch}\n      />\n      <CommandList>\n        <CommandEmpty className=\"py-6 text-center text-sm text-slate-500\">\n          <div className=\"flex flex-col items-center gap-2\">\n            <Search className=\"h-8 w-8 text-slate-400\" />\n            <p>No commands found</p>\n            <p className=\"text-xs text-slate-400\">Try a different search term</p>\n          </div>\n        </CommandEmpty>\n\n        {/* Recent Actions */}\n        {recentCommandActions.length > 0 && !search && !selectedCategory && (\n          <CommandGroup heading=\"Recently Used\">\n            {recentCommandActions.slice(0, 5).map(action => (\n              <CommandItem\n                key={action.id}\n                onSelect={() => handleAction(action)}\n                disabled={action.disabled}\n                className={cn(action.disabled && \"opacity-50 cursor-not-allowed\")}\n              >\n                <div className=\"flex items-center gap-3 flex-1\">\n                  <div className=\"text-slate-400\">{action.icon}</div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{action.title}</span>\n                      {action.badge && (\n                        <Badge variant=\"secondary\" className=\"text-[10px] px-1 py-0\">\n                          {action.badge}\n                        </Badge>\n                      )}\n                    </div>\n                    {action.description && (\n                      <p className=\"text-xs text-slate-500\">{action.description}</p>\n                    )}\n                  </div>\n                  {action.shortcut && (\n                    <kbd className=\"text-xs bg-slate-700 px-2 py-0.5 rounded text-slate-300\">\n                      {action.shortcut}\n                    </kbd>\n                  )}\n                </div>\n              </CommandItem>\n            ))}\n          </CommandGroup>\n        )}\n\n        {/* Category Filters (when no search) */}\n        {!search && !selectedCategory && (\n          <CommandGroup heading=\"Categories\">\n            <div className=\"flex flex-wrap gap-2 p-2\">\n              {Object.entries(categoryLabels).map(([key, { label, icon }]) => {\n                const count = actions.filter(a => a.category === key).length\n                return (\n                  <button\n                    key={key}\n                    onClick={() => setSelectedCategory(key)}\n                    className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm transition-colors\"\n                  >\n                    {icon}\n                    <span className=\"capitalize\">{label}</span>\n                    <span className=\"text-xs text-slate-500\">({count})</span>\n                  </button>\n                )\n              })}\n            </div>\n          </CommandGroup>\n        )}\n\n        {/* Selected Category Header */}\n        {selectedCategory && (\n          <CommandGroup>\n            <div className=\"flex items-center justify-between px-2 py-1\">\n              <button\n                onClick={() => setSelectedCategory(null)}\n                className=\"text-xs text-blue-400 hover:text-blue-300\"\n              >\n                 Back to all\n              </button>\n              <span className=\"text-xs text-slate-500\">\n                {categoryLabels[selectedCategory]?.label}\n              </span>\n            </div>\n          </CommandGroup>\n        )}\n\n        <CommandSeparator />\n\n        {/* Grouped Actions */}\n        {Object.entries(groupedActions).map(([category, categoryActions]) => (\n          <CommandGroup key={category} heading={categoryLabels[category]?.label || category}>\n            {categoryActions.map(action => (\n              <CommandItem\n                key={action.id}\n                onSelect={() => handleAction(action)}\n                disabled={action.disabled}\n                className={cn(action.disabled && \"opacity-50 cursor-not-allowed\")}\n              >\n                <div className=\"flex items-center gap-3 flex-1\">\n                  <div className=\"text-slate-400\">{action.icon}</div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{action.title}</span>\n                      {action.badge && (\n                        <Badge variant=\"secondary\" className=\"text-[10px] px-1 py-0\">\n                          {action.badge}\n                        </Badge>\n                      )}\n                    </div>\n                    {action.description && (\n                      <p className=\"text-xs text-slate-500\">{action.description}</p>\n                    )}\n                  </div>\n                  {action.shortcut && (\n                    <kbd className=\"text-xs bg-slate-700 px-2 py-0.5 rounded text-slate-300\">\n                      {action.shortcut}\n                    </kbd>\n                  )}\n                </div>\n              </CommandItem>\n            ))}\n          </CommandGroup>\n        ))}\n\n        <CommandSeparator />\n\n        {/* Help Footer */}\n        <div className=\"px-3 py-2 text-xs text-slate-500 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"bg-slate-700 px-1.5 rounded\"></kbd>\n              <span>Navigate</span>\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"bg-slate-700 px-1.5 rounded\"></kbd>\n              <span>Select</span>\n            </span>\n            <span className=\"flex items-center gap-1\">\n              <kbd className=\"bg-slate-700 px-1.5 rounded\">esc</kbd>\n              <span>Close</span>\n            </span>\n          </div>\n          <span>{filteredActions.length} commands</span>\n        </div>\n      </CommandList>\n    </CommandDialog>\n  )\n}\n\n// Hook for keyboard shortcut\nexport function useCommandPalette(shortcut: string = 'cmd+k') {\n  const [isOpen, setIsOpen] = useState(false)\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0\n      const modifier = isMac ? e.metaKey : e.ctrlKey\n      \n      if (modifier && e.key.toLowerCase() === 'k') {\n        e.preventDefault()\n        setIsOpen(prev => !prev)\n      }\n      \n      if (e.key === 'Escape') {\n        setIsOpen(false)\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [])\n\n  return { isOpen, setIsOpen }\n}\n\n// Predefined action creators for common classroom actions\nexport function createClassroomActions(options: {\n  isAudioEnabled: boolean\n  isVideoEnabled: boolean\n  isScreenSharing: boolean\n  isRecording: boolean\n  studentsRaisingHands: number\n  onToggleAudio: () => void\n  onToggleVideo: () => void\n  onToggleScreenShare: () => void\n  onToggleRecording: () => void\n  onMuteAll: () => void\n  onCallAttention: () => void\n  onOpenWhiteboard: () => void\n  onOpenPolls?: () => void\n  onOpenBreakouts: () => void\n  onOpenEngagement: () => void\n  onSendBroadcast: () => void\n  onLeaveClass: () => void\n}): CommandAction[] {\n  return [\n    // Media Controls\n    {\n      id: 'toggle-audio',\n      title: options.isAudioEnabled ? 'Mute Microphone' : 'Unmute Microphone',\n      description: options.isAudioEnabled ? 'Turn off your microphone' : 'Turn on your microphone',\n      icon: options.isAudioEnabled ? <Mic className=\"h-4 w-4\" /> : <MicOff className=\"h-4 w-4\" />,\n      shortcut: 'M',\n      keywords: ['mute', 'unmute', 'mic', 'audio'],\n      category: 'media',\n      action: options.onToggleAudio\n    },\n    {\n      id: 'toggle-video',\n      title: options.isVideoEnabled ? 'Stop Video' : 'Start Video',\n      description: options.isVideoEnabled ? 'Turn off your camera' : 'Turn on your camera',\n      icon: options.isVideoEnabled ? <Video className=\"h-4 w-4\" /> : <VideoOff className=\"h-4 w-4\" />,\n      shortcut: 'V',\n      keywords: ['camera', 'video', 'on', 'off'],\n      category: 'media',\n      action: options.onToggleVideo\n    },\n    {\n      id: 'toggle-screen',\n      title: options.isScreenSharing ? 'Stop Screen Share' : 'Share Screen',\n      description: options.isScreenSharing ? 'Stop sharing your screen' : 'Share your screen with students',\n      icon: options.isScreenSharing ? <MonitorOff className=\"h-4 w-4\" /> : <MonitorUp className=\"h-4 w-4\" />,\n      shortcut: 'S',\n      keywords: ['screen', 'share', 'present', 'display'],\n      category: 'media',\n      action: options.onToggleScreenShare\n    },\n    \n    // Classroom Tools\n    {\n      id: 'open-whiteboard',\n      title: 'Open Whiteboard',\n      description: 'Launch the collaborative whiteboard',\n      icon: <LayoutGrid className=\"h-4 w-4\" />,\n      keywords: ['whiteboard', 'draw', 'sketch', 'board'],\n      category: 'classroom',\n      action: options.onOpenWhiteboard\n    },\n    ...(options.onOpenPolls ? [{\n      id: 'open-polls' as const,\n      title: 'Create Quick Poll',\n      description: 'Launch an interactive poll for students',\n      icon: <BarChart3 className=\"h-4 w-4\" />,\n      shortcut: 'P' as const,\n      keywords: ['poll', 'quiz', 'vote', 'question'],\n      category: 'classroom' as const,\n      action: options.onOpenPolls!,\n      badge: 'New' as const\n    }] : []),\n    {\n      id: 'open-breakouts',\n      title: 'Manage Breakout Rooms',\n      description: 'Create and manage breakout sessions',\n      icon: <Users className=\"h-4 w-4\" />,\n      keywords: ['breakout', 'groups', 'rooms', 'small group'],\n      category: 'classroom',\n      action: options.onOpenBreakouts\n    },\n\n    // Engagement\n    {\n      id: 'view-engagement',\n      title: 'View Engagement Dashboard',\n      description: 'See real-time student engagement analytics',\n      icon: <BarChart3 className=\"h-4 w-4\" />,\n      keywords: ['engagement', 'analytics', 'students', 'attention'],\n      category: 'engagement',\n      action: options.onOpenEngagement\n    },\n    {\n      id: 'call-attention',\n      title: 'Call for Attention',\n      description: 'Send notification to all students to focus',\n      icon: <Bell className=\"h-4 w-4\" />,\n      keywords: ['attention', 'focus', 'alert', 'notify'],\n      category: 'engagement',\n      action: options.onCallAttention\n    },\n    {\n      id: 'mute-all',\n      title: 'Mute All Students',\n      description: 'Mute all student microphones',\n      icon: <VolumeX className=\"h-4 w-4\" />,\n      keywords: ['mute', 'all', 'students', 'quiet'],\n      category: 'engagement',\n      action: options.onMuteAll\n    },\n    {\n      id: 'send-broadcast',\n      title: 'Send Broadcast Message',\n      description: 'Send a message to all students',\n      icon: <Send className=\"h-4 w-4\" />,\n      shortcut: 'B',\n      keywords: ['broadcast', 'message', 'announce', 'chat'],\n      category: 'engagement',\n      action: options.onSendBroadcast\n    },\n\n    // Session Management\n    {\n      id: 'toggle-recording',\n      title: options.isRecording ? 'Stop Recording' : 'Start Recording',\n      description: options.isRecording ? 'Stop session recording' : 'Record this session',\n      icon: options.isRecording ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />,\n      keywords: ['record', 'save', 'capture', 'video'],\n      category: 'session',\n      action: options.onToggleRecording\n    },\n\n    // System\n    {\n      id: 'leave-class',\n      title: 'Leave Classroom',\n      description: 'Exit the current session',\n      icon: <LogOut className=\"h-4 w-4\" />,\n      shortcut: 'Q',\n      keywords: ['leave', 'exit', 'quit', 'end'],\n      category: 'system',\n      action: options.onLeaveClass\n    },\n  ]\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11392, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/class/command-palette/index.ts"],"sourcesContent":["export { \n  CommandPalette, \n  useCommandPalette, \n  createClassroomActions,\n  type CommandAction \n} from './command-palette'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 11402, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,6NAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,+OAAC,iOAAsB;QACrB,KAAK;QACL,WAAW,IAAA,8KAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,+OAAC,sOAA2B;YAC1B,WAAW,IAAA,8KAAE,EAAC;sBAEd,cAAA,+OAAC,kQAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,iOAAsB,CAAC,WAAW"}}]
}