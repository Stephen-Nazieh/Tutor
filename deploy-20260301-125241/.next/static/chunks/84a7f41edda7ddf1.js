;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f362c94e-47ae-0e65-0f02-ab21666fd45d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,828977,e=>{"use strict";let t=(0,e.i(879191).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],828977)},365253,e=>{"use strict";var t=e.i(251474),s=e.i(624842);function i({children:e}){return(0,t.jsx)(s.SessionProvider,{basePath:"/api/auth",refetchOnWindowFocus:!1,refetchWhenOffline:!1,children:e})}e.s(["AuthProvider",()=>i])},520283,e=>{"use strict";var t=e.i(251474),s=e.i(800592),i=e.i(160448);function a(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let r=a(0,i.useTranslations);a(0,i.useFormatter);var n=e.i(828977),l=e.i(870368);let o="pwa-install-dismissed";function d(){let e=r("pwa"),a=(0,i.useLocale)(),[d,c]=(0,s.useState)(!1),[h,m]=(0,s.useState)(null),[u,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"}).then(e=>{e.update().catch(()=>{}),e.waiting?.postMessage({type:"SKIP-WAITING"})}).catch(()=>{});let e=()=>{navigator.serviceWorker?.controller?.postMessage({type:"OFFLINE_SYNC_REQUEST"})};if(window.addEventListener("online",e),window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return()=>window.removeEventListener("online",e);try{let e=localStorage.getItem(o);if(e){let{timestamp:t}=JSON.parse(e);if(Date.now()-t<6048e5)return}}catch{}let t=e=>{e.preventDefault(),m(e),p(!0),setTimeout(()=>c(!0),3e3)},s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,i=/^((?!CriOS|FxiOS|EdgiOS).)*Safari/.test(navigator.userAgent);return s&&i&&setTimeout(()=>{c(!0),p(!1)},5e3),window.addEventListener("beforeinstallprompt",t),()=>{window.removeEventListener("online",e),window.removeEventListener("beforeinstallprompt",t)}},[]);let x=async()=>{if(h)try{await h.prompt();let{outcome:e}=await h.userChoice;"accepted"===e&&c(!1),m(null)}catch(e){console.error("[PWA] Install prompt error:",e)}c(!1)},g=()=>{c(!1);try{localStorage.setItem(o,JSON.stringify({timestamp:Date.now(),locale:a}))}catch{}};return d?(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50 max-w-sm rounded-lg border border-gray-200 bg-white p-4 shadow-lg dark:border-gray-700 dark:bg-gray-800",role:"dialog","aria-labelledby":"pwa-install-title","aria-describedby":"pwa-install-desc",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-purple-600",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h3",{id:"pwa-install-title",className:"text-sm font-semibold text-gray-900 dark:text-white",children:e("install_title")}),(0,t.jsx)("p",{id:"pwa-install-desc",className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:e(u?"install_description":"ios_install_description")}),u?(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)(l.Button,{size:"sm",onClick:x,className:"bg-blue-600 hover:bg-blue-700",children:e("install_button")}),(0,t.jsx)(l.Button,{size:"sm",variant:"outline",onClick:g,children:e("install_dismiss")})]}):(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("details",{className:"group",children:[(0,t.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:e("ios_how_to_install")}),(0,t.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("p",{children:["1. ",e("ios_step_1")]}),(0,t.jsxs)("p",{children:["2. ",e("ios_step_2")]}),(0,t.jsxs)("p",{children:["3. ",e("ios_step_3")]})]})]}),(0,t.jsx)(l.Button,{size:"sm",variant:"outline",className:"mt-2",onClick:g,children:e("install_got_it")})]})]}),(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 shrink-0",onClick:g,"aria-label":e("install_dismiss"),children:(0,t.jsx)(n.X,{className:"h-4 w-4"})})]})}):null}e.s(["PWAInstallPrompt",()=>d],520283)}]);

//# debugId=f362c94e-47ae-0e65-0f02-ab21666fd45d
//# sourceMappingURL=e8d3cd61a4013122.js.map