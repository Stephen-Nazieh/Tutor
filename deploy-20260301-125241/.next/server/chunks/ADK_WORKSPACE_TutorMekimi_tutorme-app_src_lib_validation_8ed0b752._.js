;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f8e9d227-70ff-0a62-1661-afa5111959b6")}catch(e){}}();
module.exports=[444339,e=>{"use strict";var t=e.i(841195);let a=t.z.object({childEmail:t.z.string().email().optional(),childUniqueId:t.z.string().min(8,"Unique ID must be at least 8 characters").optional(),verificationMethod:t.z.enum(["email","id","both"]).optional(),name:t.z.string().min(1).max(100).optional(),grade:t.z.string().optional(),subjects:t.z.array(t.z.string()).optional()}).refine(e=>!!e.childEmail||!!e.childUniqueId,{message:"For security, you must provide either child email or unique ID to link students properly"});t.z.object({children:t.z.array(a).min(1,"You must link at least one child for parent registration"),parentEmail:t.z.string().email("Valid parent email is required"),tosAccepted:t.z.literal(!0,{message:"You must accept the Terms of Service"})});let n=t.z.object({education:t.z.string().max(500,"Education must be less than 500 characters").optional(),experience:t.z.string().max(50,"Experience must be less than 50 characters").optional(),subjects:t.z.array(t.z.string()).min(1,"Please select at least one subject"),gradeLevels:t.z.array(t.z.string()).optional(),hourlyRate:t.z.number().min(0).max(1e4).optional()});t.z.object({phoneNumber:t.z.string().regex(/^\+?[\d\s\-\(\)]{10,}$/,"Valid phone number required").optional(),bio:t.z.string().max(2e3,"Bio must be less than 2000 characters").optional(),timezone:t.z.string().default("Asia/Shanghai"),preferredLanguage:t.z.enum(["zh-CN","en"]).default("zh-CN")}),t.z.object({name:t.z.string().min(1,"Child name is required"),email:t.z.union([t.z.string().email(),t.z.literal("")]).optional(),grade:t.z.string().optional(),subjects:t.z.array(t.z.string()).optional()});let i=t.z.object({name:t.z.string().min(1,"Contact name is required"),relationship:t.z.string().min(1,"Relationship is required"),phone:t.z.string().regex(/^\+?[\d\s\-\(\)]{10,}$/,"Valid phone number required")}),o=t.z.object({email:t.z.boolean().optional(),sms:t.z.boolean().optional(),app:t.z.boolean().optional(),weeklyReports:t.z.boolean().optional(),paymentNotifications:t.z.boolean().optional(),emergencyContacts:t.z.boolean().optional()});t.z.object({phoneNumber:t.z.string().regex(/^\+?[\d\s\-\(\)]{10,}$/,"Valid phone number required"),relationship:t.z.enum(["parent","guardian","step-parent","grandparent","other"]),timezone:t.z.string().default("Asia/Shanghai"),preferredLanguage:t.z.enum(["zh-CN","en"]).default("zh-CN")});let r=t.z.object({name:t.z.string(),relationship:t.z.string(),phone:t.z.string()}),s=t.z.object({students:t.z.array(a).optional().default([]),emergencyContacts:t.z.array(r).max(3).optional(),notificationPreferences:o.optional()}),l=t.z.array(t.z.enum(["user_management","content_management","financial_access","system_settings","analytics"]));t.z.object({phoneNumber:t.z.string().regex(/^\+?[\d\s\-\(\)]{10,}$/,"Valid phone number required"),organizationName:t.z.string().min(2,"Organization name must be at least 2 characters").max(200),organizationSlug:t.z.string().regex(/^[a-z0-9\-]+$/,"Slug: lowercase letters, numbers, hyphens only").optional(),adminLevel:t.z.enum(["super","standard","limited"]),jobTitle:t.z.string().max(100).optional(),department:t.z.string().max(100).optional()}),t.z.object({permissions:l.min(1,"Select at least one permission group"),mfaEnabled:t.z.boolean().default(!0),ipWhitelist:t.z.array(t.z.string().regex(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,"Invalid IP address")).optional(),timezone:t.z.string().default("Asia/Shanghai"),preferredLanguage:t.z.enum(["zh-CN","en"]).default("zh-CN")});let d=t.z.object({email:t.z.string().email("Please enter a valid email address"),password:t.z.string().min(8,"Password must be at least 8 characters").max(128,"Password too long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:t.z.string(),firstName:t.z.string().min(1,"First name is required").max(50),lastName:t.z.string().min(1,"Last name is required").max(50),phoneNumber:t.z.string().regex(/^\+?[\d\s\-\(\)]{10,}$/,"Valid phone number required"),organizationName:t.z.string().min(2,"Organization name is required").max(200),organizationSlug:t.z.string().max(100).optional(),adminLevel:t.z.enum(["super","standard","limited"]),jobTitle:t.z.string().max(100).optional(),department:t.z.string().max(100).optional(),permissions:l.min(1,"Select at least one permission group"),mfaEnabled:t.z.boolean().default(!0),tosAccepted:t.z.boolean().refine(e=>!0===e,{message:"You must accept the Terms of Service"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});t.z.object({email:t.z.string().email("Please enter a valid email address"),password:t.z.string().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:t.z.string(),phoneNumber:t.z.string().regex(/^\+?[\d\s\-\(\)]{10,}$/,"Valid phone number required"),relationship:t.z.enum(["parent","guardian","step-parent","grandparent","other"]),timezone:t.z.string().default("Asia/Shanghai"),preferredLanguage:t.z.enum(["zh-CN","en"]).default("zh-CN"),students:t.z.array(a).optional().default([]),emergencyContacts:t.z.array(i).max(3).optional().default([]),notificationPreferences:o.optional().default({}),tosAccepted:t.z.boolean().refine(e=>!0===e,{message:"You must accept the Terms of Service"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),e.s(["adminRegistrationSchema",0,d,"parentAdditionalDataSchema",0,s,"tutorAdditionalDataSchema",0,n],444339)},994780,e=>e.a(async(t,a)=>{try{var n=e.i(841195),i=e.i(384030),o=e.i(444339),r=t([i]);[i]=r.then?(await r)():r;let l=n.z.object({email:n.z.string().email("Invalid email address"),password:n.z.string().min(8,"Password must be at least 8 characters").max(128,"Password too long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),name:n.z.string().min(2,"Name must be at least 2 characters").max(100),role:n.z.enum(["STUDENT","TUTOR","ADMIN","PARENT"]),tosAccepted:n.z.boolean().optional().default(!0),profileData:n.z.record(n.z.string(),n.z.unknown()).optional(),additionalData:n.z.record(n.z.string(),n.z.unknown()).optional()}).superRefine((e,t)=>{if("TUTOR"===e.role)if(e.additionalData){let a=o.tutorAdditionalDataSchema.safeParse(e.additionalData);a.success||a.error.issues.forEach(e=>{t.addIssue({code:n.z.ZodIssueCode.custom,message:e.message,path:e.path})})}else t.addIssue({code:n.z.ZodIssueCode.custom,message:"additionalData is required for tutor registration",path:["additionalData"]});if("PARENT"===e.role)if(e.profileData||t.addIssue({code:n.z.ZodIssueCode.custom,message:"profileData is required for parent registration",path:["profileData"]}),e.additionalData){if(e.additionalData){let a=o.parentAdditionalDataSchema.safeParse(e.additionalData);a.success||a.error.issues.forEach(e=>{t.addIssue({code:n.z.ZodIssueCode.custom,message:e.message,path:e.path})})}}else t.addIssue({code:n.z.ZodIssueCode.custom,message:"additionalData is required for parent registration",path:["additionalData"]})});n.z.object({email:n.z.string().email("Invalid email address"),password:n.z.string().min(1,"Password is required")}),n.z.object({name:n.z.string().min(2).max(100).optional(),bio:n.z.string().max(1e3).optional(),avatarUrl:n.z.string().url().optional(),gradeLevel:n.z.string().optional(),hourlyRate:n.z.number().min(0).max(1e4).optional(),subjects:n.z.array(n.z.string()).optional()});let d=n.z.object({title:n.z.string().min(3,"Title must be at least 3 characters").max(100).optional(),subject:n.z.string().min(2,"Subject must be at least 2 characters").max(50),description:n.z.string().max(1e3).optional(),gradeLevel:n.z.string().optional(),curriculumId:n.z.string().cuid("Invalid curriculum ID").optional(),scheduledAt:n.z.string().datetime("Invalid scheduled date/time").optional(),maxStudents:n.z.number().int().min(1).max(500).default(50),durationMinutes:n.z.number().int().min(15).max(480).default(120),enableRecording:n.z.boolean().default(!0)});n.z.object({sessionId:n.z.string().cuid("Invalid session ID"),userId:n.z.string().cuid("Invalid user ID")}),n.z.object({parentSessionId:n.z.string().cuid("Invalid session ID"),studentIds:n.z.array(n.z.string().cuid()).min(1,"At least one student required"),durationMinutes:n.z.number().int().min(5).max(120).default(30),topic:n.z.string().max(200).optional()}),n.z.object({sessionId:n.z.string().cuid("Invalid session ID"),content:n.z.string().min(1,"Message cannot be empty").max(5e3),type:n.z.enum(["text","system","hint"]).default("text")}),n.z.object({subject:n.z.string().min(1,"Subject is required"),topics:n.z.array(n.z.string()).min(1,"At least one topic required"),difficulty:n.z.enum(["beginner","intermediate","advanced"]),count:n.z.number().int().min(1).max(20).default(5),taskTypes:n.z.array(n.z.enum(["multiple_choice","short_answer","long_answer","coding","diagram"])).min(1),distributionMode:n.z.enum(["uniform","personalized","clustered","peer_group"]).default("uniform"),studentIds:n.z.array(n.z.string().cuid()).optional(),roomId:n.z.string().optional()}),n.z.object({taskId:n.z.string().cuid("Invalid task ID"),studentId:n.z.string().cuid("Invalid student ID"),answers:n.z.record(n.z.string(),n.z.unknown()),timeSpent:n.z.number().int().min(0),questionIndex:n.z.number().int().min(0).optional()});let m=n.z.object({title:n.z.string().min(1).max(200),description:n.z.string().max(2e3).optional(),subject:n.z.string().min(1).optional(),gradeLevel:n.z.string().max(50).optional(),difficulty:n.z.enum(["beginner","intermediate","advanced"]).optional(),estimatedHours:n.z.number().min(0).max(1e3).optional(),isLiveOnline:n.z.boolean().optional()});n.z.object({curriculumId:n.z.string().cuid("Invalid curriculum ID"),studentId:n.z.string().cuid("Invalid student ID")});let u=n.z.object({dayOfWeek:n.z.string().min(1),startTime:n.z.string().regex(/^\d{1,2}:\d{2}$/,"Use HH:MM format"),durationMinutes:n.z.number().int().min(5).max(480)}),c=n.z.object({name:n.z.string().min(1).max(200).optional().nullable(),description:n.z.string().max(2e3).optional().nullable(),gradeLevel:n.z.string().max(50).optional().nullable(),difficulty:n.z.enum(["beginner","intermediate","advanced"]).optional().nullable(),languageOfInstruction:n.z.string().min(1).max(20).optional().nullable(),price:n.z.number().min(0).optional().nullable(),currency:n.z.string().length(3).optional().nullable(),curriculumSource:n.z.enum(["PLATFORM","UPLOADED"]).optional().nullable(),outlineSource:n.z.enum(["SELF","AI"]).optional().nullable(),schedule:n.z.array(u).optional().nullable(),isLiveOnline:n.z.boolean().optional().nullable(),isPublished:n.z.boolean().optional().nullable()});async function s(e,t){try{let a=await e.json();return t.parse(a)}catch(e){if(e instanceof n.z.ZodError){let t=e.issues.map(e=>`${e.path.join(".")}: ${e.message}`).join(", ");throw new i.ValidationError(t)}throw e}}n.z.object({lessonId:n.z.string().cuid("Invalid lesson ID"),studentId:n.z.string().cuid("Invalid student ID"),progressPercentage:n.z.number().min(0).max(100),completed:n.z.boolean().default(!1)}),n.z.object({studentId:n.z.string().cuid("Invalid student ID"),subjectCode:n.z.string().min(1,"Subject code required"),gradeLevel:n.z.string().optional()}),n.z.object({studentId:n.z.string().cuid("Invalid student ID"),query:n.z.string().min(1,"Query cannot be empty").max(2e3),context:n.z.object({lessonId:n.z.string().cuid().optional(),currentTopic:n.z.string().optional(),previousMessages:n.z.array(n.z.unknown()).optional()}).optional()}),n.z.object({studentId:n.z.string().cuid("Invalid student ID"),submissionId:n.z.string().cuid("Invalid submission ID"),type:n.z.enum(["task_feedback","progress_report","encouragement","correction"]),priority:n.z.enum(["low","medium","high"]).default("medium"),context:n.z.object({taskId:n.z.string().cuid().optional(),subject:n.z.string().optional(),recentPerformance:n.z.number().min(0).max(100).optional(),strengths:n.z.array(n.z.string()).optional(),weaknesses:n.z.array(n.z.string()).optional(),specificIssue:n.z.string().optional()}).optional()}),n.z.object({workflowId:n.z.string().cuid("Invalid workflow ID"),decision:n.z.enum(["approve","reject","modify"]),modifications:n.z.object({modifiedScore:n.z.number().min(0).max(100).optional(),modifiedComments:n.z.string().max(2e3).optional(),addedNotes:n.z.string().max(1e3).optional()}).optional()}),n.z.object({studentId:n.z.string().cuid("Invalid student ID").optional(),classId:n.z.string().cuid("Invalid class ID").optional(),startDate:n.z.coerce.date().optional(),endDate:n.z.coerce.date().optional(),metrics:n.z.array(n.z.enum(["completion","performance","engagement","attendance"])).optional()}),n.z.object({page:n.z.coerce.number().int().min(1).default(1),limit:n.z.coerce.number().int().min(1).max(100).default(20),sortBy:n.z.string().optional(),sortOrder:n.z.enum(["asc","desc"]).default("desc")}),n.z.object({search:n.z.string().max(200).optional(),status:n.z.string().optional(),subject:n.z.string().optional(),gradeLevel:n.z.string().optional(),dateFrom:n.z.coerce.date().optional(),dateTo:n.z.coerce.date().optional()}),e.s(["CreateCurriculumSchema",0,m,"CreateRoomSchema",0,d,"RegisterUserSchema",0,l,"UpdateCourseSettingsSchema",0,c,"validateRequest",()=>s]),a()}catch(e){a(e)}},!1)];

//# debugId=f8e9d227-70ff-0a62-1661-afa5111959b6
//# sourceMappingURL=ADK_WORKSPACE_TutorMekimi_tutorme-app_src_lib_validation_8ed0b752._.js.map