{
  "version": 3,
  "sources": [],
  "debugId": "c752668b-7427-50fb-e41a-b5be7d9e9357",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/reports/page.tsx","../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/reports/engagement-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { Badge } from '@/components/ui/badge'\nimport { Input } from '@/components/ui/input'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { \n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport { \n  TrendingUp, \n  Users, \n  BookOpen, \n  Award,\n  ArrowLeft,\n  Download,\n  BarChart3,\n  Loader2,\n  Search,\n  ChevronRight,\n  GraduationCap,\n  AlertTriangle,\n  Calendar,\n  Activity,\n  FileText,\n  FileSpreadsheet,\n  FileIcon,\n} from 'lucide-react'\nimport Link from 'next/link'\nimport { toast } from 'sonner'\nimport { ScoreDistributionChart } from '@/components/analytics/score-distribution-chart'\nimport { EngagementDashboard } from '@/components/reports/engagement-dashboard'\n\ninterface ClassOption {\n  id: string\n  title: string\n  subject: string\n  type: 'class' | 'course'\n}\n\ninterface ClassReportData {\n  classInfo: {\n    id: string\n    totalStudents: number\n    averageScore: number\n  }\n  charts: {\n    scoreDistribution: { range: string; count: number }[]\n    clusterDistribution: { name: string; count: number; color: string }[]\n  }\n  topStudents: {\n    id: string\n    name: string\n    averageScore: number\n    completionRate: number\n  }[]\n  studentsNeedingAttention: {\n    id: string\n    name: string\n    averageScore: number\n    issue: string\n  }[]\n  summary: {\n    totalStudents: number\n    averageScore: number\n    advancedCount: number\n    intermediateCount: number\n    strugglingCount: number\n  }\n}\n\ninterface Student {\n  id: string\n  name: string\n  email?: string\n  averageScore: number\n  completionRate: number\n  cluster: string\n}\n\nexport default function TutorReports() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState('overview')\n  const [classData, setClassData] = useState<ClassReportData | null>(null)\n  const [students, setStudents] = useState<Student[]>([])\n  const [searchQuery, setSearchQuery] = useState('')\n  const [isExporting, setIsExporting] = useState(false)\n  \n  // Class selector state\n  const [availableClasses, setAvailableClasses] = useState<ClassOption[]>([])\n  const [selectedClassId, setSelectedClassId] = useState<string>('')\n\n  // Fetch available classes on mount\n  useEffect(() => {\n    const fetchClasses = async () => {\n      try {\n        const [classesRes, coursesRes] = await Promise.all([\n          fetch('/api/tutor/classes', { credentials: 'include' }),\n          fetch('/api/tutor/courses', { credentials: 'include' }),\n        ])\n        \n        let options: ClassOption[] = []\n        \n        if (classesRes.ok) {\n          const classesData = await classesRes.json()\n          const classOptions = (classesData.classes || []).map((c: any) => ({\n            id: c.id,\n            title: c.title,\n            subject: c.subject,\n            type: 'class' as const,\n          }))\n          options = [...options, ...classOptions]\n        }\n        \n        if (coursesRes.ok) {\n          const coursesData = await coursesRes.json()\n          const courseOptions = (coursesData.courses || []).map((c: any) => ({\n            id: c.id,\n            title: c.name,\n            subject: c.subject,\n            type: 'course' as const,\n          }))\n          options = [...options, ...courseOptions]\n        }\n        \n        setAvailableClasses(options)\n        \n        // Select first class by default if available\n        if (options.length > 0 && !selectedClassId) {\n          setSelectedClassId(options[0].id)\n        }\n      } catch (error) {\n        console.error('Error fetching classes:', error)\n        toast.error('Failed to load classes')\n      }\n    }\n    \n    fetchClasses()\n  }, [])\n\n  // Fetch report data when selected class changes\n  useEffect(() => {\n    if (!selectedClassId) {\n      setIsLoading(false)\n      return\n    }\n    \n    const fetchReportData = async () => {\n      setIsLoading(true)\n      try {\n        // Fetch class report\n        const reportRes = await fetch(`/api/reports/class/${selectedClassId}`, {\n          credentials: 'include',\n        })\n        \n        if (reportRes.ok) {\n          const reportData = await reportRes.json()\n          if (reportData.success) {\n            setClassData(reportData.data)\n          }\n        }\n        \n        // Fetch students list\n        const analyticsRes = await fetch(`/api/analytics/class/${selectedClassId}`, {\n          credentials: 'include',\n        })\n        \n        if (analyticsRes.ok) {\n          const analyticsData = await analyticsRes.json()\n          if (analyticsData.success && analyticsData.data?.students) {\n            setStudents(analyticsData.data.students.map((s: any) => ({\n              id: s.id,\n              name: s.name || `Student ${s.id.slice(-6)}`,\n              averageScore: s.averageScore || 0,\n              completionRate: s.completionRate || 0,\n              cluster: s.cluster || 'intermediate'\n            })))\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching report data:', error)\n        toast.error('Failed to load report data')\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    \n    fetchReportData()\n  }, [selectedClassId])\n\n  const handleExportReport = async (format: 'csv' | 'excel' | 'pdf') => {\n    if (!selectedClassId) {\n      toast.info('Please select a class first')\n      return\n    }\n    \n    setIsExporting(true)\n    try {\n      const res = await fetch(`/api/reports/class/${selectedClassId}/export?format=${format}`, {\n        credentials: 'include',\n      })\n      \n      if (res.ok) {\n        const blob = await res.blob()\n        const url = window.URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        \n        const extension = format === 'excel' ? 'xlsx' : format\n        a.download = `class-report-${selectedClassId}.${extension}`\n        a.click()\n        window.URL.revokeObjectURL(url)\n        \n        toast.success(`${format.toUpperCase()} report exported successfully`)\n      } else {\n        const error = await res.json()\n        toast.error(error.error || 'Failed to export report')\n      }\n    } catch (error) {\n      console.error('Export error:', error)\n      toast.error('Error exporting report')\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  const handleStudentClick = (studentId: string) => {\n    router.push(`/tutor/reports/${studentId}`)\n  }\n\n  const filteredStudents = students.filter(s => \n    s.name.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  const getClusterBadgeColor = (cluster: string) => {\n    switch (cluster) {\n      case 'advanced': return 'bg-green-100 text-green-700 hover:bg-green-100'\n      case 'intermediate': return 'bg-yellow-100 text-yellow-700 hover:bg-yellow-100'\n      case 'struggling': return 'bg-red-100 text-red-700 hover:bg-red-100'\n      default: return 'bg-gray-100 text-gray-700 hover:bg-gray-100'\n    }\n  }\n\n  const getClusterLabel = (cluster: string) => {\n    switch (cluster) {\n      case 'advanced': return '优秀'\n      case 'intermediate': return '中等'\n      case 'struggling': return '需帮助'\n      default: return cluster\n    }\n  }\n\n  // Mock data for initial load when no API data\n  const mockClassData: ClassReportData = {\n    classInfo: {\n      id: selectedClassId || 'default',\n      totalStudents: students.length || 0,\n      averageScore: students.length \n        ? Math.round(students.reduce((acc, s) => acc + s.averageScore, 0) / students.length)\n        : 0\n    },\n    charts: {\n      scoreDistribution: [\n        { range: '0-59', count: students.filter(s => s.averageScore < 60).length },\n        { range: '60-69', count: students.filter(s => s.averageScore >= 60 && s.averageScore < 70).length },\n        { range: '70-79', count: students.filter(s => s.averageScore >= 70 && s.averageScore < 80).length },\n        { range: '80-89', count: students.filter(s => s.averageScore >= 80 && s.averageScore < 90).length },\n        { range: '90-100', count: students.filter(s => s.averageScore >= 90).length },\n      ],\n      clusterDistribution: [\n        { name: '优秀', count: students.filter(s => s.cluster === 'advanced').length, color: '#22c55e' },\n        { name: '中等', count: students.filter(s => s.cluster === 'intermediate').length, color: '#eab308' },\n        { name: '需帮助', count: students.filter(s => s.cluster === 'struggling').length, color: '#ef4444' },\n      ]\n    },\n    topStudents: students\n      .sort((a, b) => b.averageScore - a.averageScore)\n      .slice(0, 5)\n      .map(s => ({\n        id: s.id,\n        name: s.name,\n        averageScore: s.averageScore,\n        completionRate: s.completionRate\n      })),\n    studentsNeedingAttention: students\n      .filter(s => s.averageScore < 60 || s.cluster === 'struggling')\n      .slice(0, 5)\n      .map(s => ({\n        id: s.id,\n        name: s.name,\n        averageScore: s.averageScore,\n        issue: s.averageScore < 60 ? 'Low scores' : 'Needs support'\n      })),\n    summary: {\n      totalStudents: students.length,\n      averageScore: students.length \n        ? Math.round(students.reduce((acc, s) => acc + s.averageScore, 0) / students.length)\n        : 0,\n      advancedCount: students.filter(s => s.cluster === 'advanced').length,\n      intermediateCount: students.filter(s => s.cluster === 'intermediate').length,\n      strugglingCount: students.filter(s => s.cluster === 'struggling').length,\n    }\n  }\n\n  const displayData = classData || mockClassData\n  const selectedClassInfo = availableClasses.find(c => c.id === selectedClassId)\n\n  if (isLoading && availableClasses.length === 0) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/tutor/dashboard\">\n              <Button variant=\"ghost\" size=\"icon\">\n                <ArrowLeft className=\"h-5 w-5\" />\n              </Button>\n            </Link>\n            <div>\n              <h1 className=\"text-2xl font-bold\">Reports & Analytics</h1>\n              <p className=\"text-gray-500\">Track student performance and class progress</p>\n            </div>\n          </div>\n          \n          {/* Export Dropdown */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"outline\" className=\"gap-2\" disabled={isExporting || !selectedClassId}>\n                {isExporting ? (\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                ) : (\n                  <Download className=\"h-4 w-4\" />\n                )}\n                Export Report\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              <DropdownMenuItem onClick={() => handleExportReport('pdf')} className=\"gap-2\">\n                <FileText className=\"h-4 w-4 text-red-500\" />\n                Export as PDF\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => handleExportReport('excel')} className=\"gap-2\">\n                <FileSpreadsheet className=\"h-4 w-4 text-green-500\" />\n                Export as Excel\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => handleExportReport('csv')} className=\"gap-2\">\n                <FileIcon className=\"h-4 w-4 text-blue-500\" />\n                Export as CSV\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {/* Class Selector */}\n        <Card className=\"mb-6\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center\">\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"h-5 w-5 text-gray-500\" />\n                <span className=\"font-medium\">Select Class/Course:</span>\n              </div>\n              <Select value={selectedClassId} onValueChange={setSelectedClassId}>\n                <SelectTrigger className=\"w-full sm:w-[400px]\">\n                  <SelectValue placeholder=\"Choose a class or course...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {availableClasses.length === 0 ? (\n                    <SelectItem value=\"no-classes\" disabled>No classes available</SelectItem>\n                  ) : (\n                    availableClasses.map((cls) => (\n                      <SelectItem key={cls.id} value={cls.id}>\n                        <div className=\"flex items-center gap-2\">\n                          <Badge variant={cls.type === 'class' ? 'default' : 'secondary'} className=\"text-xs\">\n                            {cls.type === 'class' ? 'Class' : 'Course'}\n                          </Badge>\n                          <span>{cls.title}</span>\n                          <span className=\"text-gray-500 text-sm\">({cls.subject})</span>\n                        </div>\n                      </SelectItem>\n                    ))\n                  )}\n                </SelectContent>\n              </Select>\n              {selectedClassInfo && (\n                <Badge variant=\"outline\" className=\"text-sm\">\n                  {selectedClassInfo.type === 'class' ? 'Live Session' : 'Online Course'}\n                </Badge>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n          </div>\n        ) : !selectedClassId ? (\n          <Card className=\"py-12\">\n            <CardContent className=\"text-center\">\n              <GraduationCap className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-700 mb-2\">No Class Selected</h3>\n              <p className=\"text-gray-500\">\n                Please select a class or course from the dropdown above to view reports.\n              </p>\n            </CardContent>\n          </Card>\n        ) : students.length === 0 ? (\n          <Card className=\"py-12\">\n            <CardContent className=\"text-center\">\n              <Users className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-700 mb-2\">No Students Yet</h3>\n              <p className=\"text-gray-500\">\n                This {selectedClassInfo?.type || 'class'} doesn&apos;t have any enrolled students yet.\n              </p>\n            </CardContent>\n          </Card>\n        ) : (\n          <Tabs value={activeTab} onValueChange={setActiveTab}>\n            <TabsList className=\"mb-6\">\n              <TabsTrigger value=\"overview\" className=\"gap-2\">\n                <BarChart3 className=\"h-4 w-4\" />\n                Class Overview\n              </TabsTrigger>\n              <TabsTrigger value=\"students\" className=\"gap-2\">\n                <Users className=\"h-4 w-4\" />\n                All Students\n              </TabsTrigger>\n              <TabsTrigger value=\"engagement\" className=\"gap-2\">\n                <Activity className=\"h-4 w-4\" />\n                Engagement\n              </TabsTrigger>\n            </TabsList>\n\n            {/* Class Overview Tab */}\n            <TabsContent value=\"overview\" className=\"space-y-6\">\n              {/* Key Metrics */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">Total Students</p>\n                        <p className=\"text-3xl font-bold\">{displayData.summary.totalStudents}</p>\n                      </div>\n                      <Users className=\"h-8 w-8 text-blue-500\" />\n                    </div>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">Class Average</p>\n                        <p className=\"text-3xl font-bold\">{displayData.summary.averageScore}%</p>\n                      </div>\n                      <TrendingUp className=\"h-8 w-8 text-green-500\" />\n                    </div>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">Advanced</p>\n                        <p className=\"text-3xl font-bold text-green-600\">\n                          {displayData.summary.advancedCount}\n                        </p>\n                      </div>\n                      <Award className=\"h-8 w-8 text-green-500\" />\n                    </div>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">Need Help</p>\n                        <p className=\"text-3xl font-bold text-red-600\">\n                          {displayData.summary.strugglingCount}\n                        </p>\n                      </div>\n                      <AlertTriangle className=\"h-8 w-8 text-red-500\" />\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n\n              {/* Charts Row */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Score Distribution</CardTitle>\n                    <CardDescription>Distribution of student scores across the class</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <ScoreDistributionChart data={displayData.charts.scoreDistribution} />\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Performance Clusters</CardTitle>\n                    <CardDescription>Student grouping by performance level</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-4\">\n                      {displayData.charts.clusterDistribution.map((cluster) => (\n                        <div key={cluster.name} className=\"flex items-center gap-4\">\n                          <div \n                            className=\"w-4 h-4 rounded-full\" \n                            style={{ backgroundColor: cluster.color }}\n                          />\n                          <span className=\"flex-1\">{cluster.name}</span>\n                          <span className=\"font-bold\">{cluster.count}</span>\n                          <span className=\"text-sm text-gray-500\">\n                            {displayData.summary.totalStudents > 0 \n                              ? Math.round((cluster.count / displayData.summary.totalStudents) * 100)\n                              : 0}%\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n\n              {/* Student Lists */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Top Performers</CardTitle>\n                    <CardDescription>Students with highest scores</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {displayData.topStudents.length > 0 ? displayData.topStudents.map((student, index) => (\n                        <div \n                          key={student.id} \n                          className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors\"\n                          onClick={() => handleStudentClick(student.id)}\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <span className=\"text-lg font-bold text-gray-400 w-6\">#{index + 1}</span>\n                            <Avatar className=\"h-10 w-10\">\n                              <AvatarFallback className=\"bg-blue-100 text-blue-700\">\n                                {student.name.split(' ').map(n => n[0]).join('')}\n                              </AvatarFallback>\n                            </Avatar>\n                            <div>\n                              <span className=\"font-medium block\">{student.name}</span>\n                              <span className=\"text-xs text-gray-500\">\n                                {student.completionRate}% completion\n                              </span>\n                            </div>\n                          </div>\n                          <Badge variant=\"default\" className=\"bg-green-100 text-green-700\">\n                            {student.averageScore}%\n                          </Badge>\n                        </div>\n                      )) : (\n                        <p className=\"text-center text-gray-500 py-4\">No students yet</p>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Needs Attention</CardTitle>\n                    <CardDescription>Students who may need additional support</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {displayData.studentsNeedingAttention.length > 0 ? displayData.studentsNeedingAttention.map((student) => (\n                        <div \n                          key={student.id} \n                          className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors\"\n                          onClick={() => handleStudentClick(student.id)}\n                        >\n                          <div>\n                            <p className=\"font-medium\">{student.name}</p>\n                            <p className=\"text-sm text-gray-500\">{student.issue}</p>\n                          </div>\n                          <Badge variant=\"destructive\" className=\"bg-red-100 text-red-700 hover:bg-red-100\">\n                            {student.averageScore}%\n                          </Badge>\n                        </div>\n                      )) : (\n                        <p className=\"text-center text-gray-500 py-4\">All students are doing well!</p>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </TabsContent>\n\n            {/* All Students Tab */}\n            <TabsContent value=\"students\" className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <CardTitle>All Students</CardTitle>\n                      <CardDescription>Click on a student to view detailed report</CardDescription>\n                    </div>\n                    <div className=\"relative w-64\">\n                      <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                      <Input\n                        placeholder=\"Search students...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        className=\"pl-10\"\n                      />\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-2\">\n                    {filteredStudents.length > 0 ? filteredStudents.map((student) => (\n                      <div \n                        key={student.id}\n                        className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors\"\n                        onClick={() => handleStudentClick(student.id)}\n                      >\n                        <div className=\"flex items-center gap-4\">\n                          <Avatar className=\"h-12 w-12\">\n                            <AvatarFallback className=\"bg-blue-100 text-blue-700 text-lg\">\n                              {student.name.split(' ').map(n => n[0]).join('')}\n                            </AvatarFallback>\n                          </Avatar>\n                          <div>\n                            <p className=\"font-medium text-lg\">{student.name}</p>\n                            <div className=\"flex items-center gap-2 mt-1\">\n                              <Badge className={getClusterBadgeColor(student.cluster)}>\n                                {getClusterLabel(student.cluster)}\n                              </Badge>\n                              <span className=\"text-sm text-gray-500\">\n                                {student.completionRate}% completion\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-6\">\n                          <div className=\"text-right\">\n                            <p className=\"text-2xl font-bold\">{student.averageScore}%</p>\n                            <p className=\"text-sm text-gray-500\">Average Score</p>\n                          </div>\n                          <ChevronRight className=\"h-5 w-5 text-gray-400\" />\n                        </div>\n                      </div>\n                    )) : (\n                      <div className=\"text-center py-12\">\n                        <GraduationCap className=\"h-12 w-12 text-gray-300 mx-auto mb-3\" />\n                        <p className=\"text-gray-500\">\n                          {searchQuery ? 'No students match your search' : 'No students enrolled yet'}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            {/* Engagement Tab */}\n            <TabsContent value=\"engagement\" className=\"space-y-6\">\n              <EngagementDashboard classId={selectedClassId} />\n            </TabsContent>\n          </Tabs>\n        )}\n      </div>\n    </div>\n  )\n}\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Progress } from '@/components/ui/progress'\nimport {\n  Activity,\n  Users,\n  Calendar,\n  Clock,\n  TrendingUp,\n  TrendingDown,\n  AlertTriangle,\n  Download,\n  Loader2,\n} from 'lucide-react'\nimport { toast } from 'sonner'\n\ninterface EngagementMetrics {\n  classId: string\n  period: { start: string; end: string }\n  overallEngagement: number\n  metrics: {\n    attendance: number\n    participation: number\n    assignmentCompletion: number\n    quizParticipation: number\n    discussionActivity: number\n  }\n  dailyTrend: { date: string; engagement: number; attendance: number }[]\n  hourlyPattern: { hour: number; activity: number }[]\n  studentsAtRisk: string[]\n}\n\ninterface EngagementDashboardProps {\n  classId: string\n}\n\nexport function EngagementDashboard({ classId }: EngagementDashboardProps) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [engagement, setEngagement] = useState<EngagementMetrics | null>(null)\n  const [period, setPeriod] = useState(30)\n\n  useEffect(() => {\n    if (!classId) return\n\n    fetchEngagementData()\n  }, [classId, period])\n\n  const fetchEngagementData = async () => {\n    setIsLoading(true)\n    try {\n      const res = await fetch(`/api/analytics/engagement/${classId}?days=${period}`, {\n        credentials: 'include',\n      })\n\n      if (res.ok) {\n        const data = await res.json()\n        if (data.success) {\n          setEngagement(data.data)\n        }\n      } else {\n        toast.error('Failed to load engagement data')\n      }\n    } catch (error) {\n      console.error('Error fetching engagement:', error)\n      toast.error('Error loading engagement metrics')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleExportEngagement = async () => {\n    try {\n      const res = await fetch(`/api/reports/engagement/${classId}?days=${period}`, {\n        credentials: 'include',\n      })\n\n      if (res.ok) {\n        const blob = await res.blob()\n        const url = window.URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `engagement-report-${classId}.xlsx`\n        a.click()\n        window.URL.revokeObjectURL(url)\n        toast.success('Engagement report downloaded')\n      } else {\n        toast.error('Failed to export engagement report')\n      }\n    } catch (error) {\n      toast.error('Error exporting report')\n    }\n  }\n\n  const getEngagementColor = (score: number) => {\n    if (score >= 70) return 'text-green-600'\n    if (score >= 50) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  const getEngagementBgColor = (score: number) => {\n    if (score >= 70) return 'bg-green-500'\n    if (score >= 50) return 'bg-yellow-500'\n    return 'bg-red-500'\n  }\n\n  const getEngagementLabel = (score: number) => {\n    if (score >= 70) return 'High'\n    if (score >= 50) return 'Medium'\n    return 'Low'\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n      </div>\n    )\n  }\n\n  if (!engagement) {\n    return (\n      <Card className=\"py-12\">\n        <CardContent className=\"text-center\">\n          <Activity className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-700\">No Data Available</h3>\n          <p className=\"text-gray-500\">Engagement metrics could not be loaded for this class.</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div className=\"flex items-center gap-4\">\n          <select\n            value={period}\n            onChange={(e) => setPeriod(Number(e.target.value))}\n            className=\"px-3 py-2 border rounded-md text-sm\"\n          >\n            <option value={7}>Last 7 days</option>\n            <option value={14}>Last 14 days</option>\n            <option value={30}>Last 30 days</option>\n            <option value={90}>Last 90 days</option>\n          </select>\n          <span className=\"text-sm text-gray-500\">\n            {new Date(engagement.period.start).toLocaleDateString()} - {new Date(engagement.period.end).toLocaleDateString()}\n          </span>\n        </div>\n        <Button variant=\"outline\" className=\"gap-2\" onClick={handleExportEngagement}>\n          <Download className=\"h-4 w-4\" />\n          Export Excel\n        </Button>\n      </div>\n\n      {/* Overall Engagement Score */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex items-center gap-6\">\n            <div className=\"relative w-32 h-32\">\n              <svg className=\"w-32 h-32 transform -rotate-90\">\n                <circle\n                  cx=\"64\"\n                  cy=\"64\"\n                  r=\"56\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"12\"\n                  fill=\"transparent\"\n                  className=\"text-gray-200\"\n                />\n                <circle\n                  cx=\"64\"\n                  cy=\"64\"\n                  r=\"56\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"12\"\n                  fill=\"transparent\"\n                  strokeDasharray={`${(engagement.overallEngagement / 100) * 351.86} 351.86`}\n                  className={getEngagementBgColor(engagement.overallEngagement)}\n                  style={{ transition: 'stroke-dasharray 0.5s ease' }}\n                />\n              </svg>\n              <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n                <span className={`text-3xl font-bold ${getEngagementColor(engagement.overallEngagement)}`}>\n                  {engagement.overallEngagement}%\n                </span>\n                <span className=\"text-xs text-gray-500\">Overall</span>\n              </div>\n            </div>\n            <div className=\"flex-1\">\n              <h3 className=\"text-lg font-semibold\">Class Engagement Score</h3>\n              <p className=\"text-gray-500 text-sm mb-3\">\n                Based on attendance, participation, assignments, quizzes, and discussions.\n              </p>\n              <Badge className={\n                engagement.overallEngagement >= 70 ? 'bg-green-100 text-green-700' :\n                  engagement.overallEngagement >= 50 ? 'bg-yellow-100 text-yellow-700' :\n                    'bg-red-100 text-red-700'\n              }>\n                {getEngagementLabel(engagement.overallEngagement)} Engagement\n              </Badge>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Metrics Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        <MetricCard\n          title=\"Attendance Rate\"\n          value={engagement.metrics.attendance}\n          icon={Calendar}\n          description=\"Live session attendance\"\n        />\n        <MetricCard\n          title=\"Participation\"\n          value={engagement.metrics.participation}\n          icon={Users}\n          description=\"Chat & interaction activity\"\n        />\n        <MetricCard\n          title=\"Assignment Completion\"\n          value={engagement.metrics.assignmentCompletion}\n          icon={Activity}\n          description=\"Tasks & assignments submitted\"\n        />\n        <MetricCard\n          title=\"Quiz Participation\"\n          value={engagement.metrics.quizParticipation}\n          icon={TrendingUp}\n          description=\"Quizzes attempted\"\n        />\n        <MetricCard\n          title=\"Discussion Activity\"\n          value={engagement.metrics.discussionActivity}\n          icon={Clock}\n          description=\"Forum & discussion posts\"\n        />\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\n              <span className=\"font-medium\">Students At Risk</span>\n            </div>\n            <p className=\"text-2xl font-bold\">{engagement.studentsAtRisk.length}</p>\n            <p className=\"text-xs text-gray-500\">\n              Low engagement across metrics\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Daily Trend */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Daily Engagement Trend</CardTitle>\n          <CardDescription>Engagement and attendance over the selected period</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-64 flex items-end gap-1\">\n            {engagement.dailyTrend.map((day, i) => {\n              const maxEngagement = Math.max(...engagement.dailyTrend.map(d => d.engagement))\n              const height = maxEngagement > 0 ? (day.engagement / maxEngagement) * 100 : 0\n\n              return (\n                <div\n                  key={i}\n                  className=\"flex-1 flex flex-col items-center gap-1 group relative\"\n                >\n                  <div className=\"w-full bg-blue-500 rounded-t-sm opacity-80 group-hover:opacity-100 transition-opacity\"\n                    style={{ height: `${height}%`, minHeight: '4px' }}\n                  />\n                  <span className=\"text-[10px] text-gray-500 rotate-45 origin-left translate-y-2\">\n                    {new Date(day.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                  </span>\n\n                  {/* Tooltip */}\n                  <div className=\"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10\">\n                    <div>Engagement: {day.engagement}%</div>\n                    <div>Attendance: {day.attendance}%</div>\n                    <div>{new Date(day.date).toLocaleDateString()}</div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Hourly Pattern */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Activity Pattern by Hour</CardTitle>\n          <CardDescription>When students are most active during the day</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-48 flex items-end gap-1\">\n            {engagement.hourlyPattern.map((hour) => {\n              const maxActivity = Math.max(...engagement.hourlyPattern.map(h => h.activity))\n              const height = maxActivity > 0 ? (hour.activity / maxActivity) * 100 : 0\n\n              return (\n                <div\n                  key={hour.hour}\n                  className=\"flex-1 flex flex-col items-center gap-1 group relative\"\n                >\n                  <div\n                    className=\"w-full bg-purple-500 rounded-t-sm opacity-70 group-hover:opacity-100 transition-opacity\"\n                    style={{ height: `${height}%`, minHeight: '4px' }}\n                  />\n                  {hour.hour % 4 === 0 && (\n                    <span className=\"text-[10px] text-gray-500\">{hour.hour}</span>\n                  )}\n\n                  {/* Tooltip */}\n                  <div className=\"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10\">\n                    {hour.hour}:00 - Activity: {hour.activity}%\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Students At Risk */}\n      {engagement.studentsAtRisk.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\n              Students At Risk\n            </CardTitle>\n            <CardDescription>\n              Students with low engagement across multiple metrics\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {engagement.studentsAtRisk.map((student, i) => (\n                <Badge key={i} variant=\"outline\" className=\"bg-orange-50 border-orange-200\">\n                  {student}\n                </Badge>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\nfunction MetricCard({\n  title,\n  value,\n  icon: Icon,\n  description\n}: {\n  title: string\n  value: number\n  icon: any\n  description: string\n}) {\n  const getColor = (v: number) => {\n    if (v >= 70) return 'text-green-600'\n    if (v >= 50) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  return (\n    <Card>\n      <CardContent className=\"pt-6\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Icon className=\"h-5 w-5 text-gray-500\" />\n            <span className=\"font-medium text-sm\">{title}</span>\n          </div>\n          <span className={`text-xl font-bold ${getColor(value)}`}>\n            {value}%\n          </span>\n        </div>\n        <Progress value={value} className=\"h-2\" />\n        <p className=\"text-xs text-gray-500 mt-2\">{description}</p>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}