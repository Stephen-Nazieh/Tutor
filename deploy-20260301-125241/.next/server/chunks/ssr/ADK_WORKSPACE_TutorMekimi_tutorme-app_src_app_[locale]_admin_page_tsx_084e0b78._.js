;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="50449167-a71c-571d-d39a-1d47a69a7d54")}catch(e){}}();
module.exports=[702342,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(52028),e=a.i(527260),f=a.i(113098),g=a.i(88684),h=a.i(333340),i=a.i(42972),j=a.i(868606),k=a.i(147779),l=a.i(342621),m=a.i(927910),n=a.i(209347),o=a.i(139362),p=a.i(253583),q=a.i(619886),r=a.i(748151);let s=(0,a.i(293357).default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var t=a.i(620645),u=a.i(946685),v=a.i(923266);let w=[{value:"7",label:"7 Days"},{value:"30",label:"30 Days"},{value:"90",label:"90 Days"}];function x(){let[a,o]=(0,c.useState)(7),{data:q,isLoading:x}=(0,e.useAnalytics)(a),{data:C,isLoading:D}=(0,e.useAdminUsers)({limit:5}),E=q?.summary,F=q?.enterprise;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-slate-500",children:"Welcome back to the admin panel"})]}),(0,b.jsx)("div",{className:"flex flex-col gap-2 sm:items-end",children:(0,b.jsx)(j.Tabs,{value:String(a),onValueChange:a=>o(Number(a)),children:(0,b.jsx)(j.TabsList,{children:w.map(a=>(0,b.jsx)(j.TabsTrigger,{value:a.value,children:a.label},a.value))})})})]}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(z,{title:"Total Users",value:E?.totalUsers,change:E?.userGrowthRate,icon:k.Users,isLoading:x,href:"/admin/users"}),(0,b.jsx)(z,{title:"Active Users",value:E?.activeUsers,subtitle:`${Math.round((E?.activeUsers||0)/(E?.totalUsers||1)*100)}% of total`,icon:p.Activity,isLoading:x}),(0,b.jsx)(z,{title:"Total Sessions",value:E?.totalSessions,icon:m.Video,isLoading:x}),(0,b.jsx)(z,{title:"Enrollments",value:E?.totalEnrollments,icon:n.GraduationCap,isLoading:x})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-6 lg:col-span-2",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsx)(z,{title:"Feature Events",value:F?.featureUsage.reduce((a,b)=>a+b.usageCount,0)||0,icon:v.Layers,isLoading:x}),(0,b.jsx)(z,{title:"Payments Volume",value:F?Math.round(F.paymentAnalytics.paymentVolume):0,subtitle:F?`${F.paymentAnalytics.paymentSuccessRate.toFixed(1)}% success`:void 0,icon:t.Wallet,isLoading:x}),(0,b.jsx)(z,{title:"Security Alerts",value:F?.securityAnalytics.failedLogins||0,subtitle:F?`${F.securityAnalytics.criticalEvents} critical`:void 0,icon:s,isLoading:x}),(0,b.jsx)(z,{title:"Avg Actions / Active User",value:F?Math.round(F.userAnalytics.averageActionsPerActiveUser):0,icon:u.BarChart3,isLoading:x})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Feature Use Rate"}),(0,b.jsx)(f.CardDescription,{children:"Granular adoption volume by platform capability"})]}),(0,b.jsx)(f.CardContent,{children:x?(0,b.jsx)(i.Skeleton,{className:"h-48 w-full"}):(0,b.jsx)("div",{className:"space-y-3",children:(F?.featureUsage||[]).map(a=>{let c=Math.max(...(F?.featureUsage||[]).map(a=>a.usageCount),1),d=a.usageCount/c*100;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{children:a.feature}),(0,b.jsx)("span",{className:"font-medium",children:a.usageCount})]}),(0,b.jsx)("div",{className:"h-2 rounded bg-slate-100",children:(0,b.jsx)("div",{className:"h-2 rounded bg-blue-600",style:{width:`${d}%`}})})]},a.feature)})})})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"User Funnel"}),(0,b.jsx)(f.CardDescription,{children:"Registration to learning/payment conversion"})]}),(0,b.jsx)(f.CardContent,{children:x?(0,b.jsx)(i.Skeleton,{className:"h-36 w-full"}):(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsx)(y,{label:"Registrations",value:F?.funnel.registrations||0}),(0,b.jsx)(y,{label:"Active Users",value:F?.funnel.activeUsers||0}),(0,b.jsx)(y,{label:"Learning Active",value:F?.funnel.learningActiveUsers||0}),(0,b.jsx)(y,{label:"Paying Users",value:F?.funnel.payingUsers||0})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Payment Reliability"}),(0,b.jsx)(f.CardDescription,{children:"Enterprise billing health"})]}),(0,b.jsx)(f.CardContent,{children:x?(0,b.jsx)(i.Skeleton,{className:"h-36 w-full"}):(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsx)(y,{label:"Total Payments",value:F?.paymentAnalytics.totalPayments||0}),(0,b.jsx)(y,{label:"Pending",value:F?.paymentAnalytics.pendingPayments||0}),(0,b.jsx)(y,{label:"Success Rate",value:`${F?.paymentAnalytics.paymentSuccessRate.toFixed(1)||"0.0"}%`}),(0,b.jsx)(y,{label:"Refund Rate",value:`${F?.paymentAnalytics.refundRate.toFixed(1)||"0.0"}%`})]})})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Quick Actions"}),(0,b.jsx)(f.CardDescription,{children:"Common administrative tasks"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsx)(A,{href:"/admin/users",icon:k.Users,title:"Manage Users",description:"View and edit user accounts"}),(0,b.jsx)(A,{href:"/admin/feature-flags",icon:r.CheckCircle2,title:"Feature Flags",description:"Toggle platform features"}),(0,b.jsx)(A,{href:"/admin/llm",icon:l.BookOpen,title:"AI Configuration",description:"Manage LLM providers"})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"System Health"}),(0,b.jsx)(f.CardDescription,{children:"Current system status"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(B,{name:"Database",status:"healthy",latency:"12ms"}),(0,b.jsx)(B,{name:"API Server",status:"healthy",latency:"45ms"}),(0,b.jsx)(B,{name:"AI Services",status:"healthy",latency:"120ms"}),(0,b.jsx)(B,{name:"Storage",status:"healthy",latency:"28ms"})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Top Actions"}),(0,b.jsx)(f.CardDescription,{children:"Most-used platform actions in selected range"})]}),(0,b.jsx)(f.CardContent,{children:x?(0,b.jsx)(i.Skeleton,{className:"h-40 w-full"}):(0,b.jsx)("div",{className:"space-y-2",children:(F?.userAnalytics.topActions||[]).slice(0,8).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"truncate pr-3",children:a.action}),(0,b.jsx)(h.Badge,{variant:"secondary",children:a.count})]},a.action))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{children:"Recent Users"}),(0,b.jsx)(f.CardDescription,{children:"Latest user registrations"})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsx)(d.default,{href:"/admin/users",children:"View all"})})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:D?[,,,].fill(0).map((a,c)=>(0,b.jsx)(i.Skeleton,{className:"h-12 w-full"},c)):C?.users?.length===0?(0,b.jsx)("p",{className:"text-center text-sm text-slate-500 py-4",children:"No users found"}):C?.users?.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-100",children:(0,b.jsx)("span",{className:"text-xs font-medium",children:a.name?.[0]||a.email?.[0]})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name||a.email}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)(h.Badge,{variant:"ADMIN"===a.role?"default":"secondary",className:"text-xs",children:a.role})]},a.id))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"User Distribution"}),(0,b.jsx)(f.CardDescription,{children:"Users by role"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:x?(0,b.jsx)(i.Skeleton,{className:"h-32 w-full"}):q?.usersByRole?.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"ADMIN"===a.role?"#3b82f6":"TUTOR"===a.role?"#10b981":"#f59e0b"}}),(0,b.jsxs)("span",{className:"text-sm capitalize",children:[a.role.toLowerCase(),"s"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:a.count}),(0,b.jsxs)("span",{className:"text-xs text-slate-500",children:["(",Math.round(a.count/(E?.totalUsers||1)*100),"%)"]})]})]},a.role))})})]})]})]})]})]})}function y({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[(0,b.jsx)("span",{className:"text-slate-600",children:a}),(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:c})]})}function z({title:a,value:c,change:e,subtitle:g,icon:h,isLoading:j,href:k}){let l=(0,b.jsx)(f.Card,{className:k?"cursor-pointer hover:border-blue-300 transition-colors":"",children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a}),j?(0,b.jsx)(i.Skeleton,{className:"mt-2 h-8 w-24"}):(0,b.jsx)("p",{className:"mt-2 text-3xl font-bold",children:c?.toLocaleString()||0}),void 0!==e&&!j&&(0,b.jsxs)("p",{className:`mt-1 text-xs ${e>=0?"text-green-600":"text-red-600"}`,children:[e>=0?"+":"",e.toFixed(1),"% from last period"]}),g&&!j&&(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:g})]}),(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-50",children:(0,b.jsx)(h,{className:"h-6 w-6 text-blue-600"})})]})})});return k?(0,b.jsx)(d.default,{href:k,children:l}):l}function A({href:a,icon:c,title:e,description:f}){return(0,b.jsxs)(d.default,{href:a,className:"flex items-start gap-3 rounded-lg border p-4 transition-colors hover:bg-slate-50",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-50",children:(0,b.jsx)(c,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:e}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:f})]}),(0,b.jsx)(o.ArrowUpRight,{className:"h-4 w-4 text-slate-400"})]})}function B({name:a,status:c,latency:d}){return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`h-2 w-2 rounded-full ${({healthy:"text-green-600",warning:"text-yellow-600",error:"text-red-600"})[c].replace("text","bg")}`}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500",children:d}),(0,b.jsxs)(h.Badge,{variant:"healthy"===c?"default":"warning"===c?"secondary":"destructive",className:"text-xs",children:["healthy"===c&&(0,b.jsx)(r.CheckCircle2,{className:"mr-1 h-3 w-3"}),"warning"===c&&(0,b.jsx)(q.AlertCircle,{className:"mr-1 h-3 w-3"}),"error"===c&&(0,b.jsx)(q.AlertCircle,{className:"mr-1 h-3 w-3"}),c]})]})]})}a.s(["default",()=>x],702342)}];

//# debugId=50449167-a71c-571d-d39a-1d47a69a7d54
//# sourceMappingURL=ADK_WORKSPACE_TutorMekimi_tutorme-app_src_app_%5Blocale%5D_admin_page_tsx_084e0b78._.js.map