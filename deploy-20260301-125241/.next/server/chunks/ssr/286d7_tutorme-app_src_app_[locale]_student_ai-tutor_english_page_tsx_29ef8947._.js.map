{
  "version": 3,
  "sources": [],
  "debugId": "d72494ca-1795-a10d-f0fe-151f02efc8f0",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/student/ai-tutor/english/page.tsx","../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ai-tutor/curriculum-sidebar.tsx","../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/ai-tutor/ai-activity-area.tsx","../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/gamification/mission-mode-toggle.tsx","../../../../../../../ADK_WORKSPACE/TutorMekimi/tutorme-app/src/components/gamification/worlds-sidebar.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Sheet, SheetContent, SheetTrigger, SheetTitle } from '@/components/ui/sheet'\nimport { toast } from 'sonner'\nimport {\n  Send,\n  BookOpen,\n  MessageCircle,\n  AlertCircle,\n  Video,\n  FileText,\n  Lightbulb,\n  Settings,\n  Menu,\n  ChevronLeft,\n  Mic,\n  MicOff,\n  GraduationCap,\n  Target,\n  Flame,\n  Zap,\n  Globe,\n  ChevronRight\n} from 'lucide-react'\nimport dynamic from 'next/dynamic'\nimport { AIAvatarPlaceholder } from '@/components/ai-tutor/ai-avatar'\nconst AIAvatar = dynamic(() => import('@/components/ai-tutor/ai-avatar').then(m => m.AIAvatar), { ssr: false })\nimport { SkillRadar } from '../../dashboard/components/SkillRadar'\nimport { AIWhiteboard, extractWhiteboardItems } from '@/components/ai-tutor/ai-whiteboard'\nimport { TopicSidebar, ENGLISH_TOPICS } from '@/components/ai-tutor/topic-sidebar'\nimport { TutorPreferences } from '@/components/ai-tutor/tutor-preferences'\nimport { CurriculumSidebar, CurriculumMiniCard } from '@/components/ai-tutor/curriculum-sidebar'\nimport { AIActivityArea } from '@/components/ai-tutor/ai-activity-area'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { cn } from '@/lib/utils'\nimport { PersonalitySelector } from '@/components/gamification/personality-selector'\nimport { MissionModeToggle } from '@/components/gamification/mission-mode-toggle'\nimport { WorldsSidebar } from '@/components/gamification/worlds-sidebar'\nimport { ConfidenceMeter } from '@/components/gamification/confidence-meter'\nimport { XpAnimation, LevelUpAnimation } from '@/components/gamification/xp-animation'\nimport type { AvatarPersonality } from '@/lib/gamification/constants'\n\ninterface Message {\n  id: string\n  role: 'user' | 'assistant'\n  content: string\n  timestamp: string\n  hintType?: 'socratic' | 'direct' | 'encouragement' | 'clarification'\n  relevantConcepts?: string[]\n}\n\ninterface Enrollment {\n  id: string\n  subject: string\n  englishLevel: string\n  focusAreas: string[]\n  teachingAge: number\n  voiceGender: string\n  voiceAccent: string\n  avatarStyle: string\n  totalMessages: number\n  totalSessions: number\n}\n\ninterface WhiteboardItem {\n  id: string\n  type: 'text' | 'quote' | 'example' | 'tip'\n  content: string\n  timestamp: string\n}\n\nexport default function EnglishTutorPage() {\n  const router = useRouter()\n  const scrollRef = useRef<HTMLDivElement>(null)\n\n  const [messages, setMessages] = useState<Message[]>([])\n  const [input, setInput] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [isSpeaking, setIsSpeaking] = useState(false)\n  const [enrollment, setEnrollment] = useState<Enrollment | null>(null)\n  const [usage, setUsage] = useState({ remaining: 5, total: 5 })\n  const [whiteboardItems, setWhiteboardItems] = useState<WhiteboardItem[]>([])\n  const [currentTopic, setCurrentTopic] = useState<string | undefined>()\n  const [showPreferences, setShowPreferences] = useState(false)\n  const [isRecording, setIsRecording] = useState(false)\n\n  // Sidebar collapsed state\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const [whiteboardCollapsed, setWhiteboardCollapsed] = useState(false)\n  const [activityAreaCollapsed, setActivityAreaCollapsed] = useState(false)\n\n  // Curriculum state\n  const [curriculum, setCurriculum] = useState<any>(null)\n  const [currentLessonId, setCurrentLessonId] = useState<string | undefined>()\n\n  // Suggestions based on context\n  const [suggestions, setSuggestions] = useState<string[]>([])\n  const [showCurriculum, setShowCurriculum] = useState(false)\n\n  // GAMIFICATION STATE\n  const [personality, setPersonality] = useState<AvatarPersonality>('friendly_mentor')\n  const [mode, setMode] = useState<'free' | 'mission'>('free')\n  const [currentMission, setCurrentMission] = useState<any>(null)\n  const [worlds, setWorlds] = useState<any[]>([])\n  const [gamification, setGamification] = useState<any>(null)\n  const [confidenceScore, setConfidenceScore] = useState(72)\n  const [showXpAnimation, setShowXpAnimation] = useState(false)\n  const [showLevelUp, setShowLevelUp] = useState(false)\n  const [xpGain, setXpGain] = useState({ amount: 0, reason: '' })\n\n  useEffect(() => {\n    loadEnrollment()\n  }, [])\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n\n  const loadEnrollment = async () => {\n    try {\n      // Get enrollment\n      const enrollRes = await fetch('/api/ai-tutor/enrollments')\n      const enrollData = await enrollRes.json()\n      const englishEnroll = enrollData.enrollments?.find((e: any) => e.subject === 'english')\n\n      if (!englishEnroll) {\n        toast.error('Not enrolled in English tutor')\n        router.push('/student/ai-tutor/browse')\n        return\n      }\n\n      setEnrollment(englishEnroll)\n\n      // Set personality from enrollment\n      if (englishEnroll.avatarPersonality) {\n        setPersonality(englishEnroll.avatarPersonality)\n      }\n\n      // Load curriculum if assigned\n      if (englishEnroll.curriculumId) {\n        await loadCurriculum()\n      }\n\n      // Load gamification data\n      const [usageRes, gamificationRes, worldsRes] = await Promise.all([\n        fetch('/api/ai-tutor/usage'),\n        fetch('/api/gamification'),\n        fetch('/api/gamification/worlds')\n      ])\n\n      const usageData = await usageRes.json()\n      setUsage({\n        remaining: usageData.remainingMessages,\n        total: usageData.remainingMessages + (usageData.messagesSent || 0)\n      })\n\n      const gamificationData = await gamificationRes.json()\n      if (gamificationData.success) {\n        setGamification(gamificationData.data)\n        setConfidenceScore(gamificationData.data.skills.confidence)\n      }\n\n      const worldsData = await worldsRes.json()\n      if (worldsData.success) {\n        setWorlds(worldsData.data)\n      }\n\n      // Load session messages\n      const sessionRes = await fetch(`/api/ai-tutor/sessions?enrollmentId=${englishEnroll.id}`)\n      const sessionData = await sessionRes.json()\n\n      if (sessionData.sessions?.length > 0) {\n        const latestSession = sessionData.sessions[0]\n        setMessages(latestSession.messages || [])\n\n        // Extract whiteboard items from messages\n        const allItems: WhiteboardItem[] = []\n        latestSession.messages?.forEach((msg: any) => {\n          if (msg.role === 'assistant') {\n            const items = extractWhiteboardItems(msg.content)\n            allItems.push(...items)\n          }\n        })\n        setWhiteboardItems(allItems)\n      }\n    } catch (error) {\n      toast.error('Failed to load tutor session')\n    }\n  }\n\n  const sendMessage = async () => {\n    if (!input.trim() || !enrollment) return\n    if (usage.remaining === 0) {\n      toast.error('Daily message limit reached. Upgrade for more.')\n      return\n    }\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      role: 'user',\n      content: input,\n      timestamp: new Date().toISOString()\n    }\n\n    setMessages(prev => [...prev, userMessage])\n    setInput('')\n    setLoading(true)\n    setIsSpeaking(true)\n\n    try {\n      // Use the new gamified chat API\n      const res = await fetch('/api/ai-tutor/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: input,\n          personality,\n          missionId: currentMission?.id,\n          teachingMode: mode === 'mission' ? 'socratic' : 'standard',\n          chatHistory: messages.slice(-5).map(m => ({\n            role: m.role,\n            content: m.content\n          }))\n        })\n      })\n\n      const data = await res.json()\n\n      if (!res.ok) {\n        if (data.upgradeRequired) {\n          toast.error('Daily limit reached. Upgrade for unlimited messages.')\n        }\n        throw new Error(data.error)\n      }\n\n      const assistantMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        role: 'assistant',\n        content: data.data.response,\n        timestamp: new Date().toISOString(),\n        hintType: data.data.hintType,\n        relevantConcepts: data.data.relevantConcepts\n      }\n\n      setMessages(prev => [...prev, assistantMessage])\n\n      // Show XP animation if XP was earned\n      if (data.data.xpEarned) {\n        setXpGain({ amount: data.data.xpEarned, reason: 'AI Conversation' })\n        setShowXpAnimation(true)\n      }\n\n      // Show level up animation\n      if (data.data.leveledUp) {\n        setTimeout(() => setShowLevelUp(true), 2000)\n      }\n\n      // Update gamification data\n      if (data.data.gamification) {\n        setGamification(data.data.gamification)\n        setConfidenceScore(data.data.gamification.skills.confidence)\n      }\n\n      setUsage(prev => ({ ...prev, remaining: prev.remaining - 1 }))\n\n      // Extract whiteboard items from response\n      const newItems = extractWhiteboardItems(data.data.response)\n      if (newItems.length > 0) {\n        setWhiteboardItems(prev => [...prev, ...newItems])\n      }\n\n      // TODO: Text-to-speech with selected voice\n      // speakText(data.response, enrollment.voiceGender, enrollment.voiceAccent)\n    } catch (error) {\n      toast.error('Failed to get response')\n    } finally {\n      setLoading(false)\n      setIsSpeaking(false)\n    }\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      sendMessage()\n    }\n  }\n\n  const handleTopicSelect = (topicId: string) => {\n    setCurrentTopic(topicId)\n    const topic = ENGLISH_TOPICS.find(t => t.id === topicId)\n    if (topic) {\n      setInput(`I'd like to learn about ${topic.name.toLowerCase()}. ${topic.description}`)\n    }\n  }\n\n  const loadCurriculum = async () => {\n    try {\n      const res = await fetch('/api/curriculum')\n      const data = await res.json()\n      if (data.curriculum) {\n        setCurriculum(data.curriculum)\n\n        // Find current lesson\n        if (data.curriculum.modules) {\n          for (const module of data.curriculum.modules) {\n            for (const lesson of module.lessons) {\n              if (lesson.progress?.status !== 'COMPLETED') {\n                setCurrentLessonId(lesson.id)\n                return\n              }\n            }\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load curriculum:', error)\n    }\n  }\n\n  const handleSelectLesson = (lesson: any, module: any) => {\n    setCurrentLessonId(lesson.id)\n    setInput(`Let's work on \"${lesson.title}\" from ${module.title}. Can you walk me through this lesson?`)\n    setShowCurriculum(false)\n\n    // Link session to lesson if available\n    if (lesson.id) {\n      linkSessionToLesson(lesson.id)\n    }\n  }\n\n  const linkSessionToLesson = async (lessonId: string) => {\n    try {\n      // Get current session ID from recent sessions\n      const sessionRes = await fetch(`/api/ai-tutor/sessions?enrollmentId=${enrollment?.id}`)\n      const sessionData = await sessionRes.json()\n\n      if (sessionData.sessions?.length > 0) {\n        const latestSession = sessionData.sessions[0]\n        await fetch('/api/ai-tutor/lesson-context', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            sessionId: latestSession.id,\n            lessonId: lessonId\n          })\n        })\n      }\n    } catch (error) {\n      console.error('Failed to link session to lesson:', error)\n    }\n  }\n\n  const handlePreferencesUpdate = (prefs: any) => {\n    if (enrollment) {\n      setEnrollment({ ...enrollment, ...prefs })\n    }\n  }\n\n  const getMood = (hintType?: string): 'neutral' | 'happy' | 'thinking' | 'encouraging' => {\n    switch (hintType) {\n      case 'encouragement': return 'encouraging'\n      case 'socratic': return 'thinking'\n      default: return 'neutral'\n    }\n  }\n\n  if (!enrollment) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading English Tutor...</p>\n        </div>\n      </div>\n    )\n  }\n\n  const lastAssistantMessage = messages.filter(m => m.role === 'assistant').pop()\n  const currentMood = getMood(lastAssistantMessage?.hintType)\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col\">\n      {/* Header */}\n      <header className=\"bg-white border-b px-4 py-3 shrink-0\">\n        <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n          <div className=\"flex items-center gap-3\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => router.push('/student/ai-tutor')}>\n              <ChevronLeft className=\"w-5 h-5\" />\n            </Button>\n            <div>\n              <h1 className=\"font-semibold\">English AI Tutor</h1>\n              <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                <Badge variant=\"outline\">{enrollment.englishLevel}</Badge>\n                <span>Age: {enrollment.teachingAge}</span>\n                <span>{enrollment.voiceGender}</span>\n                <span>{enrollment.voiceAccent === 'us' ? 'üá∫üá∏' : enrollment.voiceAccent === 'uk' ? 'üá¨üáß' : 'üá¶üá∫'}</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {/* Gamification Stats */}\n            {gamification && (\n              <div className=\"hidden md:flex items-center gap-3\">\n                {/* Level Badge */}\n                <div className=\"flex items-center gap-1 px-2 py-1 bg-blue-50 rounded-lg\">\n                  <Zap className=\"w-4 h-4 text-blue-500\" />\n                  <span className=\"text-sm font-medium text-blue-700\">Level {gamification.level}</span>\n                </div>\n\n                {/* Streak */}\n                {gamification.streakDays > 0 && (\n                  <div className=\"flex items-center gap-1 px-2 py-1 bg-orange-50 rounded-lg\">\n                    <Flame className=\"w-4 h-4 text-orange-500\" />\n                    <span className=\"text-sm font-medium text-orange-700\">{gamification.streakDays}</span>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Personality Selector */}\n            <PersonalitySelector\n              currentPersonality={personality}\n              onSelect={setPersonality}\n            />\n\n            {/* Confidence Meter */}\n            <ConfidenceMeter\n              isListening={isRecording}\n              confidenceScore={confidenceScore}\n              className=\"hidden lg:flex\"\n            />\n\n            {/* Usage Badge */}\n            <div className=\"text-right hidden sm:block\">\n              <p className=\"text-xs text-gray-500\">\n                {usage.remaining === -1 ? 'Unlimited' : `${usage.remaining} left`}\n              </p>\n            </div>\n\n            {/* Preferences */}\n            <Sheet open={showPreferences} onOpenChange={setShowPreferences}>\n              <SheetTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\">\n                  <Settings className=\"w-5 h-5\" />\n                </Button>\n              </SheetTrigger>\n              <SheetContent>\n                <SheetTitle>Preferences</SheetTitle>\n                <div className=\"mt-4\">\n                  <TutorPreferences\n                    enrollmentId={enrollment.id}\n                    currentPreferences={{\n                      teachingAge: enrollment.teachingAge,\n                      voiceGender: enrollment.voiceGender,\n                      voiceAccent: enrollment.voiceAccent,\n                      avatarStyle: enrollment.avatarStyle\n                    }}\n                    onUpdate={handlePreferencesUpdate}\n                  />\n                </div>\n              </SheetContent>\n            </Sheet>\n          </div>\n        </div>\n      </header>\n\n      {/* Mission Mode Toggle Bar */}\n      <div className=\"max-w-7xl mx-auto w-full px-4 pb-2\">\n        <div className=\"flex items-center justify-between bg-white rounded-lg p-2 border\">\n          <MissionModeToggle\n            currentMode={mode}\n            currentMission={currentMission ? {\n              id: currentMission.id,\n              title: currentMission.title,\n              worldName: currentMission.worldName,\n              emoji: currentMission.emoji\n            } : undefined}\n            onModeChange={setMode}\n          />\n\n          {mode === 'mission' && currentMission && (\n            <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-700\">\n              <Target className=\"w-3 h-3 mr-1\" />\n              Mission Mode\n            </Badge>\n          )}\n\n          <Link href=\"/student/worlds\">\n            <Button variant=\"outline\" size=\"sm\">\n              <Globe className=\"w-4 h-4 mr-1\" />\n              Browse Worlds\n              <ChevronRight className=\"w-4 h-4 ml-1\" />\n            </Button>\n          </Link>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-4 gap-4 p-4\">\n        {/* Left Sidebar - Worlds & Missions */}\n        <div className={cn(\n          \"hidden lg:block transition-all duration-300\",\n          sidebarCollapsed ? \"lg:w-16\" : \"lg:col-span-1\"\n        )}>\n          {mode === 'mission' && worlds.length > 0 ? (\n            <WorldsSidebar\n              worlds={worlds}\n              currentWorldId={currentMission?.worldId}\n              currentMissionId={currentMission?.id}\n              onSelectMission={(worldId, mission) => {\n                setCurrentMission({\n                  ...mission,\n                  worldId,\n                  worldName: worlds.find((w: any) => w.id === worldId)?.name,\n                  emoji: worlds.find((w: any) => w.id === worldId)?.emoji\n                })\n                setInput(`I'd like to start the mission: ${mission.title}`)\n              }}\n              className=\"h-full\"\n            />\n          ) : curriculum ? (\n            <Card className=\"h-full flex flex-col\">\n              <Tabs defaultValue=\"curriculum\" className=\"flex-1 flex flex-col\">\n                <TabsList className={cn(\n                  \"grid w-full mx-4 mt-4 mb-0\",\n                  sidebarCollapsed ? \"grid-cols-1 w-10\" : \"grid-cols-2\"\n                )}>\n                  <TabsTrigger value=\"curriculum\" className={cn(sidebarCollapsed && \"px-2\")}>\n                    <GraduationCap className=\"w-4 h-4\" />\n                    {!sidebarCollapsed && <span className=\"ml-1\">Course</span>}\n                  </TabsTrigger>\n                  {!sidebarCollapsed && (\n                    <TabsTrigger value=\"topics\">Topics</TabsTrigger>\n                  )}\n                </TabsList>\n\n                <TabsContent value=\"curriculum\" className=\"flex-1 mt-0\">\n                  <CurriculumSidebar\n                    curriculum={curriculum}\n                    currentLessonId={currentLessonId}\n                    onSelectLesson={handleSelectLesson}\n                    collapsed={sidebarCollapsed}\n                    onToggleCollapse={() => setSidebarCollapsed(!sidebarCollapsed)}\n                  />\n                </TabsContent>\n\n                {!sidebarCollapsed && (\n                  <TabsContent value=\"topics\" className=\"flex-1 mt-0\">\n                    <TopicSidebar\n                      topics={ENGLISH_TOPICS}\n                      currentTopic={currentTopic}\n                      onSelectTopic={handleTopicSelect}\n                    />\n                  </TabsContent>\n                )}\n              </Tabs>\n            </Card>\n          ) : (\n            <TopicSidebar\n              topics={ENGLISH_TOPICS}\n              currentTopic={currentTopic}\n              onSelectTopic={handleTopicSelect}\n              collapsed={sidebarCollapsed}\n              onToggleCollapse={() => setSidebarCollapsed(!sidebarCollapsed)}\n            />\n          )}\n        </div>\n\n        {/* Center Column - Welcome Section, Content Area, Chat at Bottom */}\n        <div className=\"lg:col-span-2 flex flex-col gap-4\">\n          {/* Top: Avatar Section */}\n          <Card className=\"p-6\">\n            <div className=\"flex flex-col items-center text-center\">\n              <AIAvatar isSpeaking={isSpeaking} mood={currentMood} size=\"md\" />\n              <div className=\"mt-4\">\n                <h2 className=\"text-xl font-semibold\">Your English Tutor</h2>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  I'm teaching you like a {enrollment.teachingAge}-year-old with a {enrollment.voiceGender} {enrollment.voiceAccent} voice.\n                </p>\n              </div>\n              {/* Mobile topic menu */}\n              <Sheet>\n                <SheetTrigger asChild className=\"lg:hidden mt-4\">\n                  <Button variant=\"outline\" size=\"sm\">\n                    <Menu className=\"w-4 h-4 mr-2\" />\n                    Browse Topics\n                  </Button>\n                </SheetTrigger>\n                <SheetContent side=\"left\" className=\"w-[300px] sm:w-[400px]\">\n                  <SheetTitle>{curriculum ? 'Curriculum' : 'Topics'}</SheetTitle>\n                  <div className=\"mt-4 h-full\">\n                    {curriculum ? (\n                      <CurriculumSidebar\n                        curriculum={curriculum}\n                        currentLessonId={currentLessonId}\n                        onSelectLesson={handleSelectLesson}\n                      />\n                    ) : (\n                      <TopicSidebar\n                        topics={ENGLISH_TOPICS}\n                        currentTopic={currentTopic}\n                        onSelectTopic={handleTopicSelect}\n                      />\n                    )}\n                  </div>\n                </SheetContent>\n              </Sheet>\n            </div>\n          </Card>\n\n          {/* Middle: Content Area (Lesson/Learning Space) */}\n          <Card className=\"flex-1 min-h-[200px] p-4\">\n            <div className=\"h-full flex flex-col items-center justify-center text-center text-gray-400\">\n              <Lightbulb className=\"w-12 h-12 mb-3 opacity-50\" />\n              <p className=\"text-sm\">Learning Content Area</p>\n              <p className=\"text-xs mt-1\">Interactive lessons and exercises will appear here</p>\n            </div>\n          </Card>\n\n          {/* Bottom: Chat Area */}\n          <Card className=\"flex flex-col overflow-hidden\" style={{ maxHeight: '400px' }}>\n            <ScrollArea className=\"flex-1 p-4\">\n              <div className=\"space-y-4\">\n                {messages.map((message) => (\n                  <div\n                    key={message.id}\n                    className={`flex gap-3 ${message.role === 'user' ? 'justify-end' : 'justify-start'\n                      }`}\n                  >\n                    {message.role === 'assistant' && (\n                      <AIAvatarPlaceholder mood={getMood(message.hintType)} size=\"sm\" />\n                    )}\n\n                    <div\n                      className={`max-w-[80%] rounded-lg p-3 ${message.role === 'user'\n                        ? 'bg-blue-500 text-white'\n                        : 'bg-white border shadow-sm'\n                        }`}\n                    >\n                      <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n\n                      {message.hintType && (\n                        <Badge variant=\"secondary\" className=\"mt-2 text-xs capitalize\">\n                          {message.hintType}\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                ))}\n\n                {loading && (\n                  <div className=\"flex gap-3 justify-start\">\n                    <AIAvatarPlaceholder mood=\"thinking\" size=\"sm\" />\n                    <div className=\"bg-white border rounded-lg p-3\">\n                      <div className=\"flex gap-1\">\n                        <span className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" />\n                        <span className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce delay-100\" />\n                        <span className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce delay-200\" />\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                <div ref={scrollRef} />\n              </div>\n            </ScrollArea>\n\n            {/* Input Area */}\n            <div className=\"p-4 border-t bg-gray-50\">\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  onClick={() => setIsRecording(!isRecording)}\n                  className={isRecording ? 'text-red-500' : ''}\n                >\n                  {isRecording ? <Mic className=\"w-4 h-4\" /> : <MicOff className=\"w-4 h-4\" />}\n                </Button>\n                <Input\n                  placeholder=\"Ask your English question...\"\n                  value={input}\n                  onChange={(e) => setInput(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  disabled={loading || usage.remaining === 0}\n                  className=\"flex-1\"\n                />\n                <Button\n                  onClick={sendMessage}\n                  disabled={!input.trim() || loading || usage.remaining === 0}\n                >\n                  <Send className=\"w-4 h-4\" />\n                </Button>\n              </div>\n\n              {usage.remaining === 0 && (\n                <p className=\"text-sm text-orange-600 mt-2 text-center\">\n                  Daily message limit reached. Upgrade for unlimited messages.\n                </p>\n              )}\n            </div>\n          </Card>\n        </div>\n\n        {/* Right Column - Whiteboard, Skills, and AI Learning Space (Independent Collapse) */}\n        <div className=\"hidden lg:flex flex-col gap-4 w-80\">\n          {/* Whiteboard (Top) - Independent Collapse */}\n          <div className={cn(\n            \"transition-all duration-300 flex\",\n            whiteboardCollapsed ? \"justify-end\" : \"w-full\"\n          )}>\n            <AIWhiteboard\n              items={whiteboardItems}\n              onClear={() => setWhiteboardItems([])}\n              collapsed={whiteboardCollapsed}\n              onToggleCollapse={() => setWhiteboardCollapsed(!whiteboardCollapsed)}\n              collapseDirection=\"right\"\n            />\n          </div>\n\n          {/* Skills Section */}\n          <SkillRadar skills={gamification?.skills || null} />\n\n          {/* AI Learning Space (Bottom) - Independent Collapse */}\n          <div className={cn(\n            \"transition-all duration-300 flex flex-1 min-h-0\",\n            activityAreaCollapsed ? \"justify-end\" : \"w-full\"\n          )}>\n            <AIActivityArea\n              className={cn(\n                \"transition-all duration-300\",\n                activityAreaCollapsed ? \"w-16\" : \"flex-1\"\n              )}\n              collapsed={activityAreaCollapsed}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* XP Animation */}\n      {showXpAnimation && (\n        <XpAnimation\n          amount={xpGain.amount}\n          reason={xpGain.reason}\n          onComplete={() => setShowXpAnimation(false)}\n        />\n      )}\n\n      {/* Level Up Animation */}\n      {showLevelUp && gamification && (\n        <LevelUpAnimation\n          level={gamification.level}\n          onComplete={() => setShowLevelUp(false)}\n        />\n      )}\n    </div>\n  )\n}\n","/**\n * Curriculum Sidebar Component\n * Shows curriculum modules and lessons for the student\n * Allows linking tutoring sessions to specific lessons\n */\n\n'use client'\n\nimport { useState, useEffect } from 'react'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Progress } from '@/components/ui/progress'\nimport { ChevronDown, ChevronRight, BookOpen, CheckCircle, Circle, PlayCircle, GraduationCap, PanelLeft, PanelLeftClose } from 'lucide-react'\nimport { toast } from 'sonner'\nimport { cn } from '@/lib/utils'\n\ninterface Lesson {\n  id: string\n  title: string\n  order: number\n  duration: number\n  difficulty: string\n  progress?: {\n    status: 'NOT_STARTED' | 'IN_PROGRESS' | 'COMPLETED'\n    completedAt?: string\n    score?: number\n  }\n}\n\ninterface Module {\n  id: string\n  title: string\n  description: string\n  order: number\n  estimatedHours: number\n  skills: string[]\n  lessons: Lesson[]\n}\n\ninterface Curriculum {\n  id: string\n  name: string\n  category: string\n  description: string\n  modules: Module[]\n}\n\ninterface CurriculumSidebarProps {\n  curriculum: Curriculum\n  currentLessonId?: string\n  onSelectLesson?: (lesson: Lesson, module: Module) => void\n  compact?: boolean\n  collapsed?: boolean\n  onToggleCollapse?: () => void\n}\n\nexport function CurriculumSidebar({\n  curriculum,\n  currentLessonId,\n  onSelectLesson,\n  compact = false,\n  collapsed = false,\n  onToggleCollapse\n}: CurriculumSidebarProps) {\n  const [expandedModules, setExpandedModules] = useState<Set<string>>(new Set())\n  \n  // Expand first incomplete module by default\n  useEffect(() => {\n    if (curriculum.modules.length > 0) {\n      for (const module of curriculum.modules) {\n        const hasIncomplete = module.lessons.some(\n          l => !l.progress || l.progress.status !== 'COMPLETED'\n        )\n        if (hasIncomplete) {\n          setExpandedModules(new Set([module.id]))\n          break\n        }\n      }\n    }\n  }, [curriculum.modules])\n\n  const toggleModule = (moduleId: string) => {\n    setExpandedModules(prev => {\n      const next = new Set(prev)\n      if (next.has(moduleId)) {\n        next.delete(moduleId)\n      } else {\n        next.add(moduleId)\n      }\n      return next\n    })\n  }\n\n  const getLessonIcon = (lesson: Lesson) => {\n    if (lesson.progress?.status === 'COMPLETED') {\n      return <CheckCircle className=\"w-4 h-4 text-green-500\" />\n    }\n    if (lesson.progress?.status === 'IN_PROGRESS') {\n      return <PlayCircle className=\"w-4 h-4 text-blue-500\" />\n    }\n    return <Circle className=\"w-4 h-4 text-gray-300\" />\n  }\n\n  const getDifficultyColor = (difficulty: string) => {\n    switch (difficulty) {\n      case 'easy': return 'bg-green-100 text-green-700'\n      case 'medium': return 'bg-yellow-100 text-yellow-700'\n      case 'hard': return 'bg-red-100 text-red-700'\n      default: return 'bg-gray-100 text-gray-700'\n    }\n  }\n\n  // Calculate overall progress\n  const totalLessons = curriculum.modules.reduce((acc, m) => acc + m.lessons.length, 0)\n  const completedLessons = curriculum.modules.reduce(\n    (acc, m) => acc + m.lessons.filter(l => l.progress?.status === 'COMPLETED').length,\n    0\n  )\n  const progressPercentage = totalLessons > 0 ? (completedLessons / totalLessons) * 100 : 0\n\n  // Collapsed mode - icon bar\n  if (collapsed) {\n    return (\n      <div className=\"w-16 flex flex-col items-center py-3\">\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          onClick={onToggleCollapse}\n          className=\"mb-2\"\n        >\n          <PanelLeft className=\"w-4 h-4\" />\n        </Button>\n        \n        <div className=\"w-8 h-px bg-gray-200 my-2\" />\n        \n        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center mb-2\">\n          <GraduationCap className=\"w-5 h-5 text-purple-600\" />\n        </div>\n        \n        <div className=\"text-center\">\n          <span className=\"text-xs font-bold text-purple-600\">{Math.round(progressPercentage)}%</span>\n        </div>\n        \n        <div className=\"w-8 h-px bg-gray-200 my-2\" />\n        \n        <div className=\"flex flex-col items-center gap-1\">\n          {curriculum.modules.slice(0, 4).map((module, idx) => (\n            <div \n              key={module.id}\n              className={cn(\n                \"w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium\",\n                module.lessons.some(l => l.progress?.status === 'COMPLETED') \n                  ? \"bg-green-100 text-green-700\"\n                  : \"bg-gray-100 text-gray-600\"\n              )}\n              title={module.title}\n            >\n              {idx + 1}\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  if (compact) {\n    return (\n      <div className=\"space-y-3\">\n        <div className=\"p-3 bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg border\">\n          <div className=\"flex items-center gap-2\">\n            <GraduationCap className=\"w-5 h-5 text-purple-600\" />\n            <span className=\"font-medium text-sm\">{curriculum.name}</span>\n          </div>\n          <Progress value={progressPercentage} className=\"mt-2 h-1.5\" />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            {completedLessons}/{totalLessons} lessons completed\n          </p>\n        </div>\n        \n        <div className=\"space-y-1\">\n          {curriculum.modules.slice(0, 2).map(module => (\n            <div key={module.id} className=\"text-sm\">\n              <p className=\"font-medium text-gray-700 truncate\">{module.title}</p>\n              <div className=\"flex gap-1 mt-1\">\n                {module.skills.slice(0, 2).map(skill => (\n                  <Badge key={skill} variant=\"secondary\" className=\"text-xs capitalize\">\n                    {skill}\n                  </Badge>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Curriculum Header */}\n      <div className=\"p-4 border-b bg-gradient-to-br from-purple-50 to-blue-50\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <GraduationCap className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"font-semibold\">{curriculum.name}</h3>\n          </div>\n          {onToggleCollapse && (\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={onToggleCollapse}>\n              <PanelLeftClose className=\"w-4 h-4\" />\n            </Button>\n          )}\n        </div>\n        <p className=\"text-sm text-gray-600 mt-1\">{curriculum.description}</p>\n        \n        {/* Progress */}\n        <div className=\"mt-3\">\n          <div className=\"flex justify-between text-sm mb-1\">\n            <span className=\"text-gray-600\">Progress</span>\n            <span className=\"font-medium\">{Math.round(progressPercentage)}%</span>\n          </div>\n          <Progress value={progressPercentage} className=\"h-2\" />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            {completedLessons} of {totalLessons} lessons completed\n          </p>\n        </div>\n      </div>\n\n      {/* Modules List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2 space-y-1\">\n          {curriculum.modules.map((module, index) => {\n            const isExpanded = expandedModules.has(module.id)\n            const completedInModule = module.lessons.filter(\n              l => l.progress?.status === 'COMPLETED'\n            ).length\n            \n            return (\n              <div key={module.id} className=\"border rounded-lg overflow-hidden\">\n                {/* Module Header */}\n                <button\n                  onClick={() => toggleModule(module.id)}\n                  className=\"w-full p-3 flex items-center gap-2 hover:bg-gray-50 transition-colors text-left\"\n                >\n                  {isExpanded ? (\n                    <ChevronDown className=\"w-4 h-4 text-gray-400\" />\n                  ) : (\n                    <ChevronRight className=\"w-4 h-4 text-gray-400\" />\n                  )}\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"font-medium text-sm truncate\">\n                      Module {index + 1}: {module.title}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      {completedInModule}/{module.lessons.length} lessons ‚Ä¢ {module.estimatedHours}h\n                    </p>\n                  </div>\n                </button>\n\n                {/* Lessons List */}\n                {isExpanded && (\n                  <div className=\"border-t bg-gray-50/50\">\n                    {module.lessons.map((lesson) => (\n                      <button\n                        key={lesson.id}\n                        onClick={() => onSelectLesson?.(lesson, module)}\n                        className={`w-full p-3 flex items-start gap-2 text-left hover:bg-white transition-colors ${\n                          currentLessonId === lesson.id ? 'bg-blue-50 border-l-2 border-blue-500' : ''\n                        }`}\n                      >\n                        {getLessonIcon(lesson)}\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm truncate\">{lesson.title}</p>\n                          <div className=\"flex items-center gap-2 mt-1\">\n                            <span className=\"text-xs text-gray-400\">{lesson.duration} min</span>\n                            <Badge className={`text-xs ${getDifficultyColor(lesson.difficulty)}`}>\n                              {lesson.difficulty}\n                            </Badge>\n                          </div>\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </ScrollArea>\n    </div>\n  )\n}\n\nexport function CurriculumMiniCard({ curriculumId }: { curriculumId: string }) {\n  const [curriculum, setCurriculum] = useState<Curriculum | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    fetchCurriculum()\n  }, [curriculumId])\n\n  const fetchCurriculum = async () => {\n    try {\n      const res = await fetch(`/api/curriculum`)\n      const data = await res.json()\n      if (data.curriculum) {\n        setCurriculum(data.curriculum)\n      }\n    } catch (error) {\n      console.error('Failed to load curriculum:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"p-4 border rounded-lg animate-pulse\">\n        <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n        <div className=\"h-3 bg-gray-200 rounded w-1/2 mt-2\"></div>\n      </div>\n    )\n  }\n\n  if (!curriculum) return null\n\n  return (\n    <div className=\"p-4 border rounded-lg bg-gradient-to-br from-purple-50 to-blue-50\">\n      <div className=\"flex items-center gap-2\">\n        <GraduationCap className=\"w-5 h-5 text-purple-600\" />\n        <span className=\"font-medium\">{curriculum.name}</span>\n      </div>\n      <p className=\"text-sm text-gray-600 mt-1\">{curriculum.modules.length} modules</p>\n    </div>\n  )\n}\n","/**\n * AI Activity Area\n * Central space for AI demonstrations, voice transcription, games, and interactive content\n * Replaces the old chat area in the middle section\n */\n\n'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { \n  Mic, \n  Gamepad2, \n  Presentation, \n  Type,\n  Sparkles,\n  Play,\n  Pause,\n  Volume2,\n  Lightbulb,\n  Target,\n  Award,\n  Clock,\n  PanelRight,\n  PanelRightClose,\n  PanelLeftClose,\n  Zap\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface TranscriptionItem {\n  id: string\n  word: string\n  pronunciation?: string\n  definition?: string\n  timestamp: number\n}\n\ninterface GameState {\n  isActive: boolean\n  score: number\n  currentQuestion?: any\n  timeRemaining?: number\n}\n\ninterface AIActivityAreaProps {\n  className?: string\n  isListening?: boolean\n  transcriptions?: TranscriptionItem[]\n  onStartGame?: (gameType: string) => void\n  currentActivity?: 'demo' | 'game' | 'transcription' | 'idle'\n  collapsed?: boolean\n  onToggleCollapse?: () => void\n  collapseDirection?: 'left' | 'right'\n}\n\n// Demo content for AI teaching\ninterface DemoContent {\n  type: 'diagram' | 'text' | 'highlight' | 'animation'\n  title: string\n  content: React.ReactNode\n}\n\nfunction AIActivityArea({ \n  className,\n  isListening = false,\n  transcriptions = [],\n  onStartGame,\n  currentActivity = 'idle',\n  collapsed = false,\n  onToggleCollapse,\n  collapseDirection = 'left'\n}: AIActivityAreaProps) {\n  const [activeTab, setActiveTab] = useState('demo')\n  const [demoContent, setDemoContent] = useState<DemoContent | null>(null)\n  const [gameScore, setGameScore] = useState(0)\n\n  // Collapsed mode - right edge collapse\n  if (collapsed) {\n    return (\n      <Card className={cn(\"w-16 flex flex-col items-center py-3\", className)}>\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          onClick={onToggleCollapse}\n          className=\"mb-2\"\n        >\n          <PanelRight className=\"w-4 h-4\" />\n        </Button>\n        \n        <div className=\"w-8 h-px bg-gray-200 my-2\" />\n        \n        <div className=\"flex flex-col items-center gap-2 py-2\">\n          <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center\">\n            <Zap className=\"w-4 h-4 text-green-600\" />\n          </div>\n          <div className=\"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center\">\n            <Gamepad2 className=\"w-4 h-4 text-purple-600\" />\n          </div>\n          <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center\">\n            <Presentation className=\"w-4 h-4 text-blue-600\" />\n          </div>\n        </div>\n      </Card>\n    )\n  }\n\n  // Sample demonstration content\n  const renderDemoContent = () => {\n    return (\n      <div className=\"space-y-4\">\n        {/* Essay Structure Visualizer */}\n        <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg\">\n          <h4 className=\"font-medium text-sm mb-3 flex items-center gap-2\">\n            <Presentation className=\"w-4 h-4 text-blue-500\" />\n            Essay Structure\n          </h4>\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold\">1</div>\n              <div className=\"flex-1 bg-white p-2 rounded border-l-4 border-blue-500\">\n                <span className=\"text-sm font-medium\">Introduction</span>\n                <p className=\"text-xs text-gray-500\">Hook + Background + Thesis</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center text-sm font-bold\">2</div>\n              <div className=\"flex-1 bg-white p-2 rounded border-l-4 border-green-500\">\n                <span className=\"text-sm font-medium\">Body Paragraph 1</span>\n                <p className=\"text-xs text-gray-500\">Topic sentence + Evidence + Analysis</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center text-sm font-bold\">3</div>\n              <div className=\"flex-1 bg-white p-2 rounded border-l-4 border-green-500\">\n                <span className=\"text-sm font-medium\">Body Paragraph 2</span>\n                <p className=\"text-xs text-gray-500\">Topic sentence + Evidence + Analysis</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center text-sm font-bold\">4</div>\n              <div className=\"flex-1 bg-white p-2 rounded border-l-4 border-purple-500\">\n                <span className=\"text-sm font-medium\">Conclusion</span>\n                <p className=\"text-xs text-gray-500\">Restate thesis + Summarize + Final thought</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Key Concepts */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div className=\"bg-yellow-50 p-3 rounded-lg border border-yellow-200\">\n            <h5 className=\"text-sm font-medium text-yellow-800 mb-1\">Thesis Statement</h5>\n            <p className=\"text-xs text-yellow-700\">The main argument of your essay</p>\n          </div>\n          <div className=\"bg-green-50 p-3 rounded-lg border border-green-200\">\n            <h5 className=\"text-sm font-medium text-green-800 mb-1\">Topic Sentence</h5>\n            <p className=\"text-xs text-green-700\">Introduces each paragraph's focus</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Voice transcription display\n  const renderTranscriptions = () => {\n    if (transcriptions.length === 0 && !isListening) {\n      return (\n        <div className=\"flex flex-col items-center justify-center h-48 text-gray-400\">\n          <Mic className=\"w-12 h-12 mb-3 opacity-50\" />\n          <p className=\"text-sm\">Start speaking to see key words</p>\n          <p className=\"text-xs mt-1\">Important vocabulary will appear here</p>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"space-y-3\">\n        {isListening && (\n          <div className=\"flex items-center gap-2 text-blue-600 mb-4\">\n            <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\" />\n            <span className=\"text-sm font-medium\">Listening...</span>\n          </div>\n        )}\n        \n        <div className=\"grid grid-cols-2 gap-2\">\n          {transcriptions.map((item) => (\n            <div \n              key={item.id}\n              className=\"bg-white p-3 rounded-lg border shadow-sm hover:shadow-md transition-shadow\"\n            >\n              <div className=\"flex items-start justify-between\">\n                <span className=\"text-lg font-medium text-gray-800\">{item.word}</span>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\n                  <Volume2 className=\"w-3 h-3\" />\n                </Button>\n              </div>\n              {item.pronunciation && (\n                <p className=\"text-xs text-gray-500 mt-1\">/{item.pronunciation}/</p>\n              )}\n              {item.definition && (\n                <p className=\"text-xs text-gray-600 mt-1\">{item.definition}</p>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  // Games section\n  const renderGames = () => {\n    const games = [\n      { id: 'vocab-match', name: 'Vocabulary Match', icon: 'üéØ', difficulty: 'Easy' },\n      { id: 'grammar-fix', name: 'Grammar Fix', icon: 'üîß', difficulty: 'Medium' },\n      { id: 'essay-race', name: 'Essay Race', icon: '‚è±Ô∏è', difficulty: 'Hard' },\n      { id: 'word-scramble', name: 'Word Scramble', icon: 'üß©', difficulty: 'Easy' },\n    ]\n\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"grid grid-cols-2 gap-3\">\n          {games.map((game) => (\n            <button\n              key={game.id}\n              onClick={() => onStartGame?.(game.id)}\n              className=\"p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border hover:border-blue-300 hover:shadow-md transition-all text-left group\"\n            >\n              <div className=\"text-2xl mb-2\">{game.icon}</div>\n              <h4 className=\"font-medium text-sm group-hover:text-blue-600\">{game.name}</h4>\n              <Badge variant=\"secondary\" className=\"mt-1 text-xs\">\n                {game.difficulty}\n              </Badge>\n            </button>\n          ))}\n        </div>\n\n        {/* Current Score Display */}\n        <div className=\"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <Award className=\"w-5 h-5 text-yellow-600\" />\n              <span className=\"font-medium\">Your Score</span>\n            </div>\n            <span className=\"text-2xl font-bold text-yellow-700\">{gameScore}</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <Card className={cn(\"h-full flex flex-col\", className)}>\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n            <Sparkles className=\"w-4 h-4 text-purple-500\" />\n            AI Learning Space\n          </CardTitle>\n          <div className=\"flex items-center gap-1\">\n            {isListening && (\n              <Badge variant=\"default\" className=\"bg-red-500 animate-pulse mr-1\">\n                <Mic className=\"w-3 h-3 mr-1\" />\n                Listening\n              </Badge>\n            )}\n            {onToggleCollapse && (\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={onToggleCollapse}>\n                {collapseDirection === 'right' ? (\n                  <PanelRightClose className=\"w-4 h-4\" />\n                ) : (\n                  <PanelLeftClose className=\"w-4 h-4\" />\n                )}\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col\">\n        <TabsList className=\"grid w-full grid-cols-3 mx-4 mb-2\">\n          <TabsTrigger value=\"demo\" className=\"text-xs\">\n            <Presentation className=\"w-3 h-3 mr-1\" />\n            Demo\n          </TabsTrigger>\n          <TabsTrigger value=\"words\" className=\"text-xs\">\n            <Type className=\"w-3 h-3 mr-1\" />\n            Words\n          </TabsTrigger>\n          <TabsTrigger value=\"games\" className=\"text-xs\">\n            <Gamepad2 className=\"w-3 h-3 mr-1\" />\n            Games\n          </TabsTrigger>\n        </TabsList>\n\n        <CardContent className=\"flex-1 p-4 pt-0\">\n          <ScrollArea className=\"h-[calc(100vh-350px)]\">\n            <TabsContent value=\"demo\" className=\"mt-0\">\n              {renderDemoContent()}\n            </TabsContent>\n\n            <TabsContent value=\"words\" className=\"mt-0\">\n              {renderTranscriptions()}\n            </TabsContent>\n\n            <TabsContent value=\"games\" className=\"mt-0\">\n              {renderGames()}\n            </TabsContent>\n          </ScrollArea>\n        </CardContent>\n      </Tabs>\n    </Card>\n  )\n}\n\nexport { AIActivityArea }\nexport type { TranscriptionItem }\n","/**\n * Mission Mode Toggle Component\n * \n * Switches between Free Chat and Mission Mode\n */\n\n'use client'\n\nimport { MessageCircle, Target, ChevronRight } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ntype Mode = 'free' | 'mission'\n\ninterface MissionModeToggleProps {\n  currentMode: Mode\n  currentMission?: {\n    id: string\n    title: string\n    worldName: string\n    emoji: string\n  }\n  onModeChange: (mode: Mode) => void\n  className?: string\n}\n\nexport function MissionModeToggle({\n  currentMode,\n  currentMission,\n  onModeChange,\n  className,\n}: MissionModeToggleProps) {\n  return (\n    <div className={cn('flex items-center gap-2', className)}>\n      {/* Mode selector */}\n      <div className=\"flex bg-gray-100 rounded-lg p-1\">\n        <button\n          onClick={() => onModeChange('free')}\n          className={cn(\n            'flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all',\n            currentMode === 'free'\n              ? 'bg-white text-gray-800 shadow-sm'\n              : 'text-gray-500 hover:text-gray-700'\n          )}\n        >\n          <MessageCircle className=\"w-4 h-4\" />\n          Free Chat\n        </button>\n        <button\n          onClick={() => onModeChange('mission')}\n          className={cn(\n            'flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all',\n            currentMode === 'mission'\n              ? 'bg-white text-blue-600 shadow-sm'\n              : 'text-gray-500 hover:text-gray-700'\n          )}\n        >\n          <Target className=\"w-4 h-4\" />\n          Mission Mode\n        </button>\n      </div>\n\n      {/* Current mission indicator */}\n      {currentMode === 'mission' && currentMission && (\n        <div className=\"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm\">\n          <span>{currentMission.emoji}</span>\n          <span className=\"font-medium truncate max-w-[150px]\">\n            {currentMission.title}\n          </span>\n          <ChevronRight className=\"w-4 h-4\" />\n        </div>\n      )}\n    </div>\n  )\n}\n","/**\n * Worlds Sidebar Component\n * \n * Displays worlds and missions in the AI Tutor sidebar\n */\n\n'use client'\n\nimport { useState } from 'react'\nimport { ChevronRight, Lock, CheckCircle2, Circle, PlayCircle } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { ScrollArea } from '@/components/ui/scroll-area'\n\ninterface Mission {\n  id: string\n  title: string\n  difficulty: number\n  xpReward: number\n  estimatedTime: number\n  userProgress?: {\n    status: 'NOT_STARTED' | 'IN_PROGRESS' | 'COMPLETED'\n    score: number | null\n  }\n}\n\ninterface World {\n  id: string\n  name: string\n  emoji: string\n  isUnlocked: boolean\n  missions: Mission[]\n}\n\ninterface WorldsSidebarProps {\n  worlds: World[]\n  currentWorldId?: string\n  currentMissionId?: string\n  onSelectMission: (worldId: string, mission: Mission) => void\n  className?: string\n}\n\nexport function WorldsSidebar({\n  worlds,\n  currentWorldId,\n  currentMissionId,\n  onSelectMission,\n  className,\n}: WorldsSidebarProps) {\n  const [expandedWorlds, setExpandedWorlds] = useState<string[]>(\n    currentWorldId ? [currentWorldId] : []\n  )\n\n  const toggleWorld = (worldId: string) => {\n    setExpandedWorlds(prev =>\n      prev.includes(worldId)\n        ? prev.filter(id => id !== worldId)\n        : [...prev, worldId]\n    )\n  }\n\n  return (\n    <div className={cn('bg-white rounded-xl border flex flex-col h-full', className)}>\n      <div className=\"p-4 border-b\">\n        <h3 className=\"font-semibold text-gray-800\">Learning Worlds</h3>\n        <p className=\"text-xs text-gray-500 mt-1\">\n          Choose a mission to start learning\n        </p>\n      </div>\n\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2 space-y-1\">\n          {worlds.map((world) => {\n            const isExpanded = expandedWorlds.includes(world.id)\n            const completedCount = world.missions.filter(\n              m => m.userProgress?.status === 'COMPLETED'\n            ).length\n\n            return (\n              <div key={world.id}>\n                {/* World header */}\n                <button\n                  onClick={() => world.isUnlocked && toggleWorld(world.id)}\n                  disabled={!world.isUnlocked}\n                  className={cn(\n                    'w-full flex items-center gap-2 p-2 rounded-lg transition-colors',\n                    world.isUnlocked\n                      ? 'hover:bg-gray-100'\n                      : 'opacity-50 cursor-not-allowed'\n                  )}\n                >\n                  <span className=\"text-xl\">{world.emoji}</span>\n                  \n                  <div className=\"flex-1 text-left\">\n                    <p className={cn(\n                      'font-medium text-sm',\n                      world.isUnlocked ? 'text-gray-800' : 'text-gray-500'\n                    )}>\n                      {world.name}\n                    </p>\n                    {world.isUnlocked && (\n                      <p className=\"text-xs text-gray-500\">\n                        {completedCount}/{world.missions.length} completed\n                      </p>\n                    )}\n                  </div>\n\n                  {!world.isUnlocked ? (\n                    <Lock className=\"w-4 h-4 text-gray-400\" />\n                  ) : (\n                    <ChevronRight\n                      className={cn(\n                        'w-4 h-4 text-gray-400 transition-transform',\n                        isExpanded && 'rotate-90'\n                      )}\n                    />\n                  )}\n                </button>\n\n                {/* Missions list */}\n                {isExpanded && world.isUnlocked && (\n                  <div className=\"ml-6 mt-1 space-y-1\">\n                    {world.missions.map((mission) => (\n                      <MissionItem\n                        key={mission.id}\n                        mission={mission}\n                        isActive={currentMissionId === mission.id}\n                        onClick={() => onSelectMission(world.id, mission)}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </ScrollArea>\n    </div>\n  )\n}\n\nfunction MissionItem({\n  mission,\n  isActive,\n  onClick,\n}: {\n  mission: Mission\n  isActive: boolean\n  onClick: () => void\n}) {\n  const status = mission.userProgress?.status || 'NOT_STARTED'\n  \n  const Icon = status === 'COMPLETED'\n    ? CheckCircle2\n    : status === 'IN_PROGRESS'\n    ? PlayCircle\n    : Circle\n\n  return (\n    <button\n      onClick={onClick}\n      className={cn(\n        'w-full flex items-center gap-2 p-2 rounded-lg text-left transition-colors',\n        isActive\n          ? 'bg-blue-50 border border-blue-200'\n          : 'hover:bg-gray-50'\n      )}\n    >\n      <Icon className={cn(\n        'w-4 h-4 flex-shrink-0',\n        status === 'COMPLETED' && 'text-green-500',\n        status === 'IN_PROGRESS' && 'text-blue-500',\n        status === 'NOT_STARTED' && 'text-gray-400'\n      )} />\n\n      <div className=\"flex-1 min-w-0\">\n        <p className={cn(\n          'text-sm truncate',\n          isActive ? 'font-medium text-blue-700' : 'text-gray-700'\n        )}>\n          {mission.title}\n        </p>\n        <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n          <span>{mission.estimatedTime} min</span>\n          <span>‚Ä¢</span>\n          <span>+{mission.xpReward} XP</span>\n        </div>\n      </div>\n    </button>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}