;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="247cebc0-f6f4-add9-7b56-8a97bae91648")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,601636,e=>{"use strict";var t=e.i(251474),r=e.i(800592),a=e.i(536105),n=e.i(196415),l=e.i(870368),s=e.i(785784),i=e.i(156155),c=e.i(591768),o=e.i(962825),d=e.i(488672),u=e.i(396233),m=e.i(129340),p=e.i(336566),h=e.i(505595),x=e.i(510608),g=e.i(476319),f=e.i(383918),y=e.i(416982),v=e.i(474167),b=e.i(264066),j=e.i(151651),N=e.i(598320),w=e.i(500676),O=e.i(527667),C=e.i(332016),P=e.i(104386),A=e.i(492144),E=e.i(220302),S=e.i(627018),T=e.i(63847),R=e.i(661342),D=e.i(444158),k=e.i(955260);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var B=["item"],M=L(L({},D.defaultPolarChartProps),{},{layout:"centric",startAngle:0,endAngle:360}),K=(0,r.forwardRef)((e,t)=>{var a=(0,k.resolveDefaultProps)(e,M);return r.createElement(D.PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:B,tooltipPayloadSearcher:R.arrayTooltipSearcher,categoricalChartProps:a,ref:t})}),z=e.i(621386),q=e.i(144664),V=e.i(992916),$=e.i(110296),U=e.i(593520),F=e.i(989649),H=e.i(418807);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var G=(0,V.createSelector)([H.selectUnfilteredPolarItems,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),Q=[],X=(e,t,r)=>(null==r?void 0:r.length)===0?Q:r,Z=(0,V.createSelector)([$.selectChartDataAndAlwaysIgnoreIndexes,G,X],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>_(_({},t.presentationProps),e.props))),null!=a))return a}),Y=(0,V.createSelector)([Z,G,X],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,l,s=(0,F.getValueByDataKey)(e,t.nameKey,t.name);return l=null!=r&&null!=(n=r[a])&&null!=(n=n.props)&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,F.getTooltipNameProp)(s,t.dataKey),color:l,payload:e,type:t.legendType}})}),J=(0,V.createSelector)([Z,G,X,U.selectChartOffsetInternal],(e,t,r,a)=>{if(null!=t&&null!=e)return function(e){var t,r,a,{pieSettings:n,displayedData:l,cells:s,offset:i}=e,{cornerRadius:c,startAngle:o,endAngle:d,dataKey:u,nameKey:m,tooltipType:p}=n,h=Math.abs(n.minAngle),x=(0,es.mathSign)(d-o)*Math.min(Math.abs(d-o),360),g=Math.abs(x),f=l.length<=1?0:null!=(t=n.paddingAngle)?t:0,y=l.filter(e=>0!==(0,F.getValueByDataKey)(e,u,0)).length,v=g-y*h-(g>=360?y:y-1)*f,b=l.reduce((e,t)=>{var r=(0,F.getValueByDataKey)(t,u,0);return e+((0,es.isNumber)(r)?r:0)},0);return b>0&&(r=l.map((e,t)=>{var r,l=(0,F.getValueByDataKey)(e,u,0),d=(0,F.getValueByDataKey)(e,m,t),g=((e,t,r)=>{var a,{top:n,left:l,width:s,height:i}=t,c=(0,el.getMaxRadius)(s,i),o=l+(0,es.getPercentValue)(e.cx,s,s/2),d=n+(0,es.getPercentValue)(e.cy,i,i/2),u=(0,es.getPercentValue)(e.innerRadius,c,0);return{cx:o,cy:d,innerRadius:u,outerRadius:(a=e.outerRadius,"function"==typeof a?(0,es.getPercentValue)(a(r),c,.8*c):(0,es.getPercentValue)(a,c,.8*c)),maxRadius:e.maxRadius||Math.sqrt(s*s+i*i)/2}})(n,i,e),y=((0,es.isNumber)(l)?l:0)/b,j=eE(eE({},e),s&&s[t]&&s[t].props),N=(r=t?a.endAngle+(0,es.mathSign)(x)*f*(0!==l):o)+(0,es.mathSign)(x)*((0!==l?h:0)+y*v),w=(r+N)/2,O=(g.innerRadius+g.outerRadius)/2,C=[{name:d,value:l,payload:j,dataKey:u,type:p,graphicalItemId:n.id}],P=(0,el.polarToCartesian)(g.cx,g.cy,O,w);return a=eE(eE(eE(eE({},n.presentationProps),{},{percent:y,cornerRadius:"string"==typeof c?parseFloat(c):c,name:d,tooltipPayload:C,midAngle:w,middleRadius:O,tooltipPosition:P},j),g),{},{value:l,dataKey:u,startAngle:r,endAngle:N,payload:j,paddingAngle:(0,es.mathSign)(x)*f})})),r}({offset:a,pieSettings:t,displayedData:e,cells:r})}),ee=e.i(343203),et=e.i(669360),er=e.i(387348),ea=e.i(925505),en=e.i(984074),el=e.i(961301),es=e.i(155978),ei=e.i(980650),ec=e.i(210086),eo=e.i(798074),ed=e.i(363598),eu=e.i(172406),em=e.i(952329),ep=e.i(370719),eh=e.i(821684),ex=e.i(1777),eg=e.i(228779),ef=e.i(489322),ey=e.i(871059),ev=e.i(700065),eb=e.i(484071),ej=e.i(21110),eN=e.i(952641),ew=["key"],eO=["onMouseEnter","onClick","onMouseLeave"],eC=["id"],eP=["id"];function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eS(){return(eS=Object.assign.bind()).apply(null,arguments)}function eT(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eR(e){var t=(0,r.useMemo)(()=>(0,en.findAllByType)(e.children,T.Cell),[e.children]),a=(0,ee.useAppSelector)(r=>Y(r,e.id,t));return null==a?null:r.createElement(em.SetPolarLegendPayload,{legendPayload:a})}var eD=r.memo(e=>{var{dataKey:t,nameKey:a,sectors:n,stroke:l,strokeWidth:s,fill:i,name:c,hide:o,tooltipType:d,id:u}=e,m={dataDefinedOnItem:n.map(e=>e.tooltipPayload),getPosition:e=>{var t;return null==(t=n[Number(e)])?void 0:t.tooltipPosition},settings:{stroke:l,strokeWidth:s,fill:i,dataKey:t,nameKey:a,name:(0,F.getTooltipNameProp)(c,t),hide:o,type:d,color:i,unit:"",graphicalItemId:u}};return r.createElement(ed.SetTooltipEntrySettings,{tooltipEntrySettings:m})});function ek(e){var{sectors:t,props:a,showLabels:n}=e,{label:l,labelLine:s,dataKey:i}=a;if(!n||!l||!t)return null;var c=(0,ef.svgPropertiesNoEvents)(a),o=(0,ef.svgPropertiesNoEventsFromUnknown)(l),d=(0,ef.svgPropertiesNoEventsFromUnknown)(s),u="object"==typeof l&&"offsetRadius"in l&&"number"==typeof l.offsetRadius&&l.offsetRadius||20,m=t.map((e,t)=>{var a,n,m=(e.startAngle+e.endAngle)/2,p=(0,el.polarToCartesian)(e.cx,e.cy,e.outerRadius+u,m),h=eE(eE(eE(eE({},c),e),{},{stroke:"none"},o),{},{index:t,textAnchor:(a=p.x)>(n=e.cx)?"start":a<n?"end":"middle"},p),x=eE(eE(eE(eE({},c),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[(0,el.polarToCartesian)(e.cx,e.cy,e.outerRadius,m),p],key:"line"});return r.createElement(eb.ZIndexLayer,{zIndex:ej.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},r.createElement(et.Layer,null,s&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"==typeof e)return e(t);var a=(0,q.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:n}=t,l=eT(t,ew);return r.createElement(er.Curve,eS({},l,{type:"linear",className:a}))})(s,x),((e,t,a)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var n=a;if("function"==typeof e&&(n=e(t),r.isValidElement(n)))return n;var l=(0,q.clsx)("recharts-pie-label-text",(0,eN.getClassNameFromUnknown)(e));return r.createElement(ea.Text,eS({},t,{alignmentBaseline:"middle",className:l}),n)})(l,h,(0,F.getValueByDataKey)(e,i))))});return r.createElement(et.Layer,{className:"recharts-pie-labels"},m)}function eI(e){var{sectors:t,props:a,showLabels:n}=e,{label:l}=a;return"object"==typeof l&&null!=l&&"position"in l?r.createElement(ev.LabelListFromLabelProp,{label:l}):r.createElement(ek,{sectors:t,props:a,showLabels:n})}function eL(e){var{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:l,shape:s,id:i}=e,c=(0,ee.useAppSelector)(eu.selectActiveTooltipIndex),o=(0,ee.useAppSelector)(eu.selectActiveTooltipDataKey),d=(0,ee.useAppSelector)(eu.selectActiveTooltipGraphicalItemId),{onMouseEnter:u,onClick:m,onMouseLeave:p}=l,h=eT(l,eO),x=(0,eo.useMouseEnterItemDispatch)(u,l.dataKey,i),g=(0,eo.useMouseLeaveItemDispatch)(p),f=(0,eo.useMouseClickItemDispatch)(m,l.dataKey,i);return null==t||0===t.length?null:r.createElement(r.Fragment,null,t.map((e,u)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var m=null==d||d===i,p=String(u)===c&&(null==o||l.dataKey===o)&&m,y=a&&p?a:c?n:null,v=eE(eE({},e),{},{stroke:e.stroke,tabIndex:-1,[ep.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:u,[ep.DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:i});return r.createElement(et.Layer,eS({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(u),tabIndex:-1,className:"recharts-pie-sector"},(0,ei.adaptEventsOfChild)(h,e,u),{onMouseEnter:x(e,u),onMouseLeave:g(e,u),onClick:f(e,u)}),r.createElement(ec.Shape,eS({option:null!=s?s:y,index:u,shapeType:"sector",isActive:p},v)))}))}function eB(e){var{showLabels:t,sectors:a,children:n}=e,l=(0,r.useMemo)(()=>t&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,t]);return r.createElement(ev.PolarLabelListContextProvider,{value:t?l:void 0},n)}function eM(e){var{props:t,previousSectorsRef:a,id:n}=e,{sectors:l,isAnimationActive:s,animationBegin:i,animationDuration:c,animationEasing:o,activeShape:d,inactiveShape:u,onAnimationStart:m,onAnimationEnd:p}=t,h=(0,eh.useAnimationId)(t,"recharts-pie-"),x=a.current,[g,f]=(0,r.useState)(!1),y=(0,r.useCallback)(()=>{"function"==typeof p&&p(),f(!1)},[p]),v=(0,r.useCallback)(()=>{"function"==typeof m&&m(),f(!0)},[m]);return r.createElement(eB,{showLabels:!g,sectors:l},r.createElement(ey.JavascriptAnimate,{animationId:h,begin:i,duration:c,isActive:s,easing:o,onAnimationStart:v,onAnimationEnd:y,key:h},e=>{var s,i=[],c=l&&l[0],o=null!=(s=null==c?void 0:c.startAngle)?s:0;return null==l||l.forEach((t,r)=>{var a=x&&x[r],n=r>0?(0,z.default)(t,"paddingAngle",0):0;if(a){var l=(0,es.interpolate)(a.endAngle-a.startAngle,t.endAngle-t.startAngle,e),s=eE(eE({},t),{},{startAngle:o+n,endAngle:o+l+n});i.push(s),o=s.endAngle}else{var{endAngle:c,startAngle:d}=t,u=(0,es.interpolate)(0,c-d,e),m=eE(eE({},t),{},{startAngle:o+n,endAngle:o+u+n});i.push(m),o=m.endAngle}}),a.current=i,r.createElement(et.Layer,null,r.createElement(eL,{sectors:i,activeShape:d,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),r.createElement(eI,{showLabels:!g,sectors:l,props:t}),t.children)}var eK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ej.DefaultZIndexes.area};function ez(e){var{id:t}=e,a=eT(e,eC),{hide:n,className:l,rootTabIndex:s}=e,i=(0,r.useMemo)(()=>(0,en.findAllByType)(e.children,T.Cell),[e.children]),c=(0,ee.useAppSelector)(e=>J(e,t,i)),o=(0,r.useRef)(null),d=(0,q.clsx)("recharts-pie",l);return n||null==c?(o.current=null,r.createElement(et.Layer,{tabIndex:s,className:d})):r.createElement(eb.ZIndexLayer,{zIndex:e.zIndex},r.createElement(eD,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),r.createElement(et.Layer,{tabIndex:s,className:d},r.createElement(eM,{props:eE(eE({},a),{},{sectors:c}),previousSectorsRef:o,id:t})))}function eq(e){var t=(0,k.resolveDefaultProps)(e,eK),{id:a}=t,n=eT(t,eP),l=(0,ef.svgPropertiesNoEvents)(n);return r.createElement(ex.RegisterGraphicalItemId,{id:a,type:"pie"},e=>r.createElement(r.Fragment,null,r.createElement(eg.SetPolarGraphicalItem,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),r.createElement(eR,eS({},n,{id:e})),r.createElement(ez,eS({},n,{id:e}))))}eq.displayName="Pie";var eV=e.i(312515),e$=e.i(584872),eU=e.i(932712),eF=e.i(91753);function eH(){return(eH=Object.assign.bind()).apply(null,arguments)}function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var e_={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function eG(e){var t,{data:a,iconType:n,inactiveColor:l}=e,s=32/6,i=32/3,c=a.inactive?l:a.color,o=null!=n?n:a.type;if("none"===o)return null;if("plainline"===o)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null==(t=a.payload)?void 0:t.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===o)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(16,"h").concat(i,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(16,"\n            H").concat(32,"M").concat(2*i,",").concat(16,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(16),className:"recharts-legend-icon"});if("rect"===o)return r.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(a.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a);return delete d.legendIcon,r.cloneElement(a.legendIcon,d)}return r.createElement(eF.Symbols,{fill:c,cx:16,cy:16,size:32,sizeType:"diameter",type:o})}function eQ(e){var{payload:t,iconSize:a,layout:n,formatter:l,inactiveColor:s,iconType:i}=e,c={x:0,y:0,width:32,height:32},o={display:"horizontal"===n?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,n)=>{var u=t.formatter||l,m=(0,q.clsx)({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:t.inactive});if("none"===t.type)return null;var p=t.inactive?s:t.color,h=u?u(t.value,t,n):t.value;return r.createElement("li",eH({className:m,style:o,key:"legend-item-".concat(n)},(0,ei.adaptEventsOfChild)(e,t,n)),r.createElement(eU.Surface,{width:a,height:a,viewBox:c,style:d,"aria-label":"".concat(h," legend icon")},r.createElement(eG,{data:t,iconType:i,inactiveColor:s})),r.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},h))})}var eX=e=>{var t=(0,k.resolveDefaultProps)(e,e_),{payload:a,layout:n,align:l}=t;return a&&a.length?r.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===n?l:"left"}},r.createElement(eQ,eH({},t,{payload:a}))):null},eZ=e.i(875799),eY=e.i(50437),eJ=e.i(117556),e0=e.i(988481),e1=e.i(376174),e2=["contextPayload"];function e4(){return(e4=Object.assign.bind()).apply(null,arguments)}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e3(e){return e.value}function e8(e){var{contextPayload:t}=e,a=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,e2),n=(0,eZ.getUniqPayload)(t,e.payloadUniqBy,e3),l=e6(e6({},a),{},{payload:n});return r.isValidElement(e.content)?r.cloneElement(e.content,l):"function"==typeof e.content?r.createElement(e.content,l):r.createElement(eX,l)}function e7(e){var t=(0,ee.useAppDispatch)();return(0,r.useEffect)(()=>{t((0,e1.setLegendSettings)(e))},[t,e]),null}function e9(e){var t=(0,ee.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,e1.setLegendSize)(e)),()=>{t((0,e1.setLegendSize)({width:0,height:0}))}),[t,e]),null}var te={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function tt(e){var t,a=(0,k.resolveDefaultProps)(e,te),n=(0,ee.useAppSelector)(eY.selectLegendPayload),l=(0,e$.useLegendPortal)(),s=(0,e0.useMargin)(),{width:i,height:c,wrapperStyle:o,portal:d}=a,[u,m]=(0,eJ.useElementOffset)([n]),p=(0,e0.useChartWidth)(),h=(0,e0.useChartHeight)();if(null==p||null==h)return null;var x=p-((null==s?void 0:s.left)||0)-((null==s?void 0:s.right)||0),g=(t=a.layout,"vertical"===t&&null!=c?{height:c}:"horizontal"===t?{width:i||x}:null),f=d?o:e6(e6({position:"absolute",width:(null==g?void 0:g.width)||i||"auto",height:(null==g?void 0:g.height)||c||"auto"},function(e,t,r,a,n,l){var s,i,{layout:c,align:o,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===o&&"vertical"===c?{left:((a||0)-l.width)/2}:"right"===o?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(i="middle"===d?{top:((n||0)-l.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),e6(e6({},s),i)}(o,a,s,p,h,u)),o),y=null!=d?d:l;if(null==y||null==n)return null;var v=r.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:m},r.createElement(e7,{layout:a.layout,align:a.align,verticalAlign:a.verticalAlign,itemSorter:a.itemSorter}),!d&&r.createElement(e9,{width:u.width,height:u.height}),r.createElement(e8,e4({},a,g,{margin:s,chartWidth:p,chartHeight:h,contextPayload:n})));return(0,eV.createPortal)(v,y)}tt.displayName="Legend";let tr=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6"];function ta(e){return e>=80?"text-green-600":e>=60?"text-amber-600":"text-red-600"}function tn(e){if(e<60)return`${e}s`;let t=Math.floor(e/60),r=e%60;return r>0?`${t}m ${r}s`:`${t}m`}function tl(){let e=(0,a.useParams)(),R=(0,a.useRouter)(),D=e?.id,k=e?.taskId,[I,L]=(0,r.useState)(!0),[B,M]=(0,r.useState)(null),[z,q]=(0,r.useState)("overview");if((0,r.useEffect)(()=>{D&&k&&(async()=>{L(!0);try{let e=await fetch(`/api/tutor/courses/${D}/tasks/${k}/analytics`,{credentials:"include"});e.ok?M(await e.json()):N.toast.error("Failed to load analytics")}catch{N.toast.error("Failed to load analytics")}finally{L(!1)}})()},[D,k]),I)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-blue-500"})});if(!B)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)(n.Card,{className:"max-w-md",children:(0,t.jsxs)(n.CardContent,{className:"pt-6 text-center",children:[(0,t.jsx)(p.AlertTriangle,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Analytics Unavailable"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No data found for this task"}),(0,t.jsx)(l.Button,{onClick:()=>R.back(),children:"Go Back"})]})})});let{task:V,overview:$,scoreDistribution:U,questionStats:F,questionsNeedingReview:H,studentScores:W}=B,_=F.reduce((e,t)=>e+t.correctCount,0),G=F.reduce((e,t)=>e+t.wrongCount,0),Q=[{name:"Correct",value:_,color:"#22c55e"},{name:"Incorrect",value:G,color:"#ef4444"}];return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(j.default,{href:`/tutor/courses/${D}/builder`,children:(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(o.ArrowLeft,{className:"h-5 w-5"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(d.BarChart3,{className:"h-6 w-6 text-blue-500"}),"Task Analytics"]}),(0,t.jsx)("p",{className:"text-gray-500",children:V.title})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Badge,{variant:"outline",className:"capitalize",children:V.type}),(0,t.jsx)(s.Badge,{variant:"outline",className:"capitalize",children:V.difficulty}),V.questionCount>0&&(0,t.jsxs)(s.Badge,{variant:"secondary",children:[V.questionCount," questions"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-5 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(u.Users,{className:"h-4 w-4 text-blue-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Submissions"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:$.totalSubmissions}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[$.completionRate,"% completion"]})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-5 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(m.Target,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Average Score"})]}),(0,t.jsxs)("p",{className:`text-2xl font-bold ${ta($.averageScore)}`,children:[$.averageScore,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:["Median: ",$.medianScore,"%"]})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-5 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(g.TrendingUp,{className:"h-4 w-4 text-emerald-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Highest"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-emerald-600",children:[$.highestScore,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:["Lowest: ",$.lowestScore,"%"]})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-5 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(v.Timer,{className:"h-4 w-4 text-purple-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Avg Time"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:tn($.averageTimeSeconds)})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-5 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(h.CheckCircle,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Correct"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:_})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-5 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(x.XCircle,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Incorrect"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:G})]})})]}),H.length>0&&(0,t.jsx)(n.Card,{className:"mb-6 border-amber-200 bg-amber-50",children:(0,t.jsx)(n.CardContent,{className:"pt-5 pb-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(p.AlertTriangle,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-amber-800",children:[H.length," question",H.length>1?"s":""," need review"]}),(0,t.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Over 60% of students got these wrong — consider re-teaching the concepts."}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:H.map(e=>(0,t.jsxs)(s.Badge,{className:"bg-amber-200 text-amber-800 border-amber-300",children:[e.questionText.slice(0,50),e.questionText.length>50?"…":"",(0,t.jsxs)("span",{className:"ml-1 opacity-70",children:["(",e.correctRate,"% correct)"]})]},e.questionId))})]})]})})}),(0,t.jsxs)(i.Tabs,{value:z,onValueChange:q,children:[(0,t.jsxs)(i.TabsList,{className:"mb-4",children:[(0,t.jsxs)(i.TabsTrigger,{value:"overview",className:"gap-1.5",children:[(0,t.jsx)(d.BarChart3,{className:"h-4 w-4"})," Overview"]}),(0,t.jsxs)(i.TabsTrigger,{value:"questions",className:"gap-1.5",children:[(0,t.jsx)(y.FileQuestion,{className:"h-4 w-4"})," Per-Question"]}),(0,t.jsxs)(i.TabsTrigger,{value:"students",className:"gap-1.5",children:[(0,t.jsx)(u.Users,{className:"h-4 w-4"})," Students"]})]}),(0,t.jsx)(i.TabsContent,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Score Distribution"}),(0,t.jsx)(n.CardDescription,{children:"How students scored across ranges"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(S.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(w.BarChart,{data:U,children:[(0,t.jsx)(A.CartesianGrid,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,t.jsx)(C.XAxis,{dataKey:"range",fontSize:12}),(0,t.jsx)(P.YAxis,{allowDecimals:!1,fontSize:12}),(0,t.jsx)(E.Tooltip,{}),(0,t.jsx)(O.Bar,{dataKey:"count",name:"Students",radius:[4,4,0,0],children:U.map((e,r)=>(0,t.jsx)(T.Cell,{fill:tr[r]},r))})]})})})})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Answer Accuracy"}),(0,t.jsx)(n.CardDescription,{children:"Correct vs incorrect across all questions"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(S.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(K,{children:[(0,t.jsx)(eq,{data:Q,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",label:({name:e,percent:t})=>`${e} ${((t??0)*100).toFixed(0)}%`,children:Q.map((e,r)=>(0,t.jsx)(T.Cell,{fill:e.color},r))}),(0,t.jsx)(E.Tooltip,{}),(0,t.jsx)(tt,{})]})})})})]})]})}),(0,t.jsx)(i.TabsContent,{value:"questions",className:"space-y-4",children:0===F.length?(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(y.FileQuestion,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No per-question data yet"})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Correct Rate by Question"}),(0,t.jsx)(n.CardDescription,{children:"Percentage of students who answered each question correctly"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"h-72",children:(0,t.jsx)(S.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(w.BarChart,{data:F.map((e,t)=>({name:`Q${t+1}`,correctRate:e.correctRate,fill:e.needsReview?"#ef4444":e.correctRate>=80?"#22c55e":"#eab308"})),children:[(0,t.jsx)(A.CartesianGrid,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,t.jsx)(C.XAxis,{dataKey:"name",fontSize:12}),(0,t.jsx)(P.YAxis,{domain:[0,100],fontSize:12,unit:"%"}),(0,t.jsx)(E.Tooltip,{formatter:e=>`${e??0}%`}),(0,t.jsx)(O.Bar,{dataKey:"correctRate",name:"Correct %",radius:[4,4,0,0],children:F.map((e,r)=>(0,t.jsx)(T.Cell,{fill:e.needsReview?"#ef4444":e.correctRate>=80?"#22c55e":"#eab308"},r))})]})})})})]}),F.map((e,r)=>(0,t.jsx)(n.Card,{className:e.needsReview?"border-red-200":"",children:(0,t.jsx)(n.CardContent,{className:"pt-5 pb-4",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("span",{className:"font-bold text-gray-700",children:["Q",r+1]}),(0,t.jsx)(s.Badge,{variant:"outline",className:"capitalize text-xs",children:e.questionType}),e.needsReview&&(0,t.jsxs)(s.Badge,{className:"bg-red-100 text-red-700 border-red-200 text-xs gap-1",children:[(0,t.jsx)(p.AlertTriangle,{className:"h-3 w-3"})," Needs Review"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.questionText}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(c.Progress,{value:e.correctRate,className:`h-2 flex-1 ${e.needsReview?"[&>div]:bg-red-500":e.correctRate>=80?"[&>div]:bg-green-500":"[&>div]:bg-amber-500"}`}),(0,t.jsxs)("span",{className:`text-sm font-bold ${e.correctRate>=80?"text-green-600":e.correctRate>=50?"text-amber-600":"text-red-600"}`,children:[e.correctRate,"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:[e.correctCount,"/",e.totalAttempts," correct"]}),(0,t.jsxs)("span",{children:["Avg: ",e.avgPoints,"/",e.maxPoints," pts"]}),null!==e.avgTimeSec&&(0,t.jsxs)("span",{children:["Avg time: ",tn(e.avgTimeSec)]})]}),e.commonWrongAnswers.length>0&&(0,t.jsxs)("div",{className:"mt-3 p-3 bg-red-50 rounded-lg border border-red-100",children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-red-700 mb-1.5 flex items-center gap-1",children:[(0,t.jsx)(b.Lightbulb,{className:"h-3 w-3"})," Common wrong answers"]}),e.commonWrongAnswers.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-red-600",children:[(0,t.jsx)(x.XCircle,{className:"h-3 w-3 flex-shrink-0"}),(0,t.jsxs)("span",{className:"truncate",children:['"',e.answer,'"']}),(0,t.jsxs)("span",{className:"text-red-400",children:["(",e.count," students)"]})]},r))]})]})})})},e.questionId))]})}),(0,t.jsx)(i.TabsContent,{value:"students",className:"space-y-4",children:(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Student Scores"}),(0,t.jsxs)(n.CardDescription,{children:[W.length," submissions"]})]}),(0,t.jsx)(n.CardContent,{children:0===W.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(u.Users,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No submissions yet"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Student"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Score"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"%"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Time"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Submitted"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Status"})]})}),(0,t.jsx)("tbody",{children:W.sort((e,t)=>t.score-e.score).map(e=>{let r=e.maxScore>0?Math.round(e.score/e.maxScore*100):0;return(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)(j.default,{href:`/tutor/reports/${e.studentId}`,className:"text-blue-600 hover:underline font-medium",children:e.studentName})}),(0,t.jsxs)("td",{className:"p-3",children:[Math.round(e.score),"/",e.maxScore]}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("span",{className:`font-bold ${ta(r)}`,children:[r,"%"]})}),(0,t.jsx)("td",{className:"p-3 text-gray-500",children:tn(e.timeSpent)}),(0,t.jsx)("td",{className:"p-3 text-gray-500",children:new Date(e.submittedAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)(s.Badge,{className:"graded"===e.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700",children:e.status})})]},e.studentId)})})]})})})]})})]})]})})}e.s(["default",()=>tl],601636)}]);

//# debugId=247cebc0-f6f4-add9-7b56-8a97bae91648
//# sourceMappingURL=bb819eddfcb1fa34.js.map