{
  "version": 3,
  "sources": [],
  "debugId": "8d97f4ef-09f3-189e-8133-78fcfe0b4f55",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazy/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/%5Blocale%5D/tutor/dashboard/components/InteractiveCalendar.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useMemo, useEffect, useCallback } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Switch } from '@/components/ui/switch'\nimport { cn } from '@/lib/utils'\nimport { toast } from 'sonner'\n\n// DnD Kit imports\nimport {\n  DndContext,\n  DragOverlay,\n  closestCorners,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragStartEvent,\n  DragEndEvent,\n  useDraggable,\n  useDroppable,\n} from '@dnd-kit/core'\nimport { CSS } from '@dnd-kit/utilities'\n\nimport {\n  ChevronLeft,\n  ChevronRight,\n  Calendar as CalendarIcon,\n  Clock,\n  Users,\n  Plus,\n  MapPin,\n  Video,\n  MoreVertical,\n  Edit,\n  Trash2,\n  AlertCircle,\n  Filter,\n  Bell,\n  Repeat,\n  X,\n  CheckCircle2,\n  AlertTriangle,\n  GripVertical,\n  CalendarPlus,\n  RefreshCw,\n  ExternalLink,\n  Copy,\n  Layers\n} from 'lucide-react'\n\n// Date manipulation\nimport {\n  addDays,\n  addWeeks,\n  format,\n  isSameDay,\n  startOfWeek,\n  eachDayOfInterval,\n  isWithinInterval\n} from 'date-fns'\n\ninterface CalendarEvent {\n  id: string\n  title: string\n  date: Date\n  duration: number\n  type: 'class' | 'office_hours' | 'personal' | 'deadline'\n  status: 'scheduled' | 'live' | 'completed' | 'cancelled'\n  studentCount?: number\n  maxStudents?: number\n  subject?: string\n  location?: string\n  isOnline?: boolean\n  description?: string\n  color?: string\n  isRecurring?: boolean\n  recurringPattern?: 'daily' | 'weekly' | 'biweekly' | 'monthly'\n}\n\ninterface AvailabilityBlock {\n  id: string\n  dayOfWeek: number\n  startTime: string\n  endTime: string\n  isAvailable: boolean\n}\n\ninterface CalendarConnection {\n  id: string\n  provider: 'google' | 'outlook' | 'apple'\n  connected: boolean\n  email?: string\n  lastSynced?: Date\n  syncEnabled: boolean\n}\n\ninterface InteractiveCalendarProps {\n  events?: CalendarEvent[]\n  onEventClick?: (event: CalendarEvent) => void\n  onDateClick?: (date: Date) => void\n  onCreateClass?: (date: Date) => void\n  onEventUpdate?: (event: CalendarEvent) => void\n  loading?: boolean\n}\n\nconst SUBJECTS = [\n  { name: 'Mathematics', color: 'bg-blue-500' },\n  { name: 'Physics', color: 'bg-purple-500' },\n  { name: 'English', color: 'bg-green-500' },\n  { name: 'Chemistry', color: 'bg-orange-500' },\n  { name: 'Biology', color: 'bg-pink-500' },\n  { name: 'History', color: 'bg-red-500' },\n  { name: 'Office Hours', color: 'bg-gray-500' }\n]\n\nconst generateDemoEvents = (): CalendarEvent[] => {\n  const today = new Date()\n  const events: CalendarEvent[] = []\n\n  // Generate recurring weekly classes\n  const recurringClasses = [\n    { title: 'Advanced Mathematics', subject: 'Mathematics', duration: 60, students: 12, max: 20, day: 1, time: 14, color: 'bg-blue-500', isRecurring: true, pattern: 'weekly' as const },\n    { title: 'Physics 101', subject: 'Physics', duration: 90, students: 8, max: 15, day: 2, time: 16, color: 'bg-purple-500', isRecurring: true, pattern: 'weekly' as const },\n    { title: 'English Literature', subject: 'English', duration: 60, students: 15, max: 25, day: 3, time: 14, color: 'bg-green-500', isRecurring: true, pattern: 'weekly' as const },\n    { title: 'Chemistry Lab', subject: 'Chemistry', duration: 120, students: 6, max: 10, day: 4, time: 15, color: 'bg-orange-500', isRecurring: true, pattern: 'weekly' as const },\n    { title: 'Office Hours', subject: 'Office Hours', duration: 60, students: 0, max: 5, day: 5, time: 17, color: 'bg-gray-500', type: 'office_hours' as const, isRecurring: true, pattern: 'weekly' as const },\n  ]\n\n  // Generate 4 weeks of recurring classes\n  for (let week = 0; week < 4; week++) {\n    recurringClasses.forEach((cls, idx) => {\n      const eventDate = new Date(today)\n      eventDate.setDate(today.getDate() - today.getDay() + cls.day + (week * 7))\n      eventDate.setHours(cls.time, 0, 0, 0)\n\n      if (eventDate >= new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)) {\n        events.push({\n          id: `recurring-${week}-${idx}`,\n          title: cls.title,\n          date: eventDate,\n          duration: cls.duration,\n          type: cls.type || 'class',\n          status: eventDate < today ? 'completed' : 'scheduled',\n          studentCount: cls.students,\n          maxStudents: cls.max,\n          subject: cls.subject,\n          isOnline: Math.random() > 0.3,\n          description: `Regular ${cls.pattern} class session`,\n          color: cls.color,\n          isRecurring: cls.isRecurring,\n          recurringPattern: cls.pattern\n        })\n      }\n    })\n  }\n\n  // Add some one-time events\n  events.push({\n    id: 'special-1',\n    title: 'Parent-Teacher Meeting',\n    date: new Date(today.getTime() + 2 * 24 * 60 * 60 * 1000),\n    duration: 60,\n    type: 'personal',\n    status: 'scheduled',\n    subject: 'Office Hours',\n    color: 'bg-red-500'\n  })\n\n  return events\n}\n\nconst generateAvailability = (): AvailabilityBlock[] => [\n  { id: '1', dayOfWeek: 1, startTime: '09:00', endTime: '12:00', isAvailable: true },\n  { id: '2', dayOfWeek: 1, startTime: '14:00', endTime: '18:00', isAvailable: true },\n  { id: '3', dayOfWeek: 2, startTime: '09:00', endTime: '12:00', isAvailable: true },\n  { id: '4', dayOfWeek: 2, startTime: '14:00', endTime: '18:00', isAvailable: true },\n  { id: '5', dayOfWeek: 3, startTime: '09:00', endTime: '12:00', isAvailable: true },\n  { id: '6', dayOfWeek: 3, startTime: '14:00', endTime: '18:00', isAvailable: true },\n  { id: '7', dayOfWeek: 4, startTime: '09:00', endTime: '12:00', isAvailable: true },\n  { id: '8', dayOfWeek: 4, startTime: '14:00', endTime: '18:00', isAvailable: true },\n  { id: '9', dayOfWeek: 5, startTime: '09:00', endTime: '12:00', isAvailable: true },\n  { id: '10', dayOfWeek: 5, startTime: '14:00', endTime: '17:00', isAvailable: true },\n]\n\ntype CalendarView = 'month' | 'week' | 'day' | 'availability'\n\n// Draggable Event Component\nfunction DraggableEvent({\n  event,\n  onClick,\n  hasConflict,\n  style = {}\n}: {\n  event: CalendarEvent\n  onClick: () => void\n  hasConflict?: boolean\n  style?: React.CSSProperties\n}) {\n  const { attributes, listeners, setNodeRef, transform, isDragging } = useDraggable({\n    id: event.id,\n    data: { event }\n  })\n\n  const cssTransform = CSS.Transform.toString(transform)\n\n  return (\n    <div\n      ref={setNodeRef}\n      {...listeners}\n      {...attributes}\n      style={{\n        ...style,\n        transform: cssTransform,\n        opacity: isDragging ? 0.5 : 1,\n        cursor: 'grab'\n      }}\n      className={cn(\n        \"absolute left-1 right-1 rounded p-2 cursor-pointer text-xs overflow-hidden group\",\n        event.color || 'bg-blue-500',\n        event.status === 'cancelled' && \"opacity-50\",\n        hasConflict && \"ring-2 ring-red-500 ring-offset-1\"\n      )}\n      onClick={(e) => {\n        e.stopPropagation()\n        onClick()\n      }}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"font-medium text-white truncate\">{event.title}</p>\n          <p className=\"text-white/80\">\n            {event.date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n          </p>\n        </div>\n        <GripVertical className=\"w-3 h-3 text-white/50 opacity-0 group-hover:opacity-100 transition-opacity\" />\n      </div>\n      {hasConflict && (\n        <AlertTriangle className=\"w-3 h-3 text-white absolute top-1 right-1\" />\n      )}\n    </div>\n  )\n}\n\nexport function InteractiveCalendar({\n  events: initialEvents,\n  onEventClick,\n  onDateClick,\n  onCreateClass,\n  onEventUpdate,\n  loading\n}: InteractiveCalendarProps) {\n  const [events, setEvents] = useState<CalendarEvent[]>(initialEvents || generateDemoEvents())\n  const [availability, setAvailability] = useState<AvailabilityBlock[]>(generateAvailability())\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [view, setView] = useState<CalendarView>('month')\n  const [selectedEvent, setSelectedEvent] = useState<CalendarEvent | null>(null)\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null)\n  const [subjectFilter, setSubjectFilter] = useState<string>('all')\n  const [typeFilter, setTypeFilter] = useState<string>('all')\n  const [showConflictWarning, setShowConflictWarning] = useState<CalendarEvent[]>([])\n  const [notifications, setNotifications] = useState<string[]>([])\n\n  // New feature states\n  const [showBatchModal, setShowBatchModal] = useState(false)\n  const [showCalendarIntegrations, setShowCalendarIntegrations] = useState(false)\n  const [activeDragEvent, setActiveDragEvent] = useState<CalendarEvent | null>(null)\n  const [calendarConnections, setCalendarConnections] = useState<CalendarConnection[]>([\n    { id: '1', provider: 'google', connected: false, syncEnabled: true },\n    { id: '2', provider: 'outlook', connected: false, syncEnabled: true },\n    { id: '3', provider: 'apple', connected: false, syncEnabled: false },\n  ])\n\n  // DnD Sensors\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: (event: any) => {\n        const { active } = event\n        const node = active?.rect?.current?.translated\n        return node ? { x: node.left, y: node.top } : { x: 0, y: 0 }\n      },\n    })\n  )\n\n  // Check for conflicts\n  useEffect(() => {\n    const conflicts: CalendarEvent[] = []\n    events.forEach((event1, i) => {\n      events.forEach((event2, j) => {\n        if (i >= j) return\n        if (event1.date.toDateString() === event2.date.toDateString()) {\n          const start1 = event1.date.getTime()\n          const end1 = start1 + event1.duration * 60000\n          const start2 = event2.date.getTime()\n          const end2 = start2 + event2.duration * 60000\n\n          if ((start1 < end2 && end1 > start2)) {\n            conflicts.push(event1, event2)\n          }\n        }\n      })\n    })\n\n    const uniqueConflicts = Array.from(new Set(conflicts))\n    if (uniqueConflicts.length > 0) {\n      setShowConflictWarning(uniqueConflicts)\n    }\n  }, [events])\n\n  // Upcoming notifications\n  useEffect(() => {\n    const upcoming = events.filter(e => {\n      const timeDiff = e.date.getTime() - new Date().getTime()\n      return timeDiff > 0 && timeDiff < 24 * 60 * 60 * 1000 && e.status === 'scheduled'\n    })\n\n    if (upcoming.length > 0) {\n      setNotifications(upcoming.map(e => `${e.title} at ${e.date.toLocaleTimeString()}`))\n    }\n  }, [events])\n\n  const filteredEvents = useMemo(() => {\n    return events.filter(event => {\n      const matchesSubject = subjectFilter === 'all' || event.subject === subjectFilter\n      const matchesType = typeFilter === 'all' || event.type === typeFilter\n      return matchesSubject && matchesType\n    })\n  }, [events, subjectFilter, typeFilter])\n\n  const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December']\n\n  const calendarDays = useMemo(() => {\n    const year = currentDate.getFullYear()\n    const month = currentDate.getMonth()\n\n    const firstDay = new Date(year, month, 1)\n    const lastDay = new Date(year, month + 1, 0)\n    const daysInMonth = lastDay.getDate()\n    const startingDayOfWeek = firstDay.getDay()\n\n    const days: (Date | null)[] = []\n\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      days.push(null)\n    }\n\n    for (let i = 1; i <= daysInMonth; i++) {\n      days.push(new Date(year, month, i))\n    }\n\n    return days\n  }, [currentDate])\n\n  const getEventsForDate = (date: Date) => {\n    return filteredEvents.filter(event => {\n      const eventDate = new Date(event.date)\n      return eventDate.toDateString() === date.toDateString()\n    }).sort((a, b) => a.date.getTime() - b.date.getTime())\n  }\n\n  const navigateMonth = (direction: number) => {\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + direction, 1))\n  }\n\n  const goToToday = () => {\n    setCurrentDate(new Date())\n  }\n\n  const handleDateClick = (date: Date) => {\n    setSelectedDate(date)\n    onDateClick?.(date)\n  }\n\n  const handleEventClick = (event: CalendarEvent) => {\n    setSelectedEvent(event)\n    onEventClick?.(event)\n  }\n\n  const isToday = (date: Date) => {\n    return date.toDateString() === new Date().toDateString()\n  }\n\n  const toggleAvailability = (id: string) => {\n    setAvailability(prev => prev.map(block =>\n      block.id === id ? { ...block, isAvailable: !block.isAvailable } : block\n    ))\n  }\n\n  // DnD Handlers\n  const handleDragStart = useCallback((event: DragStartEvent) => {\n    const { active } = event\n    const draggedEvent = events.find(e => e.id === active.id)\n    if (draggedEvent) {\n      setActiveDragEvent(draggedEvent)\n    }\n  }, [events])\n\n  const handleDragEnd = useCallback((event: DragEndEvent) => {\n    const { active, over } = event\n\n    if (over && active.id !== over.id) {\n      const draggedEvent = events.find(e => e.id === active.id)\n      const dropData = over.data.current as { date?: Date; hour?: number } | undefined\n\n      if (draggedEvent && dropData?.date) {\n        const newDate = new Date(dropData.date)\n        if (dropData.hour !== undefined) {\n          newDate.setHours(dropData.hour, draggedEvent.date.getMinutes(), 0, 0)\n        } else {\n          newDate.setHours(draggedEvent.date.getHours(), draggedEvent.date.getMinutes(), 0, 0)\n        }\n\n        const updatedEvent = { ...draggedEvent, date: newDate }\n\n        setEvents(prev => prev.map(e => e.id === draggedEvent.id ? updatedEvent : e))\n        onEventUpdate?.(updatedEvent)\n        toast.success(`Rescheduled: ${draggedEvent.title} to ${format(newDate, 'MMM d, h:mm a')}`)\n      }\n    }\n\n    setActiveDragEvent(null)\n  }, [events, onEventUpdate])\n\n  // Calendar Integration Handlers\n  const connectCalendar = (provider: 'google' | 'outlook' | 'apple') => {\n    // In real implementation, this would open OAuth flow\n    toast.loading(`Connecting to ${provider} calendar...`)\n\n    // Simulate connection\n    setTimeout(() => {\n      setCalendarConnections(prev => prev.map(conn =>\n        conn.provider === provider\n          ? { ...conn, connected: true, email: `tutor@${provider}.com`, lastSynced: new Date() }\n          : conn\n      ))\n      toast.success(`Connected to ${provider} calendar!`)\n    }, 1500)\n  }\n\n  const disconnectCalendar = (provider: string) => {\n    setCalendarConnections(prev => prev.map(conn =>\n      conn.provider === provider\n        ? { ...conn, connected: false, email: undefined, lastSynced: undefined }\n        : conn\n    ))\n    toast.success(`Disconnected from ${provider}`)\n  }\n\n  const syncCalendars = () => {\n    toast.loading('Syncing calendars...')\n    setTimeout(() => {\n      setCalendarConnections(prev => prev.map(conn =>\n        conn.connected ? { ...conn, lastSynced: new Date() } : conn\n      ))\n      toast.success('Calendars synced!')\n    }, 2000)\n  }\n\n  if (loading) {\n    return (\n      <Card className=\"h-[600px]\">\n        <CardContent className=\"flex items-center justify-center h-full\">\n          <div className=\"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full\" />\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCorners}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n    >\n      <Card className=\"h-full\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between flex-wrap gap-4\">\n            <div className=\"flex items-center gap-4\">\n              <CardTitle className=\"text-xl flex items-center gap-2\">\n                <CalendarIcon className=\"w-5 h-5 text-blue-500\" />\n                Calendar\n                {notifications.length > 0 && (\n                  <Badge variant=\"destructive\" className=\"text-xs\">\n                    <Bell className=\"w-3 h-3 mr-1\" />\n                    {notifications.length}\n                  </Badge>\n                )}\n              </CardTitle>\n              <div className=\"flex items-center gap-2\">\n                <Button variant=\"outline\" size=\"icon\" onClick={() => navigateMonth(-1)}>\n                  <ChevronLeft className=\"w-4 h-4\" />\n                </Button>\n                <h2 className=\"text-lg font-semibold min-w-[150px] text-center\">\n                  {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}\n                </h2>\n                <Button variant=\"outline\" size=\"icon\" onClick={() => navigateMonth(1)}>\n                  <ChevronRight className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={goToToday}>\n                Today\n              </Button>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              {/* Calendar Integrations */}\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setShowCalendarIntegrations(true)}\n              >\n                <RefreshCw className={cn(\n                  \"w-4 h-4 mr-2\",\n                  calendarConnections.some(c => c.connected) && \"text-green-500\"\n                )} />\n                Sync\n              </Button>\n\n              {/* Batch Create */}\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setShowBatchModal(true)}\n              >\n                <Layers className=\"w-4 h-4 mr-2\" />\n                Batch\n              </Button>\n\n              {/* Filters */}\n              <Select value={subjectFilter} onValueChange={setSubjectFilter}>\n                <SelectTrigger className=\"w-36\">\n                  <Filter className=\"w-4 h-4 mr-2\" />\n                  <SelectValue placeholder=\"Filter\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Subjects</SelectItem>\n                  {SUBJECTS.map(s => (\n                    <SelectItem key={s.name} value={s.name}>{s.name}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              {/* View Toggle */}\n              <div className=\"flex bg-gray-100 rounded-lg p-1\">\n                {(['month', 'week', 'day', 'availability'] as CalendarView[]).map((v) => (\n                  <button\n                    key={v}\n                    onClick={() => setView(v)}\n                    className={cn(\n                      \"px-3 py-1 rounded-md text-sm font-medium transition-colors capitalize\",\n                      view === v ? \"bg-white shadow-sm\" : \"text-gray-600 hover:text-gray-900\"\n                    )}\n                  >\n                    {v === 'availability' ? 'My Availability' : v}\n                  </button>\n                ))}\n              </div>\n\n              <Button onClick={() => onCreateClass?.(selectedDate || new Date())}>\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Add\n              </Button>\n            </div>\n          </div>\n\n          {/* Conflict Warning Banner */}\n          {showConflictWarning.length > 0 && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3\">\n              <AlertTriangle className=\"w-5 h-5 text-red-500\" />\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-red-800\">\n                  {showConflictWarning.length / 2} scheduling conflicts detected\n                </p>\n                <p className=\"text-xs text-red-600\">\n                  Some classes overlap in time. Drag events to reschedule or click &quot;View&quot; to see conflicts.\n                </p>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={() => setView('week')}>\n                View\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\" onClick={() => setShowConflictWarning([])}>\n                <X className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          )}\n\n          {/* Legend */}\n          <div className=\"flex items-center gap-4 mt-4 text-sm flex-wrap\">\n            {SUBJECTS.map((subject) => (\n              <button\n                key={subject.name}\n                onClick={() => setSubjectFilter(subjectFilter === subject.name ? 'all' : subject.name)}\n                className={cn(\n                  \"flex items-center gap-1 px-2 py-1 rounded-full transition-colors\",\n                  subjectFilter === subject.name ? \"bg-gray-200\" : \"hover:bg-gray-100\"\n                )}\n              >\n                <div className={cn(\"w-3 h-3 rounded-full\", subject.color)} />\n                <span>{subject.name}</span>\n              </button>\n            ))}\n            {subjectFilter !== 'all' && (\n              <Button variant=\"ghost\" size=\"sm\" onClick={() => setSubjectFilter('all')}>\n                Clear Filter\n              </Button>\n            )}\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"pt-0\">\n          {view === 'month' && (\n            <MonthView\n              days={calendarDays}\n              events={filteredEvents}\n              onDateClick={handleDateClick}\n              onEventClick={handleEventClick}\n              isToday={isToday}\n              getEventsForDate={getEventsForDate}\n              conflicts={showConflictWarning}\n            />\n          )}\n\n          {view === 'week' && (\n            <WeekView\n              currentDate={currentDate}\n              events={filteredEvents}\n              onEventClick={handleEventClick}\n              onDateClick={handleDateClick}\n              conflicts={showConflictWarning}\n            />\n          )}\n\n          {view === 'day' && (\n            <DayView\n              currentDate={currentDate}\n              events={filteredEvents}\n              onEventClick={handleEventClick}\n              conflicts={showConflictWarning}\n            />\n          )}\n\n          {view === 'availability' && (\n            <AvailabilityView\n              availability={availability}\n              onToggle={toggleAvailability}\n              onSave={() => {\n                toast.success('Availability updated!')\n                setView('month')\n              }}\n            />\n          )}\n        </CardContent>\n\n        {/* Event Detail Dialog */}\n        <Dialog open={!!selectedEvent} onOpenChange={() => setSelectedEvent(null)}>\n          <DialogContent className=\"sm:max-w-lg\">\n            {selectedEvent && (\n              <>\n                <DialogHeader>\n                  <div className=\"flex items-start justify-between\">\n                    <div>\n                      <DialogTitle className=\"text-xl\">{selectedEvent.title}</DialogTitle>\n                      <DialogDescription className=\"mt-1\">\n                        {selectedEvent.subject} • {selectedEvent.duration} minutes\n                      </DialogDescription>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Badge className={cn(selectedEvent.color || 'bg-blue-500')}>\n                        {selectedEvent.type}\n                      </Badge>\n                      {selectedEvent.isRecurring && (\n                        <Badge variant=\"outline\" className=\"gap-1\">\n                          <Repeat className=\"w-3 h-3\" />\n                          {selectedEvent.recurringPattern}\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                </DialogHeader>\n\n                <div className=\"space-y-4 py-4\">\n                  <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\n                    <Clock className=\"w-5 h-5 text-gray-500\" />\n                    <div>\n                      <p className=\"font-medium\">\n                        {selectedEvent.date.toLocaleDateString('en-US', {\n                          weekday: 'long',\n                          month: 'long',\n                          day: 'numeric'\n                        })}\n                      </p>\n                      <p className=\"text-sm text-gray-500\">\n                        {selectedEvent.date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })} -\n                        {new Date(selectedEvent.date.getTime() + selectedEvent.duration * 60000).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n                      </p>\n                    </div>\n                  </div>\n\n                  {selectedEvent.type === 'class' && (\n                    <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\n                      <Users className=\"w-5 h-5 text-gray-500\" />\n                      <div>\n                        <p className=\"font-medium\">\n                          {selectedEvent.studentCount} / {selectedEvent.maxStudents} students enrolled\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {selectedEvent.maxStudents && selectedEvent.studentCount &&\n                            selectedEvent.maxStudents - selectedEvent.studentCount} spots remaining\n                        </p>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\n                    {selectedEvent.isOnline ? (\n                      <Video className=\"w-5 h-5 text-gray-500\" />\n                    ) : (\n                      <MapPin className=\"w-5 h-5 text-gray-500\" />\n                    )}\n                    <p className=\"font-medium\">\n                      {selectedEvent.isOnline ? 'Online Class' : 'In-Person'}\n                    </p>\n                  </div>\n\n                  {/* Conflict Warning in Detail */}\n                  {showConflictWarning.find(e => e.id === selectedEvent.id) && (\n                    <div className=\"flex items-center gap-2 p-3 bg-red-50 text-red-700 rounded-lg\">\n                      <AlertTriangle className=\"w-5 h-5\" />\n                      <span>This class has a scheduling conflict!</span>\n                    </div>\n                  )}\n                </div>\n\n                <DialogFooter className=\"gap-2\">\n                  <Button variant=\"outline\" onClick={() => setSelectedEvent(null)}>\n                    Close\n                  </Button>\n                  {selectedEvent.isRecurring && (\n                    <Button variant=\"outline\">\n                      <Repeat className=\"w-4 h-4 mr-2\" />\n                      Edit Series\n                    </Button>\n                  )}\n                  <Button\n                    className=\"bg-gradient-to-r from-purple-600 to-blue-600\"\n                    onClick={() => {\n                      toast.success('Joining class...')\n                      setSelectedEvent(null)\n                    }}\n                  >\n                    <Video className=\"w-4 h-4 mr-2\" />\n                    Join Class\n                  </Button>\n                </DialogFooter>\n              </>\n            )}\n          </DialogContent>\n        </Dialog>\n\n        {/* Date Selection Dialog */}\n        <Dialog open={!!selectedDate && !selectedEvent} onOpenChange={() => setSelectedDate(null)}>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle>\n                {selectedDate?.toLocaleDateString('en-US', {\n                  weekday: 'long',\n                  month: 'long',\n                  day: 'numeric'\n                })}\n              </DialogTitle>\n              <DialogDescription>\n                {getEventsForDate(selectedDate || new Date()).length} events scheduled\n              </DialogDescription>\n            </DialogHeader>\n\n            <div className=\"space-y-3 py-4\">\n              {getEventsForDate(selectedDate || new Date()).map((event) => (\n                <div\n                  key={event.id}\n                  className=\"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer\"\n                  onClick={() => {\n                    setSelectedDate(null)\n                    handleEventClick(event)\n                  }}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className={cn(\"w-3 h-3 rounded-full\", event.color || 'bg-blue-500')} />\n                    <div className=\"flex-1\">\n                      <p className=\"font-medium\">{event.title}</p>\n                      <p className=\"text-sm text-gray-500\">\n                        {event.date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n                      </p>\n                    </div>\n                    {showConflictWarning.find(e => e.id === event.id) && (\n                      <AlertTriangle className=\"w-4 h-4 text-red-500\" />\n                    )}\n                    <ChevronRight className=\"w-4 h-4 text-gray-400\" />\n                  </div>\n                </div>\n              ))}\n\n              {getEventsForDate(selectedDate || new Date()).length === 0 && (\n                <p className=\"text-center text-gray-500 py-4\">No events scheduled for this day</p>\n              )}\n            </div>\n\n            <DialogFooter>\n              <Button variant=\"outline\" onClick={() => setSelectedDate(null)}>\n                Close\n              </Button>\n              <Button onClick={() => {\n                onCreateClass?.(selectedDate || new Date())\n                setSelectedDate(null)\n              }}>\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Schedule Class\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n\n        {/* Calendar Integrations Modal */}\n        <Dialog open={showCalendarIntegrations} onOpenChange={setShowCalendarIntegrations}>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle className=\"flex items-center gap-2\">\n                <RefreshCw className=\"w-5 h-5\" />\n                Calendar Integrations\n              </DialogTitle>\n              <DialogDescription>\n                Sync your schedule with external calendars\n              </DialogDescription>\n            </DialogHeader>\n\n            <div className=\"space-y-4 py-4\">\n              {calendarConnections.map((connection) => (\n                <div\n                  key={connection.id}\n                  className={cn(\n                    \"p-4 border rounded-lg transition-colors\",\n                    connection.connected ? \"border-green-200 bg-green-50/50\" : \"border-gray-200\"\n                  )}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className={cn(\n                        \"w-10 h-10 rounded-lg flex items-center justify-center\",\n                        connection.provider === 'google' && \"bg-blue-100 text-blue-600\",\n                        connection.provider === 'outlook' && \"bg-blue-600 text-white\",\n                        connection.provider === 'apple' && \"bg-gray-900 text-white\"\n                      )}>\n                        {connection.provider === 'google' && <CalendarIcon className=\"w-5 h-5\" />}\n                        {connection.provider === 'outlook' && <ExternalLink className=\"w-5 h-5\" />}\n                        {connection.provider === 'apple' && <CalendarIcon className=\"w-5 h-5\" />}\n                      </div>\n                      <div>\n                        <p className=\"font-medium capitalize\">{connection.provider} Calendar</p>\n                        {connection.connected ? (\n                          <p className=\"text-xs text-green-600 flex items-center gap-1\">\n                            <CheckCircle2 className=\"w-3 h-3\" />\n                            Connected{connection.email && ` • ${connection.email}`}\n                          </p>\n                        ) : (\n                          <p className=\"text-xs text-gray-500\">Not connected</p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2\">\n                      {connection.connected ? (\n                        <>\n                          <Switch\n                            checked={connection.syncEnabled}\n                            onCheckedChange={(checked) => {\n                              setCalendarConnections(prev => prev.map(c =>\n                                c.id === connection.id ? { ...c, syncEnabled: checked } : c\n                              ))\n                            }}\n                          />\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => disconnectCalendar(connection.provider)}\n                          >\n                            <X className=\"w-4 h-4\" />\n                          </Button>\n                        </>\n                      ) : (\n                        <Button\n                          size=\"sm\"\n                          onClick={() => connectCalendar(connection.provider)}\n                        >\n                          Connect\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n\n                  {connection.connected && connection.lastSynced && (\n                    <p className=\"text-xs text-gray-500 mt-2\">\n                      Last synced: {format(connection.lastSynced, 'MMM d, h:mm a')}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            <DialogFooter className=\"gap-2\">\n              <Button variant=\"outline\" onClick={() => setShowCalendarIntegrations(false)}>\n                Close\n              </Button>\n              <Button onClick={syncCalendars} className=\"gap-2\">\n                <RefreshCw className=\"w-4 h-4\" />\n                Sync All\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n\n        {/* Batch Class Creation Modal */}\n        <BatchClassModal\n          open={showBatchModal}\n          onClose={() => setShowBatchModal(false)}\n          onCreate={(newEvents) => {\n            setEvents(prev => [...prev, ...newEvents])\n            toast.success(`Created ${newEvents.length} classes!`)\n          }}\n        />\n\n        {/* Drag Overlay */}\n        <DragOverlay>\n          {activeDragEvent ? (\n            <div className={cn(\n              \"p-2 rounded text-xs opacity-90 shadow-lg\",\n              activeDragEvent.color || 'bg-blue-500'\n            )}>\n              <p className=\"font-medium text-white\">{activeDragEvent.title}</p>\n            </div>\n          ) : null}\n        </DragOverlay>\n      </Card>\n    </DndContext>\n  )\n}\n\n// Sub-components\n\nfunction DroppableDay({ date, children, className }: { date: Date; children: React.ReactNode; className?: string }) {\n  const { setNodeRef, isOver } = useDroppable({\n    id: `day-${format(date, 'yyyy-MM-dd')}`,\n    data: { date }\n  })\n\n  return (\n    <div\n      ref={setNodeRef}\n      className={cn(\n        className,\n        isOver && \"bg-blue-50 ring-2 ring-blue-400 ring-inset\"\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n\nfunction DroppableHour({ date, hour, children, className }: { date: Date; hour: number; children?: React.ReactNode; className?: string }) {\n  const { setNodeRef, isOver } = useDroppable({\n    id: `hour-${format(date, 'yyyy-MM-dd')}-${hour}`,\n    data: { date, hour }\n  })\n\n  return (\n    <div\n      ref={setNodeRef}\n      className={cn(\n        className,\n        isOver && \"bg-blue-50/50\"\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n\nfunction MonthView({ days, events, onDateClick, onEventClick, isToday, getEventsForDate, conflicts }: any) {\n  return (\n    <div className=\"border rounded-lg overflow-hidden\">\n      <div className=\"grid grid-cols-7 bg-gray-50 border-b\">\n        {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map((day) => (\n          <div key={day} className=\"p-2 text-center text-sm font-medium text-gray-600\">\n            {day}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-7\">\n        {days.map((date: Date | null, index: number) => (\n          <DroppableDay\n            key={index}\n            date={date || new Date()}\n            className={cn(\n              \"min-h-[100px] p-2 border-r border-b last:border-r-0\",\n              !date && \"bg-gray-50/50\",\n              date && \"hover:bg-gray-50 cursor-pointer\"\n            )}\n          >\n            {date && (\n              <div onClick={() => onDateClick(date)}>\n                <div className={cn(\n                  \"text-sm font-medium mb-1 w-7 h-7 flex items-center justify-center rounded-full\",\n                  isToday(date) && \"bg-blue-600 text-white\"\n                )}>\n                  {date.getDate()}\n                </div>\n                <div className=\"space-y-1\">\n                  {getEventsForDate(date).slice(0, 3).map((event: CalendarEvent) => {\n                    const hasConflict = conflicts.find((e: CalendarEvent) => e.id === event.id)\n                    return (\n                      <div\n                        key={event.id}\n                        className={cn(\n                          \"text-xs p-1.5 rounded cursor-pointer truncate\",\n                          event.color || 'bg-blue-100',\n                          event.status === 'cancelled' && \"opacity-50 line-through\",\n                          hasConflict && \"ring-1 ring-red-400\"\n                        )}\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          onEventClick(event)\n                        }}\n                      >\n                        <div className=\"flex items-center gap-1\">\n                          <div className={cn(\"w-1.5 h-1.5 rounded-full\", event.color?.replace('bg-', 'bg-opacity-100 ') || 'bg-blue-500')} />\n                          <span className=\"font-medium truncate\">\n                            {event.date.getHours()}:{event.date.getMinutes().toString().padStart(2, '0')} {event.title}\n                          </span>\n                        </div>\n                      </div>\n                    )\n                  })}\n                  {getEventsForDate(date).length > 3 && (\n                    <p className=\"text-xs text-gray-500 pl-1\">\n                      +{getEventsForDate(date).length - 3} more\n                    </p>\n                  )}\n                </div>\n              </div>\n            )}\n          </DroppableDay>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nfunction WeekView({ currentDate, events, onEventClick, onDateClick, conflicts }: any) {\n  const weekStart = new Date(currentDate)\n  weekStart.setDate(currentDate.getDate() - currentDate.getDay())\n\n  const weekDays = Array.from({ length: 7 }, (_, i) => {\n    const day = new Date(weekStart)\n    day.setDate(weekStart.getDate() + i)\n    return day\n  })\n\n  const hours = Array.from({ length: 12 }, (_, i) => i + 8)\n\n  return (\n    <div className=\"flex border rounded-lg overflow-hidden\">\n      <div className=\"w-16 border-r bg-gray-50\">\n        <div className=\"h-12 border-b\" />\n        {hours.map((hour) => (\n          <div key={hour} className=\"h-16 border-b text-xs text-gray-500 text-center pt-2\">\n            {hour}:00\n          </div>\n        ))}\n      </div>\n\n      <div className=\"flex-1 grid grid-cols-7\">\n        {weekDays.map((day, index) => (\n          <div key={index} className=\"border-r last:border-r-0\">\n            <div\n              className=\"h-12 border-b p-2 text-center cursor-pointer hover:bg-gray-50\"\n              onClick={() => onDateClick(day)}\n            >\n              <p className=\"text-xs text-gray-500\">{day.toLocaleDateString('en-US', { weekday: 'short' })}</p>\n              <p className={cn(\"text-sm font-medium\", day.toDateString() === new Date().toDateString() && \"text-blue-600\")}>\n                {day.getDate()}\n              </p>\n            </div>\n            <div className=\"relative\">\n              {hours.map((hour) => (\n                <DroppableHour\n                  key={hour}\n                  date={day}\n                  hour={hour}\n                  className=\"h-16 border-b\"\n                />\n              ))}\n\n              {events\n                .filter((event: CalendarEvent) => event.date.toDateString() === day.toDateString())\n                .map((event: CalendarEvent) => {\n                  const hour = event.date.getHours()\n                  const minute = event.date.getMinutes()\n                  const top = (hour - 8) * 64 + (minute / 60) * 64\n                  const height = (event.duration / 60) * 64\n                  const hasConflict = conflicts.find((e: CalendarEvent) => e.id === event.id)\n\n                  return (\n                    <DraggableEvent\n                      key={event.id}\n                      event={event}\n                      onClick={() => onEventClick(event)}\n                      hasConflict={hasConflict}\n                      style={{ top: `${top}px`, height: `${Math.max(height, 32)}px`, position: 'absolute' }}\n                    />\n                  )\n                })}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nfunction DayView({ currentDate, events, onEventClick, conflicts }: any) {\n  const hours = Array.from({ length: 14 }, (_, i) => i + 7)\n\n  const dayEvents = events.filter(\n    (event: CalendarEvent) => event.date.toDateString() === currentDate.toDateString()\n  ).sort((a: CalendarEvent, b: CalendarEvent) => a.date.getTime() - b.date.getTime())\n\n  return (\n    <div className=\"flex border rounded-lg overflow-hidden\">\n      <div className=\"w-20 border-r bg-gray-50\">\n        {hours.map((hour) => (\n          <div key={hour} className=\"h-20 border-b px-2 py-2 text-sm text-gray-600 text-right\">\n            {hour}:00\n          </div>\n        ))}\n      </div>\n\n      <div className=\"flex-1 relative\">\n        {hours.map((hour) => (\n          <DroppableHour\n            key={hour}\n            date={currentDate}\n            hour={hour}\n            className=\"h-20 border-b\"\n          />\n        ))}\n\n        {dayEvents.map((event: CalendarEvent) => {\n          const hour = event.date.getHours()\n          const minute = event.date.getMinutes()\n          const top = (hour - 7) * 80 + (minute / 60) * 80\n          const height = (event.duration / 60) * 80\n          const hasConflict = conflicts.find((e: CalendarEvent) => e.id === event.id)\n\n          return (\n            <DraggableEvent\n              key={event.id}\n              event={event}\n              onClick={() => onEventClick(event)}\n              hasConflict={hasConflict}\n              style={{ top: `${top}px`, height: `${Math.max(height, 40)}px`, position: 'absolute', left: '8px', right: '8px' }}\n            />\n          )\n        })}\n\n        {dayEvents.length === 0 && (\n          <div className=\"absolute inset-0 flex items-center justify-center text-gray-400\">\n            <p>No events scheduled for this day</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction AvailabilityView({ availability, onToggle, onSave }: any) {\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-blue-50 p-4 rounded-lg\">\n        <h3 className=\"font-medium text-blue-900 mb-2\">Set Your Availability</h3>\n        <p className=\"text-sm text-blue-700\">\n          Mark when you&apos;re available for classes. Students will only be able to book during these times.\n        </p>\n      </div>\n\n      <div className=\"space-y-4\">\n        {days.map((day, dayIndex) => (\n          <div key={day} className=\"border rounded-lg p-4\">\n            <h4 className=\"font-medium mb-3\">{day}</h4>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n              {availability\n                .filter((block: AvailabilityBlock) => block.dayOfWeek === dayIndex + 1)\n                .map((block: AvailabilityBlock) => (\n                  <div\n                    key={block.id}\n                    className={cn(\n                      \"p-3 rounded-lg border cursor-pointer transition-all\",\n                      block.isAvailable\n                        ? \"bg-green-50 border-green-200\"\n                        : \"bg-gray-50 border-gray-200 opacity-50\"\n                    )}\n                    onClick={() => onToggle(block.id)}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"font-medium\">{block.startTime} - {block.endTime}</span>\n                      {block.isAvailable ? (\n                        <CheckCircle2 className=\"w-5 h-5 text-green-500\" />\n                      ) : (\n                        <X className=\"w-5 h-5 text-gray-400\" />\n                      )}\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"flex justify-end gap-3\">\n        <Button variant=\"outline\">Cancel</Button>\n        <Button onClick={onSave} className=\"bg-gradient-to-r from-green-600 to-emerald-600\">\n          Save Availability\n        </Button>\n      </div>\n    </div>\n  )\n}\n\n// Batch Class Creation Modal Component\ninterface BatchClassModalProps {\n  open: boolean\n  onClose: () => void\n  onCreate: (events: CalendarEvent[]) => void\n}\n\nfunction BatchClassModal({ open, onClose, onCreate }: BatchClassModalProps) {\n  const [title, setTitle] = useState('')\n  const [subject, setSubject] = useState('Mathematics')\n  const [startDate, setStartDate] = useState(format(new Date(), 'yyyy-MM-dd'))\n  const [startTime, setStartTime] = useState('14:00')\n  const [duration, setDuration] = useState(60)\n  const [recurringPattern, setRecurringPattern] = useState<'daily' | 'weekly' | 'biweekly'>('weekly')\n  const [occurrences, setOccurrences] = useState(4)\n  const [maxStudents, setMaxStudents] = useState(20)\n  const [isOnline, setIsOnline] = useState(true)\n\n  const handleCreate = () => {\n    const newEvents: CalendarEvent[] = []\n    const baseDate = new Date(startDate)\n    const [hours, minutes] = startTime.split(':').map(Number)\n\n    for (let i = 0; i < occurrences; i++) {\n      const eventDate = new Date(baseDate)\n\n      if (recurringPattern === 'daily') {\n        eventDate.setDate(baseDate.getDate() + i)\n      } else if (recurringPattern === 'weekly') {\n        eventDate.setDate(baseDate.getDate() + (i * 7))\n      } else if (recurringPattern === 'biweekly') {\n        eventDate.setDate(baseDate.getDate() + (i * 14))\n      }\n\n      eventDate.setHours(hours, minutes, 0, 0)\n\n      const subjectColor = SUBJECTS.find(s => s.name === subject)?.color || 'bg-blue-500'\n\n      newEvents.push({\n        id: `batch-${Date.now()}-${i}`,\n        title: title || `${subject} Class`,\n        date: eventDate,\n        duration,\n        type: 'class',\n        status: 'scheduled',\n        subject,\n        maxStudents,\n        studentCount: 0,\n        isOnline,\n        color: subjectColor,\n        isRecurring: occurrences > 1,\n        recurringPattern: occurrences > 1 ? recurringPattern : undefined\n      })\n    }\n\n    onCreate(newEvents)\n    onClose()\n\n    // Reset form\n    setTitle('')\n    setOccurrences(4)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-lg\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <CalendarPlus className=\"w-5 h-5\" />\n            Batch Create Classes\n          </DialogTitle>\n          <DialogDescription>\n            Create multiple recurring classes at once\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Class Title</Label>\n              <Input\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                placeholder=\"e.g., Advanced Math\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Subject</Label>\n              <Select value={subject} onValueChange={setSubject}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {SUBJECTS.filter(s => s.name !== 'Office Hours').map(s => (\n                    <SelectItem key={s.name} value={s.name}>{s.name}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Start Date</Label>\n              <Input\n                type=\"date\"\n                value={startDate}\n                onChange={(e) => setStartDate(e.target.value)}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Start Time</Label>\n              <Input\n                type=\"time\"\n                value={startTime}\n                onChange={(e) => setStartTime(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Duration (min)</Label>\n              <Input\n                type=\"number\"\n                value={duration}\n                onChange={(e) => setDuration(Number(e.target.value))}\n                min={15}\n                step={15}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Max Students</Label>\n              <Input\n                type=\"number\"\n                value={maxStudents}\n                onChange={(e) => setMaxStudents(Number(e.target.value))}\n                min={1}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Occurrences</Label>\n              <Input\n                type=\"number\"\n                value={occurrences}\n                onChange={(e) => setOccurrences(Number(e.target.value))}\n                min={1}\n                max={52}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Recurring Pattern</Label>\n            <div className=\"flex gap-2\">\n              {(['weekly', 'biweekly', 'daily'] as const).map((pattern) => (\n                <Button\n                  key={pattern}\n                  type=\"button\"\n                  variant={recurringPattern === pattern ? 'default' : 'outline'}\n                  size=\"sm\"\n                  onClick={() => setRecurringPattern(pattern)}\n                  className=\"flex-1 capitalize\"\n                >\n                  {pattern === 'biweekly' ? 'Bi-weekly' : pattern}\n                </Button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n            <div className=\"flex items-center gap-2\">\n              <Video className=\"w-4 h-4 text-gray-500\" />\n              <span className=\"text-sm\">Online Class</span>\n            </div>\n            <Switch checked={isOnline} onCheckedChange={setIsOnline} />\n          </div>\n\n          <div className=\"p-3 bg-blue-50 rounded-lg text-sm\">\n            <p className=\"font-medium text-blue-900\">Preview</p>\n            <p className=\"text-blue-700\">\n              Will create <strong>{occurrences}</strong> {recurringPattern} classes\n              starting <strong>{format(new Date(startDate), 'MMM d, yyyy')}</strong>\n            </p>\n          </div>\n        </div>\n\n        <DialogFooter className=\"gap-2\">\n          <Button variant=\"outline\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button onClick={handleCreate} className=\"gap-2\">\n            <Copy className=\"w-4 h-4\" />\n            Create {occurrences} Classes\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}