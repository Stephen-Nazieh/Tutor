;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cdef7c2d-336e-d25b-b5fe-1394c7655269")}catch(e){}}();
module.exports=[414030,a=>{"use strict";let b=(0,a.i(293357).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],414030)},113098,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(494176);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},780444,a=>{"use strict";var b=a.i(741510);a.i(715631);var c=a.i(52419),d=a.i(260576),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,c.createSlot)(`Primitive.${e}`),g=b.forwardRef((a,b)=>{let{asChild:c,...g}=a;return(0,d.jsx)(c?f:e,{...g,ref:b})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{});a.s(["Primitive",()=>e])},479680,a=>{"use strict";let b=(0,a.i(293357).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],479680)},822133,a=>{"use strict";let b=(0,a.i(293357).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],822133)},192730,a=>{"use strict";let b=(0,a.i(293357).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],192730)},801728,a=>{"use strict";let b=(0,a.i(293357).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],801728)},792567,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},321493,a=>{"use strict";var b=a.i(741510),c=a.i(806462);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},395743,a=>{"use strict";let b=(0,a.i(293357).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],395743)},428125,a=>{"use strict";var b=a.i(741510);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},854931,a=>{"use strict";var b=a.i(741510);a.i(715631);var c=a.i(87411),d=a.i(260576),e=Symbol("radix.slottable");function f(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===e}var g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{var g,h;let i,j,k,l=(h=g=`Primitive.${e}`,(i=b.forwardRef((a,d)=>{let{children:e,...f}=a;if(b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=d?(0,c.composeRefs)(d,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${h}.SlotClone`,j=i,(k=b.forwardRef((a,c)=>{let{children:e,...g}=a,h=b.Children.toArray(e),i=h.find(f);if(i){let a=i.props.children,e=h.map(c=>c!==i?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,d.jsx)(j,{...g,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,e):null})}return(0,d.jsx)(j,{...g,ref:c,children:e})})).displayName=`${g}.Slot`,k),m=b.forwardRef((a,b)=>{let{asChild:c,...f}=a;return(0,d.jsx)(c?l:e,{...f,ref:b})});return m.displayName=`Primitive.${e}`,{...a,[e]:m}},{}),h=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),i=b.forwardRef((a,b)=>(0,d.jsx)(g.span,{...a,ref:b,style:{...h,...a.style}}));i.displayName="VisuallyHidden",a.s(["Root",()=>i,"VISUALLY_HIDDEN_STYLES",()=>h,"VisuallyHidden",()=>i],854931)},981354,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(494176);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 min-h-[44px] sm:min-h-0 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},529004,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(780444),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(453716),g=a.i(494176);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],529004)},763485,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(494176);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},950166,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(88684),e=a.i(113098),f=a.i(981354),g=a.i(529004),h=a.i(206209),i=a.i(763485),j=a.i(846438),k=a.i(479680),l=a.i(414030),m=a.i(192730),n=a.i(858901),o=a.i(822133),p=a.i(52028),q=a.i(494176);let r=[{value:"HITPAY",label:"HitPay",description:"Card, PayNow, and more"},{value:"AIRWALLEX",label:"Airwallex",description:"Global payments"}];function s({value:a="HITPAY",onChange:c,className:d,disabled:e=!1}){return(0,b.jsxs)("div",{className:(0,q.cn)("space-y-2",d),children:[(0,b.jsx)(g.Label,{children:"Payment method"}),(0,b.jsxs)(h.Select,{value:a,onValueChange:a=>c?.(a),disabled:e,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Choose payment method"})}),(0,b.jsx)(h.SelectContent,{children:r.map(a=>(0,b.jsxs)(h.SelectItem,{value:a.value,children:[a.label," — ",a.description]},a.value))})]})]})}let t=[{id:"math",name:"Mathematics"},{id:"physics",name:"Physics"},{id:"chemistry",name:"Chemistry"},{id:"biology",name:"Biology"},{id:"english",name:"English"},{id:"history",name:"History"}],u=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"];function w(){let[a,q]=(0,c.useState)(!0),[r,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)({bio:"",credentials:"",subjects:[],availability:{},hourlyRate:"",paidClassesEnabled:!1,paymentGatewayPreference:"HITPAY",currency:"SGD"});(0,c.useEffect)(()=>{fetch("/api/user/profile").then(a=>a.json()).then(a=>{a.profile&&y({bio:a.profile.bio||"",credentials:a.profile.credentials||"",subjects:a.profile.specialties||[],availability:a.profile.availability||{},hourlyRate:a.profile.hourlyRate?.toString()||"",paidClassesEnabled:!!a.profile.paidClassesEnabled,paymentGatewayPreference:"AIRWALLEX"===a.profile.paymentGatewayPreference?"AIRWALLEX":"HITPAY",currency:a.profile.currency||"SGD"}),q(!1)}).catch(a=>{console.error("Failed to load profile:",a),j.toast.error("Failed to load profile"),q(!1)})},[]);let z=async a=>{a.preventDefault(),w(!0);try{if((await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bio:x.bio,credentials:x.credentials,subjects:x.subjects,availability:x.availability,hourlyRate:parseFloat(x.hourlyRate)||0,paidClassesEnabled:x.paidClassesEnabled,paymentGatewayPreference:x.paymentGatewayPreference,currency:x.currency||null})})).ok)j.toast.success("Profile updated successfully");else throw Error("Failed to update profile")}catch(a){console.error(a),j.toast.error("Failed to update profile")}finally{w(!1)}};return a?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-green-500"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-12",children:[(0,b.jsx)("header",{className:"bg-white border-b shadow-sm sticky top-0 z-10 safe-top",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4",children:[(0,b.jsx)(p.default,{href:"/tutor/dashboard",children:(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(l.ArrowLeft,{className:"h-5 w-5"})})}),(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Tutor Settings"})]})}),(0,b.jsx)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Professional Profile"}),(0,b.jsx)(e.CardDescription,{children:"Manage your public teaching profile and rates"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:z,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bio",children:"Bio"}),(0,b.jsx)(i.Textarea,{id:"bio",value:x.bio,onChange:a=>y({...x,bio:a.target.value}),placeholder:"Tell students about your experience...",className:"min-h-[120px]"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"credentials",children:"Credentials"}),(0,b.jsx)(f.Input,{id:"credentials",value:x.credentials,onChange:a=>y({...x,credentials:a.target.value}),placeholder:"PhD in Mathematics, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"mb-3 block",children:"Subjects You Teach"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:t.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void y(a=>({...a,subjects:a.subjects.includes(b)?a.subjects.filter(a=>a!==b):[...a.subjects,b]}))},className:`p-3 rounded-lg border text-left flex items-center gap-2 transition-colors ${x.subjects.includes(a.id)?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:(0,b.jsx)("span",{className:"text-sm font-medium",children:a.name})},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"mb-3 block",children:"Weekly Availability"}),(0,b.jsx)("div",{className:"space-y-4 border rounded-lg p-4 max-h-[400px] overflow-y-auto",children:u.map(a=>(0,b.jsxs)("div",{className:"border-b pb-4 last:border-0 last:pb-0",children:[(0,b.jsx)("h4",{className:"font-medium mb-2 text-sm text-gray-700",children:a}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map(c=>(0,b.jsx)("button",{type:"button",onClick:()=>{y(b=>{let d=b.availability[a]||[],e=d.includes(c)?d.filter(a=>a!==c):[...d,c];return{...b,availability:{...b.availability,[a]:e}}})},className:`px-2 py-1 text-xs rounded border transition-colors ${x.availability[a]?.includes(c)?"bg-green-500 text-white border-green-500":"border-gray-100 hover:border-green-300"}`,children:c},c))})]},a))})]}),(0,b.jsxs)("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-base font-medium",children:"Paid classes"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Allow students to pay for your classes (hourly rate × duration)"})]}),(0,b.jsx)("button",{type:"button",role:"switch","aria-checked":x.paidClassesEnabled,onClick:()=>y(a=>({...a,paidClassesEnabled:!a.paidClassesEnabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${x.paidClassesEnabled?"bg-green-600":"bg-gray-200"}`,children:(0,b.jsx)("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-transform ${x.paidClassesEnabled?"translate-x-5":"translate-x-1"}`})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.Label,{htmlFor:"hourlyRate",className:"whitespace-nowrap",children:"Default hourly rate (SGD)"}),(0,b.jsxs)("div",{className:"relative max-w-[150px]",children:[(0,b.jsx)(n.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,b.jsx)(f.Input,{id:"hourlyRate",type:"number",min:0,step:.01,value:x.hourlyRate,onChange:a=>y({...x,hourlyRate:a.target.value}),className:"pl-9 font-bold"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(o.CreditCard,{className:"h-4 w-4 text-gray-500"}),(0,b.jsx)(g.Label,{className:"text-base font-medium",children:"Payment gateway preference"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Used when you create paid classes (can be overridden per class later)"}),(0,b.jsx)(s,{value:x.paymentGatewayPreference,onChange:a=>y(b=>({...b,paymentGatewayPreference:a}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"currency",className:"text-base font-medium",children:"Currency"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Default currency for your paid classes"}),(0,b.jsxs)(h.Select,{value:x.currency,onValueChange:a=>y(b=>({...b,currency:a})),children:[(0,b.jsx)(h.SelectTrigger,{id:"currency",className:"max-w-[140px]",children:(0,b.jsx)(h.SelectValue,{placeholder:"Currency"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"SGD",children:"SGD"}),(0,b.jsx)(h.SelectItem,{value:"USD",children:"USD"}),(0,b.jsx)(h.SelectItem,{value:"EUR",children:"EUR"}),(0,b.jsx)(h.SelectItem,{value:"GBP",children:"GBP"}),(0,b.jsx)(h.SelectItem,{value:"CNY",children:"CNY"})]})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsx)(d.Button,{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Save,{className:"mr-2 h-4 w-4"}),"Save Profile"]})})})]})})]})})})]})}a.s(["default",()=>w],950166)}];

//# debugId=cdef7c2d-336e-d25b-b5fe-1394c7655269
//# sourceMappingURL=ADK_WORKSPACE_TutorMekimi_tutorme-app_b172e998._.js.map