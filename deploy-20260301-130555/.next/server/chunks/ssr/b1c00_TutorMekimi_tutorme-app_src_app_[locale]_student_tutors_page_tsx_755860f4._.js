;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b4ab9fb2-33ff-3d3c-c55a-8bc252e08c18")}catch(e){}}();
module.exports=[238692,a=>{"use strict";var b=a.i(260576),c=a.i(741510),d=a.i(52028),e=a.i(454069),f=a.i(164504),g=a.i(333340),h=a.i(88684),i=a.i(113098),j=a.i(263805),k=a.i(981354),l=a.i(206209),m=a.i(135154),n=a.i(393890),o=a.i(458588),p=a.i(226886),q=a.i(562117),r=a.i(897541),s=a.i(846438);function t(a){return a.split(" ").map(a=>a[0]||"").join("").slice(0,2).toUpperCase()}function u({rating:a,count:c}){return(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(q.Star,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),(0,b.jsx)("span",{className:"font-medium",children:a.toFixed(1)}),void 0!==c&&(0,b.jsxs)("span",{className:"text-muted-foreground text-sm",children:["(",c,")"]})]})}function v(){let a,v=(0,e.useParams)(),w="string"==typeof v?.locale?v.locale:"en",[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)("popular"),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)("db"),[N,O]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{let a=localStorage.getItem("tutorme-favorites");if(a)try{let b=JSON.parse(a);O(new Set(b.tutors||[]))}catch{}},[]);let P=a=>{O(b=>{let c=new Set(b);c.has(a)?(c.delete(a),s.toast.success("Removed from favorites")):(c.add(a),s.toast.success("Added to favorites"));let d=localStorage.getItem("tutorme-favorites"),e=d?JSON.parse(d):{tutors:[],courses:[]};return e.tutors=Array.from(c),localStorage.setItem("tutorme-favorites",JSON.stringify(e)),c})};(0,c.useEffect)(()=>{let a=!0;return(async()=>{y(!0);try{let b=new URLSearchParams;D.trim()&&b.set("q",D.trim()),"all"!==F&&b.set("subject",F),b.set("sort",H);let c=await fetch(`/api/public/tutors?${b.toString()}`,{credentials:"include",cache:"no-store"});if(!c.ok)throw Error("Failed to load tutors");let d=await c.json();if(!a)return;let e=(Array.isArray(d?.tutors)?d.tutors:[]).map(a=>({...a,averageRating:4.5+.5*Math.random(),totalReviewCount:Math.floor(100*Math.random())+10,coursePreview:a.coursePreview.map(a=>({...a,rating:4.2+.8*Math.random(),reviewCount:Math.floor(50*Math.random())+5,price:a.price||Math.floor(100*Math.random())+50,currency:a.currency||"USD"}))}));A(e),C(Array.isArray(d?.availableSubjects)?d.availableSubjects:[]),M(d?.source==="mock"?"mock":"db")}catch{if(!a)return;A([]),M("db")}finally{a&&y(!1)}})(),()=>{a=!1}},[D,F,H]);let Q=(0,c.useMemo)(()=>{let a=z.reduce((a,b)=>a+b.courseCount,0),b=z.reduce((a,b)=>a+b.totalEnrollments,0);return{tutorCount:z.length,totalCourses:a,totalEnrollments:b}},[z]);return(0,b.jsxs)("div",{className:"mx-auto w-full max-w-7xl space-y-6 p-4 sm:p-6",children:[(0,b.jsxs)(i.Card,{className:"overflow-hidden border-0 shadow-sm",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-sky-50 via-cyan-50 to-emerald-50 p-6 sm:p-8",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 sm:text-3xl",children:"Find Your Tutor"}),(0,b.jsx)("p",{className:"max-w-2xl text-sm text-slate-700",children:"Explore tutor profiles, compare subjects and courses, and open any tutor profile instantly."})]}),(0,b.jsx)(h.Button,{asChild:!0,children:(0,b.jsxs)(d.default,{href:`/${w}/student/courses`,children:[(0,b.jsx)(m.Compass,{className:"mr-2 h-4 w-4"}),"Go to Courses"]})})]})}),(0,b.jsxs)(i.CardContent,{className:"grid gap-3 p-4 sm:grid-cols-3 sm:p-6",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Tutors"}),(0,b.jsx)("p",{className:"mt-1 text-xl font-semibold text-slate-900",children:Q.tutorCount})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Published Courses"}),(0,b.jsx)("p",{className:"mt-1 text-xl font-semibold text-slate-900",children:Q.totalCourses})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-3",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Enrollments"}),(0,b.jsx)("p",{className:"mt-1 text-xl font-semibold text-slate-900",children:Q.totalEnrollments})]})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{children:"Search & Filter"}),(0,b.jsxs)(i.CardDescription,{children:["Refine by keywords, subject, and ranking.","mock"===L?" Showing demo tutors right now.":""]})]}),(0,b.jsxs)(i.CardContent,{className:"grid gap-3 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Search,{className:"pointer-events-none absolute left-3 top-3.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(k.Input,{value:D,onChange:a=>E(a.target.value),placeholder:"Search tutor, subject, specialty...",className:"pl-9"})]}),(0,b.jsxs)(l.Select,{value:F,onValueChange:G,children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Filter by subject"})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"all",children:"All Subjects"}),B.map(a=>(0,b.jsx)(l.SelectItem,{value:a.toLowerCase(),children:a},a))]})]}),(0,b.jsxs)(l.Select,{value:H,onValueChange:a=>I(a),children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Sort by"})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"popular",children:"Most Popular"}),(0,b.jsx)(l.SelectItem,{value:"newest",children:"Recently Updated"}),(0,b.jsx)(l.SelectItem,{value:"courses",children:"Most Courses"}),(0,b.jsx)(l.SelectItem,{value:"rate",children:"Highest Rated"})]})]})]})]}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:x?Array.from({length:6}).map((a,c)=>(0,b.jsxs)(i.Card,{className:"animate-pulse",children:[(0,b.jsxs)(i.CardHeader,{className:"space-y-3",children:[(0,b.jsx)("div",{className:"h-6 w-2/3 rounded bg-muted"}),(0,b.jsx)("div",{className:"h-4 w-1/2 rounded bg-muted"})]}),(0,b.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,b.jsx)("div",{className:"h-4 rounded bg-muted"}),(0,b.jsx)("div",{className:"h-4 rounded bg-muted"})]})]},`loading-${c}`)):0===z.length?(0,b.jsx)(i.Card,{className:"col-span-full",children:(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsx)(i.CardTitle,{children:"No tutors match your current filters"}),(0,b.jsx)(i.CardDescription,{children:"Try broadening search terms or selecting a different subject."})]})}):z.map(a=>(0,b.jsxs)(i.Card,{className:"h-full transition-all hover:-translate-y-0.5 hover:shadow-md cursor-pointer relative",onClick:()=>K(a),children:[(0,b.jsx)("button",{type:"button",onClick:b=>{b.stopPropagation(),P(a.id)},className:"absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-muted transition-colors",children:(0,b.jsx)(r.Heart,{className:`h-5 w-5 ${N.has(a.id)?"fill-red-500 text-red-500":"text-muted-foreground"}`})}),(0,b.jsxs)(i.CardHeader,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsxs)(f.Avatar,{className:"h-12 w-12 border",children:[(0,b.jsx)(f.AvatarImage,{src:a.avatarUrl||void 0,alt:`${a.name} avatar`}),(0,b.jsx)(f.AvatarFallback,{children:t(a.name)})]}),(0,b.jsxs)("div",{className:"min-w-0 flex-1 pr-8",children:[(0,b.jsx)(i.CardTitle,{className:"truncate text-lg",children:a.name}),(0,b.jsxs)(i.CardDescription,{children:["@",a.username]})]})]}),(0,b.jsx)("p",{className:"line-clamp-2 text-sm text-slate-600",children:a.bio||"Experienced tutor ready to help you improve quickly."})]}),(0,b.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:a.averageRating&&(0,b.jsx)(u,{rating:a.averageRating,count:a.totalReviewCount})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.subjects.slice(0,3).map(c=>(0,b.jsx)(g.Badge,{variant:"secondary",children:c},`${a.id}:${c}`)),a.subjects.length>3?(0,b.jsxs)(g.Badge,{variant:"outline",children:["+",a.subjects.length-3]}):null]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,b.jsxs)("div",{className:"rounded-md border p-2",children:[(0,b.jsx)("p",{className:"text-slate-500",children:"Courses"}),(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:a.courseCount})]}),(0,b.jsxs)("div",{className:"rounded-md border p-2",children:[(0,b.jsx)("p",{className:"text-slate-500",children:"Enrollments"}),(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:a.totalEnrollments})]})]})]})]},a.id))}),(0,b.jsx)(j.Dialog,{open:!!J,onOpenChange:a=>!a&&K(null),children:(0,b.jsx)(j.DialogContent,{className:"max-h-[88vh] overflow-y-auto sm:max-w-3xl",children:J?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsxs)(j.DialogTitle,{className:"flex items-center gap-3",children:[(0,b.jsxs)(f.Avatar,{className:"h-10 w-10 border",children:[(0,b.jsx)(f.AvatarImage,{src:J.avatarUrl||void 0,alt:`${J.name} avatar`}),(0,b.jsx)(f.AvatarFallback,{children:t(J.name)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{children:J.name}),J.averageRating&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm font-normal",children:[(0,b.jsx)(q.Star,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),(0,b.jsx)("span",{children:J.averageRating.toFixed(1)}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["(",J.totalReviewCount," reviews)"]})]})]})]}),(0,b.jsxs)(j.DialogDescription,{children:["@",J.username]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg border bg-muted/20 p-3 text-sm text-slate-700",children:J.bio||"No bio provided yet."}),(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-md border p-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Courses"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:J.courseCount})]}),(0,b.jsxs)("div",{className:"rounded-md border p-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Enrollments"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:J.totalEnrollments})]}),(0,b.jsxs)("div",{className:"rounded-md border p-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Rating"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:J.averageRating?.toFixed(1)||"N/A"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"mb-2 text-sm font-medium text-slate-900",children:"Specialties"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:(J.specialties.length>0?J.specialties:["General Tutoring"]).map(a=>(0,b.jsxs)(g.Badge,{variant:"secondary",children:[(0,b.jsx)(p.Sparkles,{className:"mr-1 h-3 w-3"}),a]},`${J.id}:${a}`))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Subjects & Courses"}),(a=new Map,J.coursePreview.forEach(b=>{let c=a.get(b.subject)||[];c.push(b),a.set(b.subject,c)}),Array.from(a.entries()).map(([a,b])=>({name:a,courses:b,averageRate:b.reduce((a,b)=>a+(b.price||0),0)/b.length,averageRating:b.reduce((a,b)=>a+(b.rating||0),0)/b.length,totalReviews:b.reduce((a,b)=>a+(b.reviewCount||0),0)}))).map(a=>(0,b.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Badge,{variant:"secondary",children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.courses.length," courses"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,b.jsx)(u,{rating:a.averageRating,count:a.totalReviews}),(0,b.jsxs)("span",{className:"font-medium text-slate-900",children:["$",a.averageRate.toFixed(0),"/course"]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[a.courses.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-700",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(u,{rating:a.rating||0,count:a.reviewCount}),(0,b.jsxs)("span",{className:"text-slate-900 font-medium",children:["$",a.price,a.currency]})]})]},a.id)),a.courses.length>3&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",a.courses.length-3," more courses"]})]})]},a.name))]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(h.Button,{asChild:!0,children:(0,b.jsxs)(d.default,{href:`/${w}/u/${J.username}`,target:"_blank",children:["Open Full Public Page",(0,b.jsx)(n.ExternalLink,{className:"ml-2 h-4 w-4"})]})}),(0,b.jsxs)(h.Button,{variant:"outline",onClick:()=>P(J.id),children:[(0,b.jsx)(r.Heart,{className:`mr-2 h-4 w-4 ${N.has(J.id)?"fill-red-500 text-red-500":""}`}),N.has(J.id)?"Favorited":"Add to Favorites"]})]})]})]}):null})})]})}a.s(["default",()=>v])}];

//# debugId=b4ab9fb2-33ff-3d3c-c55a-8bc252e08c18
//# sourceMappingURL=b1c00_TutorMekimi_tutorme-app_src_app_%5Blocale%5D_student_tutors_page_tsx_755860f4._.js.map