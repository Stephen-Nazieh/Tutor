;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9b26f5a0-018a-1d90-5a7d-8117454d5487")}catch(e){}}();
module.exports=[233405,(e,t,r)=>{t.exports=e.x("child_process",()=>require("child_process"))},14548,e=>{"use strict";var t=e.i(233405);let r={python:"python:3.11-slim",javascript:"node:20-slim"};async function n(e,n){if(n.length>16384)return{stdout:"",stderr:"",exitCode:null,timedOut:!1,error:"Code exceeds maximum length (16384 characters)."};let o=["run","--rm","-i","--network=none","--memory=128m","--cpus=0.5","--read-only","--security-opt=no-new-privileges",r[e],...function(e){switch(e){case"python":return["python","-c","import sys; exec(sys.stdin.read())"];case"javascript":return["node","-e","const fs=require('fs');const s=fs.readFileSync('/dev/stdin','utf8');eval(s);"];default:return[]}}(e)];return new Promise(e=>{let r=!1,i=t=>{r||(r=!0,clearTimeout(d),e(t))},s=(0,t.spawn)("docker",o,{stdio:["pipe","pipe","pipe"]}),l="",u="",d=setTimeout(()=>{s.kill("SIGKILL"),i({stdout:l,stderr:u,exitCode:null,timedOut:!0,error:"Execution timed out."})},15e3);s.stdout?.on("data",e=>{l+=e.toString()}),s.stderr?.on("data",e=>{u+=e.toString()}),s.on("error",e=>{i({stdout:"",stderr:"",exitCode:null,timedOut:!1,error:e.message||"Failed to run Docker."})}),s.on("close",e=>{i({stdout:a(l,32768),stderr:a(u,32768),exitCode:e,timedOut:!1})}),s.stdin?.write(n,e=>{e?i({stdout:"",stderr:"",exitCode:null,timedOut:!1,error:e.message}):s.stdin?.end()})})}function a(e,t){return e.length<=t?e:e.slice(0,t)+"\n...[output truncated]"}e.s(["runInSandbox",()=>n])},357531,e=>e.a(async(t,r)=>{try{var n=e.i(620971),a=e.i(384030),o=e.i(14548),i=e.i(841195),s=t([a]);[a]=s.then?(await s)():s;let u=i.z.object({language:i.z.enum(["python","javascript"]),code:i.z.string().min(1).max(16384)});async function l(e){let t,r=await (0,a.requireCsrf)(e);if(r)return r;let{response:i}=await (0,a.withRateLimit)(e,30);if(i)return i;try{t=await e.json()}catch{return n.NextResponse.json({error:"Invalid JSON body"},{status:400})}let s=u.safeParse(t);if(!s.success)return n.NextResponse.json({error:"Invalid request",details:s.error.flatten()},{status:400});let{language:l,code:d}=s.data;try{let e=await (0,o.runInSandbox)(l,d);return n.NextResponse.json({stdout:e.stdout,stderr:e.stderr,exitCode:e.exitCode,timedOut:e.timedOut,error:e.error??void 0})}catch(e){return console.error("[code/run]",e),n.NextResponse.json({error:"Code execution failed"},{status:500})}}let d=(0,a.withAuth)(l);e.s(["POST",0,d]),r()}catch(e){r(e)}},!1),363287,e=>e.a(async(t,r)=>{try{var n=e.i(78315),a=e.i(586961),o=e.i(196657),i=e.i(899733),s=e.i(233979),l=e.i(631683),u=e.i(840960),d=e.i(711373),c=e.i(699699),p=e.i(521140),h=e.i(205260),m=e.i(500249),R=e.i(431740),v=e.i(82608),f=e.i(635207),x=e.i(193695);e.i(708038);var w=e.i(447430),y=e.i(357531),g=t([y]);[y]=g.then?(await g)():g;let E=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/code/run/route",pathname:"/api/code/run",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/ADK_WORKSPACE/TutorMekimi/tutorme-app/src/app/api/code/run/route.ts",nextConfigOutput:"",userland:y}),{workAsyncStorage:A,workUnitAsyncStorage:O,serverHooks:P}=E;function C(){return(0,o.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:O})}async function _(e,t,r){E.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let n="/api/code/run/route";n=n.replace(/\/index$/,"")||"/";let o=await E.prepare(e,t,{srcPage:n,multiZoneDraftMode:!1});if(!o)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:y,params:g,nextConfig:C,parsedUrl:_,isDraftMode:A,prerenderManifest:O,routerServerContext:P,isOnDemandRevalidate:T,revalidateOnlyGenerated:S,resolvedPathname:b,clientReferenceManifest:N,serverActionsManifest:k}=o,I=(0,u.normalizeAppPath)(n),j=!!(O.dynamicRoutes[I]||O.routes[b]),q=async()=>((null==P?void 0:P.render404)?await P.render404(e,t,_,!1):t.end("This page could not be found"),null);if(j&&!A){let e=!!O.routes[b],t=O.dynamicRoutes[I];if(t&&!1===t.fallback&&!e){if(C.experimental.adapterPath)return await q();throw new x.NoFallbackError}}let H=null;!j||E.isDev||A||(H=b,H="/index"===H?"/":H);let D=!0===E.isDev||!j,U=j&&!D;k&&N&&(0,l.setManifestsSingleton)({page:n,clientReferenceManifest:N,serverActionsManifest:k});let M=e.method||"GET",K=(0,s.getTracer)(),F=K.getActiveScopeSpan(),$={params:g,prerenderManifest:O,renderOpts:{experimental:{authInterrupts:!!C.experimental.authInterrupts},cacheComponents:!!C.cacheComponents,supportsDynamicResponse:D,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:C.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n,a)=>E.onRequestError(e,t,n,a,P)},sharedContext:{buildId:y}},L=new d.NodeNextRequest(e),B=new d.NodeNextResponse(t),z=c.NextRequestAdapter.fromNodeNextRequest(L,(0,c.signalFromNodeResponse)(t));try{let o=async e=>E.handle(z,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=K.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==p.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${M} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${M} ${n}`)}),l=!!(0,i.getRequestMeta)(e,"minimalMode"),u=async i=>{var s,u;let d=async({previousCacheEntry:a})=>{try{if(!l&&T&&S&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await o(i);e.fetchMetrics=$.renderOpts.fetchMetrics;let s=$.renderOpts.pendingWaitUntil;s&&r.waitUntil&&(r.waitUntil(s),s=void 0);let u=$.renderOpts.collectedTags;if(!j)return await (0,m.sendResponse)(L,B,n,$.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,R.toNodeOutgoingHttpHeaders)(n.headers);u&&(t[f.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,a=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:w.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==a?void 0:a.isStale)&&await E.onRequestError(e,t,{routerKind:"App Router",routePath:n,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:T})},!1,P),t}},c=await E.handleResponse({req:e,nextConfig:C,cacheKey:H,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:O,isRoutePPREnabled:!1,isOnDemandRevalidate:T,revalidateOnlyGenerated:S,responseGenerator:d,waitUntil:r.waitUntil,isMinimalMode:l});if(!j)return null;if((null==c||null==(s=c.value)?void 0:s.kind)!==w.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(u=c.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});l||t.setHeader("x-nextjs-cache",T?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),A&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let p=(0,R.fromNodeOutgoingHttpHeaders)(c.value.headers);return l&&j||p.delete(f.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||p.get("Cache-Control")||p.set("Cache-Control",(0,v.getCacheControlHeader)(c.cacheControl)),await (0,m.sendResponse)(L,B,new Response(c.value.body,{headers:p,status:c.value.status||200})),null};F?await u(F):await K.withPropagatedContext(e.headers,()=>K.trace(p.BaseServerSpan.handleRequest,{spanName:`${M} ${n}`,kind:s.SpanKind.SERVER,attributes:{"http.method":M,"http.target":e.url}},u))}catch(t){if(t instanceof x.NoFallbackError||await E.onRequestError(e,t,{routerKind:"App Router",routePath:I,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:T})},!1,P),j)throw t;return await (0,m.sendResponse)(L,B,new Response(null,{status:500})),null}}e.s(["handler",()=>_,"patchFetch",()=>C,"routeModule",()=>E,"serverHooks",()=>P,"workAsyncStorage",()=>A,"workUnitAsyncStorage",()=>O]),r()}catch(e){r(e)}},!1),412171,e=>{e.v(t=>Promise.all(["server/chunks/b1c00_TutorMekimi_tutorme-app_src_lib_security_suspicious-activity_ts_7865686f._.js"].map(t=>e.l(t))).then(()=>t(145830)))},443460,e=>{e.v(t=>Promise.all(["server/chunks/[externals]_ioredis_c74819ca._.js"].map(t=>e.l(t))).then(()=>t(693545)))},571363,e=>{e.v(t=>Promise.all(["server/chunks/ADK_WORKSPACE_TutorMekimi_tutorme-app_src_lib_security_api-key_ts_45091e81._.js"].map(t=>e.l(t))).then(()=>t(175922)))}];

//# debugId=9b26f5a0-018a-1d90-5a7d-8117454d5487
//# sourceMappingURL=%5Broot-of-the-server%5D__3fa3082d._.js.map